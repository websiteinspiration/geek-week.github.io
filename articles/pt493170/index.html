<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåì ü§õüèª üë©üèª‚Äçü§ù‚Äçüë®üèΩ Vers√£o Werf 1.1: melhorias no colecionador hoje e planos para o futuro üèä ‚óºÔ∏è üÉè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf √© nosso utilit√°rio GitOps CLI de c√≥digo aberto para criar e entregar aplicativos ao Kubernetes. Como prometido, o lan√ßamento da v1.0 marcou o in√≠...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Vers√£o Werf 1.1: melhorias no colecionador hoje e planos para o futuro</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493170/"><img src="https://habrastorage.org/webt/rv/bh/ky/rvbhkysbvfjn8ykkze1srkpmsha.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© nosso utilit√°rio GitOps CLI de c√≥digo aberto para criar e entregar aplicativos ao Kubernetes. Como prometido, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lan√ßamento da v1.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> marcou o in√≠cio da adi√ß√£o de novos recursos ao werf e da revis√£o de abordagens familiares. Agora temos o prazer de lan√ßar a v1.1, que √© um grande passo no desenvolvimento e no futuro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werf </font><i><font style="vertical-align: inherit;">coletor</font></i><font style="vertical-align: inherit;"> . A vers√£o est√° atualmente dispon√≠vel no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canal 1.1 ea</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A base do release √© a nova arquitetura do armazenamento de palco e a otimiza√ß√£o do trabalho de ambos os coletores (para Stapel e Dockerfile). A nova arquitetura de armazenamento abre a possibilidade de implementar assemblies distribu√≠dos de v√°rios hosts e assemblies paralelos em um √∫nico host.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A otimiza√ß√£o do trabalho inclui a elimina√ß√£o de c√°lculos desnecess√°rios no est√°gio de c√°lculo de assinaturas de est√°gio e a altera√ß√£o dos mecanismos de c√°lculo das somas de verifica√ß√£o de arquivo para outras mais eficientes. Essa otimiza√ß√£o reduz o tempo m√©dio de constru√ß√£o de um projeto usando werf. E as constru√ß√µes inativas, quando todos os est√°gios existem no cache de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">armazenamento de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , agora s√£o muito r√°pidas. Na maioria dos casos, reiniciar a montagem ser√° mais r√°pido que em 1 segundo! Isso tamb√©m se aplica aos procedimentos para verificar etapas durante o trabalho de equipes </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>werf run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m nesta vers√£o, havia uma estrat√©gia para marcar imagens por conte√∫do - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marca√ß√£o baseada em conte√∫do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que agora est√° ativada por padr√£o e √© a √∫nica recomendada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos examinar mais de perto as principais inova√ß√µes do werf v1.1 e, ao mesmo tempo, falar sobre planos para o futuro.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que mudou no werf v1.1?</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novo formato de nomea√ß√£o de est√°gio e algoritmo de sele√ß√£o de est√°gio de cache</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nova regra de gera√ß√£o de nome de est√°gio. </font><font style="vertical-align: inherit;">Agora, cada montagem do est√°gio gera um nome de est√°gio exclusivo, que consiste em 2 partes: uma assinatura (como na v1.0) mais um identificador tempor√°rio exclusivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, o nome completo da imagem do palco pode ser assim: </font></font><br>
<br>
<code>werf-stages-storage/myproject:d2c5ad3d2c9fcd9e57b50edd9cb26c32d156165eb355318cebc3412b-1582656767835</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... ou em geral: </font></font><br>
<br>
<code>werf-stages-storage/PROJECT:SIGNATURE-TIMESTAMP_MILLISEC</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui:</font></font><br>
<br>
<ul>
<li> <code>SIGNATURE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - esta √© a assinatura do palco, que representa o identificador do conte√∫do do palco e depende do hist√≥rico de edi√ß√µes no Git que levaram a esse conte√∫do;</font></font></li>
<li> <code>TIMESTAMP_MILLISEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Isso garante um identificador exclusivo para a imagem gerada no momento da montagem da nova imagem.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo para selecionar est√°gios do cache √© baseado na verifica√ß√£o do relacionamento dos commit do Git:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Werf calcula a assinatura de algum est√°gio.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">armazenamento de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pode haver v√°rios est√°gios para uma determinada assinatura. </font><font style="vertical-align: inherit;">Werf seleciona todos os est√°gios adequados para a assinatura.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o estado actual est√° associada com GIT (git-arquivo, passo utilizador c git-manchas: </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>beforeSetup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou git-√∫ltima-adesivo), em seguida, Werf selecciona apenas os passos que se referem a cometer, que √© o antepassado da corrente cometer (para a qual causada conjunto )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dos est√°gios adequados restantes, um √© selecionado - o mais antigo por data de cria√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um est√°gio para diferentes ramifica√ß√µes do Git pode ter a mesma assinatura. </font><font style="vertical-align: inherit;">Mas o werf impedir√° o uso de um cache associado a diferentes ramifica√ß√µes entre essas ramifica√ß√µes, mesmo que as assinaturas correspondam. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novo algoritmo para criar e salvar est√°gios no armazenamento de est√°gios</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o werf n√£o encontrar um est√°gio adequado durante a sele√ß√£o de est√°gios do cache, o processo de montagem de um novo est√°gio ser√° iniciado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que v√°rios processos (em um ou mais hosts) podem come√ßar a montar o mesmo est√°gio aproximadamente ao mesmo tempo. </font><font style="vertical-align: inherit;">O Werf usa o algoritmo de bloqueio otimista de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">armazenamento de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> quando uma imagem rec√©m-coletada √© armazenada no armazenamento de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Assim, quando a montagem do novo est√°gio estiver pronta, o werf bloqueia o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">armazenamento</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dos </font><i><font style="vertical-align: inherit;">est√°gios</font></i><font style="vertical-align: inherit;"> e salva a imagem rec√©m-coletada apenas se n√£o houver uma imagem adequada </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(para a assinatura e outros par√¢metros - consulte o novo algoritmo para selecionar os est√°gios do cache)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â garantido que uma imagem rec√©m-escolhida tenha um identificador exclusivo </font></font><code>TIMESTAMP_MILLISEC</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(consulte o novo formato de nomea√ß√£o de est√°gio)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se </font><font style="vertical-align: inherit;">uma imagem adequada for encontrada </font><font style="vertical-align: inherit;">no </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">armazenamento de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o werf descartar√° a imagem rec√©m-coletada e usar√° a imagem do cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em outras palavras: o primeiro processo que concluir a coleta da imagem (o mais r√°pido) receber√° o direito de salv√°-la no armazenamento de est√°gios (e, em seguida, essa imagem em particular ser√° usada para todas as montagens). </font><font style="vertical-align: inherit;">Um processo lento de montagem nunca impedir√° que um processo mais r√°pido salve os resultados da montagem do est√°gio atual e prossiga para a pr√≥xima montagem. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desempenho aprimorado do coletor do Dockerfile</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento, o pipeline do est√°gio para uma imagem compilada do Dockerfile consiste em um est√°gio - </font></font><code>dockerfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ao calcular a assinatura, √© considerada a soma de verifica√ß√£o dos arquivos </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que ser√° usada durante a montagem. Antes dessa melhoria, o werf atravessava recursivamente todos os arquivos e recebia uma soma de verifica√ß√£o, resumindo o contexto e o modo de cada arquivo. A partir da v1.1, o werf pode usar as somas de verifica√ß√£o calculadas armazenadas no reposit√≥rio Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo √© baseado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git ls-tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O algoritmo leva em considera√ß√£o as entradas </font></font><code>.dockerignore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e passa recursivamente pela √°rvore de arquivos somente se necess√°rio. Assim, nos livramos da leitura do sistema de arquivos, e a depend√™ncia do algoritmo no tamanho </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o </font><font style="vertical-align: inherit;">√© </font><font style="vertical-align: inherit;">significativa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo tamb√©m verifica arquivos n√£o rastreados e, se necess√°rio, leva-os em considera√ß√£o na soma de verifica√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desempenho aprimorado ao importar arquivos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf v1.1 usa o servidor rsync ao </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">importar arquivos de artefatos e imagens</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anteriormente, a importa√ß√£o era realizada em duas etapas usando a montagem do diret√≥rio a partir do sistema host. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O desempenho da importa√ß√£o no macOS n√£o est√° mais limitado aos volumes do Docker, e as importa√ß√µes s√£o feitas ao mesmo tempo que o Linux e o Windows.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etiquetagem baseada em conte√∫do</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf v1.1 suporta a chamada marca√ß√£o pelo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conte√∫do da</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> imagem - </font><i><font style="vertical-align: inherit;">marca√ß√£o baseada em conte√∫do</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">As tags para as imagens resultantes do Docker dependem do conte√∫do dessas imagens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando voc√™ executa o </font><font style="vertical-align: inherit;">comando </font></font><code>werf publish --tags-by-stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, as imagens publicadas da chamada </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinatura do est√°gio de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> imagem </font><font style="vertical-align: inherit;">ser√£o testadas </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cada imagem √© marcada com sua pr√≥pria assinatura dos est√°gios desta imagem, calculada de acordo com as mesmas regras da assinatura regular de cada est√°gio separadamente, mas √© um identificador generalizado da imagem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A assinatura dos est√°gios da imagem depende de:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o conte√∫do desta imagem;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hist√≥rico de revis√µes do Git que levaram a este conte√∫do.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os reposit√≥rios Git sempre t√™m confirma√ß√µes inativas que n√£o modificam o conte√∫do dos arquivos de imagem. Por exemplo, confirma apenas com coment√°rios ou confirma mesclagem ou confirma que alteram os arquivos no Git que n√£o ser√£o importados para a imagem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O uso da marca√ß√£o baseada em conte√∫do resolve o problema de reinicializa√ß√µes desnecess√°rias dos pods de aplicativos no Kubernetes devido a altera√ß√µes no nome da imagem, mesmo que o conte√∫do da imagem n√£o tenha sido alterado. A prop√≥sito, esse √© um dos motivos que dificulta o armazenamento de muitos microsservi√ßos de um aplicativo em um √∫nico reposit√≥rio Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, a marca√ß√£o baseada em conte√∫do √© um m√©todo de marca√ß√£o mais confi√°vel do que a marca√ß√£o pelas ramifica√ß√µes do Git, porque o conte√∫do das imagens resultantes n√£o depende da ordem de execu√ß√£o dos pipelines no sistema de IC para reunir v√°rios commits da mesma ramifica√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importante</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: A partir de agora, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a assinatura de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√∫nica estrat√©gia de marca√ß√£o recomendada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ele ser√° usado por padr√£o na equipe </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(a menos que voc√™ especifique explicitamente um esquema de marca√ß√£o diferente). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma publica√ß√£o separada tamb√©m ser√° dedicada a esse recurso. </font></font></s> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATUALIZADO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (3 de abril): Um artigo com detalhes foi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√≠veis de log</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O usu√°rio tem a oportunidade de controlar a sa√≠da, definir o n√≠vel de log e trabalhar com informa√ß√µes de depura√ß√£o. </font><font style="vertical-align: inherit;">Op√ß√µes adicionadas </font></font><code>--log-quiet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padr√£o, a sa√≠da cont√©m um m√≠nimo de informa√ß√µes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/s6/6c/hhs66c1shzadu5wbrfbnhnqiio8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao usar a sa√≠da detalhada ( </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), voc√™ pode rastrear como o werf funciona: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/su/ja/e0sujatvuptepfutttg0jqsy-vg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A sa√≠da detalhada ( </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), al√©m das informa√ß√µes de depura√ß√£o do werf, tamb√©m cont√©m os logs das bibliotecas usadas. </font><font style="vertical-align: inherit;">Por exemplo, voc√™ pode ver como a intera√ß√£o com o Docker Registry acontece e tamb√©m corrigir os locais onde √© gasto uma quantidade significativa de tempo:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/ca/rs/dkcarso11r4ghi5s1lyfwkbmczo.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planos futuros</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aten√ß√£o! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os recursos descritos abaixo marcados como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estar√£o dispon√≠veis nesta vers√£o, muitos deles em breve. </font><font style="vertical-align: inherit;">As atualiza√ß√µes ser√£o atualizadas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automaticamente ao usar o multiwerf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esses recursos n√£o afetam a parte est√°vel das fun√ß√µes da v1.1; sua apar√™ncia n√£o exigir√° interven√ß√£o manual do usu√°rio nas configura√ß√µes existentes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte completo para v√°rias implementa√ß√µes do Docker Registry (NEW)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: mar√ßo</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√£o</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objetivo √© que o usu√°rio use uma implementa√ß√£o arbitr√°ria sem restri√ß√µes ao usar o werf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At√© o momento, identificamos o seguinte conjunto de solu√ß√µes para as quais garantiremos suporte total:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Padr√£o (biblioteca / registro) *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS ECR,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Azure *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hub Docker</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCR *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pacotes do Github</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Registro GitLab *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Porto *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cais.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um asterisco indica solu√ß√µes que atualmente s√£o totalmente suportadas pelo werf. </font><font style="vertical-align: inherit;">Quanto ao resto, h√° suporte, mas com limita√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dois problemas principais podem ser distinguidos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algumas solu√ß√µes n√£o oferecem suporte √† remo√ß√£o de tags usando a API do Docker Registry, que n√£o permite que os usu√°rios usem a limpeza autom√°tica implementada no werf. </font><font style="vertical-align: inherit;">Isso vale para os pacotes AWS ECR, Docker Hub e GitHub.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algumas solu√ß√µes n√£o oferecem suporte aos chamados reposit√≥rios aninhados (Docker Hub, Pacotes do GitHub e Quay), mas o usu√°rio deve cri√°-las manualmente usando a interface do usu√°rio ou API (AWS ECR).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos resolver esses e outros problemas usando APIs nativas de solu√ß√µes. </font><font style="vertical-align: inherit;">Essa tarefa tamb√©m inclui a cobertura do ciclo werf completo com testes para cada um deles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montagem de imagem distribu√≠da (‚Üë)</font></font></h3><br>
<ul>
<li> <i>: <s>v1.2</s> v1.1 (      )</i></li>
<li> <i>: <s>-</s> </i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Issue</a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento, o werf v1.0 e v1.1 pode ser usado apenas em um host dedicado para montagem e publica√ß√£o de imagens e implanta√ß√£o de aplicativos no Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para abrir as possibilidades de trabalho distribu√≠do pelo werf, quando a montagem e a implanta√ß√£o de aplicativos no Kubernetes s√£o iniciadas em v√°rios hosts arbitr√°rios e esses hosts n√£o mant√™m seu estado entre assemblies (corredores tempor√°rios), o werf √© necess√°rio para implementar a possibilidade de usar o Docker Registry como um reposit√≥rio de est√°gio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anteriormente, quando o projeto werf ainda era chamado dapp, havia uma oportunidade. No entanto, encontramos v√°rios problemas que devem ser considerados ao implementar esta fun√ß√£o no werf. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Esse recurso n√£o implica o trabalho do coletor dentro dos pods do Kubernetes, pois </font><font style="vertical-align: inherit;">para fazer isso, livre-se da depend√™ncia do servidor Docker local (no pod do Kubernetes, n√£o h√° acesso ao servidor Docker local, porque o pr√≥prio processo est√° sendo executado no cont√™iner, e o werf n√£o suporta e n√£o suporta trabalhar com o servidor Docker na rede). </font><font style="vertical-align: inherit;">O suporte ao trabalho no Kubernetes ser√° implementado separadamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte oficial √†s a√ß√µes do GitHub (NOVO)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: mar√ßo</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√£o</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inclui documenta√ß√£o do werf (se√ß√µes de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">refer√™ncia</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guia</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), bem como a a√ß√£o oficial do GitHub para trabalhar com o werf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, permitir√° que o werf trabalhe em corredores ef√™meros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A mec√¢nica da intera√ß√£o do usu√°rio com o sistema de IC ser√° baseada na coloca√ß√£o de etiquetas em solicita√ß√µes pull para iniciar determinadas a√ß√µes para criar / implantar o aplicativo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvimento e implanta√ß√£o de aplicativos locais com werf (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janeiro a fevereiro de</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abril</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√£o</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objetivo principal √© obter uma √∫nica configura√ß√£o unificada para implantar aplicativos localmente e em produ√ß√£o, sem a√ß√µes complexas, prontas para uso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf tamb√©m precisa de um modo de opera√ß√£o no qual seja conveniente editar o c√≥digo do aplicativo e receber instantaneamente feedback de um aplicativo em funcionamento para depura√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novo algoritmo de limpeza (NOVO)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: abril</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√£o</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na vers√£o atual do werf v1.1, o procedimento </font></font><code>cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o fornece imagens de limpeza para o esquema de marca√ß√£o com base em conte√∫do - essas imagens ser√£o acumuladas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, na vers√£o atual do werf (v1.0 e v1.1), pol√≠ticas de limpeza diferentes s√£o usadas para imagens publicadas por esquemas de marca√ß√£o: branch Git, tag Git ou commit Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um novo algoritmo de limpeza de imagem unificado para todos os esquemas de identifica√ß√£o foi inventado com base no hist√≥rico de confirma√ß√µes no Git:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Armazene n√£o mais que as imagens N1 associadas ao √∫ltimo commit de N2 para cada um dos git HEAD (ramifica√ß√µes e tags).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Armazene n√£o mais do que os est√°gios de imagens N1 associados √†s √∫ltimas confirma√ß√µes N2 para cada um dos git HEAD (ramifica√ß√µes e tags).</font></font></li>
<li>   ,    -   Kubernetes (  kube-    namespace';      ).</li>
<li>   ,      ,   Helm-.</li>
<li>    ,        HEAD  git (,     HEAD  )           Kubernetes    Helm.</li>
</ul><br>
<h3>   (‚Üì)</h3><br>
<ul>
<li> <i>: v1.1</i></li>
<li> <i>: <s>-</s> *</i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vers√£o atual do werf coleta as imagens e artefatos descritos em </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sequencialmente. </font><font style="vertical-align: inherit;">√â necess√°rio paralelizar o processo de montagem de est√°gios independentes de imagens e artefatos, al√©m de fornecer uma conclus√£o conveniente e informativa. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Nota: o prazo √© alterado devido √† prioridade aumentada para a implementa√ß√£o de um assembly distribu√≠do, que adicionar√° mais recursos para dimensionamento horizontal, al√©m do uso do werf com as a√ß√µes do GitHub. </font><font style="vertical-align: inherit;">A montagem paralela √© a pr√≥xima etapa de otimiza√ß√£o, fornecendo escalabilidade vertical ao montar um √∫nico projeto.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mudar para o leme 3 (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fevereiro a mar√ßo de</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maio *</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inclui a transi√ß√£o para a nova base de c√≥digo do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e uma maneira comprovada e conveniente de migrar instala√ß√µes existentes. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Nota: mudar para o Helm 3 n√£o adicionar√° recursos significativos ao werf, porque todos os principais recursos do Helm 3 (combina√ß√£o de tr√™s vias e falta de leme) j√° est√£o implementados no werf. </font><font style="vertical-align: inherit;">Al√©m disso, o werf possui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursos adicionais</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> al√©m daqueles indicados. </font><font style="vertical-align: inherit;">No entanto, essa transi√ß√£o permanece em nossos planos e ser√° implementada.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o da configura√ß√£o do Jsonnet for Kubernetes (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janeiro-fevereiro,</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abril-maio</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf suportar√° a descri√ß√£o da configura√ß√£o do Kubernetes no formato Jsonnet. </font><font style="vertical-align: inherit;">Ao mesmo tempo, o werf permanecer√° compat√≠vel com o Helm e ser√° poss√≠vel selecionar um formato de descri√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O motivo √© o fato de os padr√µes de linguagem Go, de acordo com muitas pessoas, terem um grande limite de entrada, e a inteligibilidade do c√≥digo desses padr√µes tamb√©m sofrer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outras op√ß√µes para implementar os sistemas de descri√ß√£o de configura√ß√£o do Kubernetes (como o Kustomize) tamb√©m est√£o sendo consideradas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trabalhar dentro do Kubernetes (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datas: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abril-maio</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maio-junho</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objetivo: Garantir a montagem de imagens e a entrega de aplicativos usando corredores no Kubernetes. </font><font style="vertical-align: inherit;">Essa. </font><font style="vertical-align: inherit;">montagem de novas imagens, sua publica√ß√£o, limpeza e implanta√ß√£o podem ocorrer diretamente dos pods do Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para realizar esse recurso, voc√™ precisa primeiro da capacidade de criar imagens distribu√≠das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(consulte o par√°grafo acima)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m requer suporte para o modo de opera√ß√£o de compila√ß√£o sem o servidor Docker (ou seja, uma compila√ß√£o semelhante ao Kaniko ou uma compila√ß√£o no espa√ßo do usu√°rio). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf oferecer√° suporte √† montagem no Kubernetes n√£o apenas com o Dockerfile, mas tamb√©m com o construtor Stapel, com reconstru√ß√µes incrementais e Ansible.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passo em dire√ß√£o ao desenvolvimento de c√≥digo aberto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adoramos nossa comunidade ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e queremos que mais e mais pessoas ajudem a melhorar o werf, entender em que dire√ß√£o estamos seguindo e participar do desenvolvimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais recentemente, decidiu-se mudar para os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quadros de projetos do GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para abrir o fluxo de trabalho de nossa equipe. </font><font style="vertical-align: inherit;">Agora voc√™ pode ver os planos imediatos, bem como o trabalho em andamento nas seguintes √°reas:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documenta√ß√£o e Site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erros e UX incorreto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muito trabalho foi feito com problemas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Removido irrelevante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os existentes s√£o reduzidos para um √∫nico formato, um n√∫mero suficiente de detalhes e detalhes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adicionadas novas edi√ß√µes com id√©ias e sugest√µes.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como habilitar a vers√£o v1.1</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, a vers√£o est√° dispon√≠vel no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canal 1.1 e a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (os </font><font style="vertical-align: inherit;">lan√ßamentos </font><font style="vertical-align: inherit;">em canais </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√°veis</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√≥lidos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como o </font><i><font style="vertical-align: inherit;">rock</font></i><font style="vertical-align: inherit;"> aparecer√£o √† medida que se estabilizam, mas o </font><font style="vertical-align: inherit;">pr√≥prio </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ea</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j√° √© est√°vel o suficiente para uso, pois passou pelos canais </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alfa</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">√â ativado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atrav√©s do multiwerf da</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seguinte maneira:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">source</span> $(multiwerf use 1.1 ea)<font></font>
werf COMMAND ...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A nova arquitetura de armazenamento de palco e o desempenho otimizado dos coletores para os coletores Stapel e Dockerfile abrem a possibilidade de implementar montagens distribu√≠das e paralelas no werf. Esses recursos aparecer√£o em breve na mesma vers√£o v1.1 e ficar√£o automaticamente dispon√≠veis atrav√©s do mecanismo de atualiza√ß√£o autom√°tica (para usu√°rios com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√°rios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usu√°rios </font><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta vers√£o, uma estrat√©gia de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marca√ß√£o baseada em conte√∫do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi adicionada </font><font style="vertical-align: inherit;">, que se tornou a estrat√©gia padr√£o. Um log tamb√©m foi redesenhado os comandos b√°sicos: </font></font><code>werf build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf dismiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo passo significativo ser√° adicionar assemblies distribu√≠dos. </font><font style="vertical-align: inherit;">Os assemblies distribu√≠dos desde a v1.0 tornaram-se uma prioridade mais alta que os assemblies paralelos, porque agregam mais valor werf: escala vertical de coletores e suporte para coletores ef√™meros em v√°rios sistemas de CI / CD, bem como a capacidade de oferecer suporte oficial √†s a√ß√µes do GitHub. </font><font style="vertical-align: inherit;">Portanto, o momento da implementa√ß√£o de montagens paralelas foi alterado. </font><font style="vertical-align: inherit;">No entanto, estamos trabalhando para realizar rapidamente as duas possibilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acompanhe as novidades! </font><font style="vertical-align: inherit;">E n√£o se esque√ßa de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">visitar o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nosso </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">GitHub</font></a><font style="vertical-align: inherit;"> para criar um problema, encontrar um existente e colocar um plus, criar um PR ou apenas assistir o desenvolvimento do projeto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leia tamb√©m no nosso blog:</font></font><br>
<br>
<ul>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> werf 1.0 stable:    GitOps,   </a>¬ª</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">werf ‚Äî    CI/CD  Kubernetes (   )</a>¬ª;</li>
<li>      werf:<br>
<ul>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3-way merge  werf:   Kubernetes  Helm ‚Äû ‚Äú</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> werf    Helm-</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> monorepo  multirepo  werf     Docker Registry</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> Docker-  werf      Dockerfile</a>¬ª.</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493160/index.html">Como aprimoramos a Pesquisa inteligente no hh.ru em 2019: infogr√°ficos</a></li>
<li><a href="../pt493162/index.html">Uma lista aberta de reuni√µes e confer√™ncias on-line</a></li>
<li><a href="../pt493164/index.html">Acontece que o neg√≥cio on-line est√° sobrevivendo no ambiente atual. Por qu√™? DNA exclu√≠do</a></li>
<li><a href="../pt493166/index.html">Ontol: uma sele√ß√£o de artigos sobre "burnout" [100+]</a></li>
<li><a href="../pt493168/index.html">Calculadora Pipipax</a></li>
<li><a href="../pt493172/index.html">Quanto maior, pior ou por que o loop do jogo √© importante</a></li>
<li><a href="../pt493178/index.html">Tudo √© incr√≠vel em software, mas todo mundo est√° infeliz</a></li>
<li><a href="../pt493184/index.html">Desenvolvimento de contrato de eletr√¥nica. C√°lculo do projeto</a></li>
<li><a href="../pt493186/index.html">Os melhores artigos relacionados a autom√≥veis para desenvolvedores em Habr√© [170+]</a></li>
<li><a href="../pt493190/index.html">Como criamos a galeria de arte em redes neurais e por que n√£o damos fotos para copiar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>