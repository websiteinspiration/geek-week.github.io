<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✌🏿 👨🏾‍🎓 🦈 ScreenLogger-笑顔、隠されたカメラがあなたを撃ちます ☕️ 🙏🏻 🤳🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="どういたしまして。この記事では、エンドユーザーの知識がなくても、リモートコンピューターで発生するすべてのアクションをリアルタイムで監視できるプログラムを作成するプロセスを分析します。記事の著者は、次のテクノロジーの違法な使用について責任を負わないことを警告し、違法な目的での使用を推奨していません。行...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ScreenLogger-笑顔、隠されたカメラがあなたを撃ちます</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457172/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どういたしまして。</font><font style="vertical-align: inherit;">この記事では、エンドユーザーの知識がなくても、リモートコンピューターで発生するすべてのアクションをリアルタイムで監視できるプログラムを作成するプロセスを分析します。</font><font style="vertical-align: inherit;">記事の著者は、次のテクノロジーの違法な使用について責任を負わないことを警告し、違法な目的での使用を推奨していません。</font><font style="vertical-align: inherit;">行こう！</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
十分に大きなソフトウェア製品を作成する場合、グローバルタスクをいくつかの単純なものに分割する必要があります。したがって、この場合、連携して目的の結果を得ることができる、実質的に無関係ないくつかのプロセスを特定しました。特に、タスクを実装するには、以下を実装する必要があり</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。0）システムフォルダーに最初の起動時にサービスファイルを追加する</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）</font><font style="vertical-align: inherit;">画面から</font><font style="vertical-align: inherit;">スクリーンショットを撮る2）リモートサーバー</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に</font><font style="vertical-align: inherit;">スクリーンショットを送信する</font><font style="vertical-align: inherit;">したがって、必要なすべての機能を備えた.NETプラットフォームが実装用に選択されました。アプリケーションは、視覚化とデバッグの目的でWindowsFormsで記述されており、概してコンソールの場合もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能の説明：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SetConfig-添付された設定ファイルから構成パラメーターの読み取りを提供します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
送信-スクリーンショットをメールに送信し</font><font style="vertical-align: inherit;">ます</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MakeScreen- </font><font style="vertical-align: inherit;">スクリーンショットを</font><font style="vertical-align: inherit;">撮る</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
役割があります</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Circle- </font><font style="vertical-align: inherit;">指定された頻度でバックグラウンドでスクリーンショットを撮って送信することを担当し</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ますプログラムの正しいインストール</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今-各機能のもう少し詳細。構成設定：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソフトウェアは柔軟でなければならないので、プログラムの内部パラメーターをコードの外側から変更できるようにする必要があります。起動するたびに、このソフトウェアはSaveScreen.iniファイルを見つけて設定を更新し、その後、正常に機能し始めます。パラメーターを更新することが不可能な場合は、デフォルト値が使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（どのパラメーターが記事の最後にあるかについて責任があります）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な理由から、スペースではなくアンダースコアを使用する必要があり、@-＃の代わりに使用しましたが、プログラムは逆の置換を行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムの実行はForm1_loadブロックで始まり、通常の起動（コンピューターにインストールディレクトリがある場合）とインストール（インストールディレクトリがない場合）の2つのモードで開発できます。それぞれについて考えてみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の起動：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の起動では、プログラムファイルを配置するディレクトリを作成し、そこに実行可能ファイルと構成ファイルを転送し、必要なエントリをレジストリに追加して、自動実行するソフトウェアを追加する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、これはFirstStart（）関数によって実行され、</font></font><br>
<br>
<img src="https://d.radikal.ru/d14/1906/04/f4ee4587b18b.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストール後にアプリケーションが閉じます-次回コンピュータを再起動したときに、通常どおりに動作します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定期的な発売：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定期的な起動により、スクリーンショットを取得して送信するバックグラウンドスレッドが開始され、最後のセッション中に取得されたスクリーンショットを含むフォルダーがクリアされます。その後、アプリケーションを強制終了する前に、かなりの時間待機します。バックグラウンドスレッドを開始する前に、一時停止が可能です。これは、比較的低速なコンピューターでシステムのロードを高速化し、起動時に競合が発生しないように設定する必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
asualStart（）</font></font><br>
<br>
<img src="https://a.radikal.ru/a13/1906/76/bae96b8edc05.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
循環：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが不名誉を</font><font style="vertical-align: inherit;">冒す傾向</font><font style="vertical-align: inherit;">があります-永遠のサイクルでスクリーンショットを撮って送信し、その後、指定された時間待機します。さらに興味深いのは、画面の取得と送信のプロセスです。</font></font><br>
<br>
<img src="https://a.radikal.ru/a02/1906/52/b42de775c12e.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリーンショットを撮る：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C＃では、画面からコピー機能を使用して、ビットマップに画像を保存できます。したがって、実行する必要があるのは、画面の現在の解像度と同じ解像度のスクリーンショットを保存するオブジェクトを作成し、画面からビットマップを受信できるオブジェクトにバインドして、以前に作成したディレクトリに保存することだけです。</font></font><br>
<br>
<img src="https://b.radikal.ru/b33/1906/5a/acc9a1d27cab.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メールで送信：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C＃では、メッセージフィールドに入力したり、宛先と宛先を指定したり、実際には1つのメソッドを呼び出して送信したりできる定義済みクラスを使用してメールを処理できます。ネットワーク接続がない場合に備えて、このメソッドをtry-catchブロックでラップします。この場合でも、プログラムはエラーメッセージを表示せず、サーバーにアクセスする機会があるまで忠実に待機します。メールサーバーは、原則として単純さの理由で選択されました。どこにでも写真を投げることができます。</font></font><br>
<br>
<img src="https://c.radikal.ru/c40/1906/2c/396fb8a589af.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な相互作用：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返しますが、プログラムはForm1_Loadメソッドで起動されます。プログラムは設定を更新しようとし、それが初めて起動されたかどうかを判断します。そうである場合、それは目的のフォルダーに追加され、起動してシャットダウンします。そうでない場合は、一定の間隔で画面からメールサーバーに画像を安定してスローするバックグラウンドプロセスを開始します。複雑なことや珍しいことは何もありません。いくつかの組み込みクラスの相互作用だけです。</font></font><br>
<img src="https://c.radikal.ru/c43/1906/a6/31a4a5264634.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、自動構成ファイルの説明-すべての変数名はプログラム内の名前と一致します。したがって、intファイルのフィールドを説明し、変数自体についても説明します。</font></font><br>
<br>
<img src="https://c.radikal.ru/c29/1906/d0/cac30403952c.png" alt="画像"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wayToDir-スクリーンショットが</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ドロップ</font><font style="vertical-align: inherit;">されるサブフォルダーの名前</font><font style="vertical-align: inherit;">finalDir = </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">プログラム</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 nameOfApp =実行可能ファイル名が</font><font style="vertical-align: inherit;">転送される</font><font style="vertical-align: inherit;">ディレクトリの名前</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 subKeyAdress =自動実行に追加されるレジストリエントリへのパス</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 reserved-reserved </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 name </font><font style="vertical-align: inherit;">フィールド</font><font style="vertical-align: inherit;">-レジストリ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 エントリの</font><font style="vertical-align: inherit;">名前</font><font style="vertical-align: inherit;">startPause-スクリーンショットを記録する前に一時停止</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 exitPause-プログラムから強制終了する前に一時停止</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 adressFrom-送信者</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 アドレスnameFrom-送信者の</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 署名nameTo-受信者の</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 mailSubjectの</font><font style="vertical-align: inherit;">メールアドレス</font><font style="vertical-align: inherit;">-の主題</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 mailBody </font><font style="vertical-align: inherit;">手紙</font><font style="vertical-align: inherit;">-手紙のテキスト</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 smtpAdress -送信者のメールサーバのSMTPアドレス</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 メール送信するためのポート- smtpPort </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 送信者のメールのパスワード- mailPasswordを</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ファイル拡張子- EXP </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 timeBetweenScreens - 2枚のスクリーンショットを撮るまでの時間を。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要約すれば：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リモートコンピュータ上のアクションを追跡するためのアプリケーションを作成するプロセスについて説明しました。</font><font style="vertical-align: inherit;">ここに接続して、サーバーからのコマンドのリストを含むファイルを受け取り、分割すると、単純化された自己記述型のTeamViewerが作成されます。</font><font style="vertical-align: inherit;">しかし、これはこの記事にはありません。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコード</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457154/index.html">すべてのユーザー向けのレスポンシブなアプリ設計</a></li>
<li><a href="../ja457156/index.html">将来のコンピューティングシステムは何か</a></li>
<li><a href="../ja457160/index.html">C ++でデリゲートを実装する私のアプローチ：実行時に不明なパラメーターで関数を呼び出す</a></li>
<li><a href="../ja457164/index.html">ReactiveUIとAvaloniaの例を使用してディスクに状態を保存するクロスプラットフォームの.NET Coreアプリケーションでのナビゲーション</a></li>
<li><a href="../ja457168/index.html">PythonとTextBlobによるプロトタイプ感情分析</a></li>
<li><a href="../ja457178/index.html">プロセッサの設計と製造方法：CPU設計</a></li>
<li><a href="../ja457180/index.html">公式サイトNode.jsがロシア語になりました</a></li>
<li><a href="../ja457182/index.html">REXX言語、40周年</a></li>
<li><a href="../ja457184/index.html">ASP.NET Coreサイト用のrobots.txtを動的に作成する</a></li>
<li><a href="../ja457186/index.html">Visual Studio CodeのPython-6月のリリース</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>