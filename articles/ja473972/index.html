<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦒 🚝 ↖️ 組み込み開発者の注文：Amazon FreeRTOSでバグを探す 🔢 👫 👦🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="マイクロコントローラーをプログラムする人はおそらくFreeRTOSについて知っているか、少なくともこのオペレーティングシステムについて聞いたことがあります。Amazonの人たちは、AWSのモノのインターネットサービスと連携するために、このオペレーティングシステムの機能を拡張することにしました。これが...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>組み込み開発者の注文：Amazon FreeRTOSでバグを探す</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/473972/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロコントローラーをプログラムする人はおそらくFreeRTOSについて知っているか、少なくともこのオペレーティングシステムについて聞いたことがあります。</font><font style="vertical-align: inherit;">Amazonの人たちは、AWSのモノのインターネットサービスと連携するために、このオペレーティングシステムの機能を拡張することにしました。これが、Amazon FreeRTOSの登場です。</font><font style="vertical-align: inherit;">PVS-Studioコードアナライザーの開発者である私たちは、メールおよび記事の下のコメントでこれらのプロジェクトを確認するように求められました。</font><font style="vertical-align: inherit;">さて、あなたは尋ねました-私たちはしました。</font><font style="vertical-align: inherit;">これから来たもの-読んでください。</font></font><br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d2/efa/d2f/8d2efad2f7885ec13add7368f6d2ff96.png" alt="図3"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトについて少し</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、チェックされたプロジェクトの「お父さん」、FreeRTOSについて少しお話しします（ソースコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。ウィキペディアが言うように、FreeRTOSは組み込みシステム用のマルチタスクリアルタイムオペレーティングシステムです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは古き良きCで書かれましたが、これは驚くべきことではありません。このオペレーティングシステムは、マイクロコントローラーに典型的な条件で動作するはずです：低い計算能力、少量のRAMなど。 C言語を使用すると、低レベルでリソースを処理でき、パフォーマンスが高いため、このようなOSの開発に最適です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、Amazonに戻ります。Amazonはじっと座っておらず、さまざまな有望な分野で発展しています。たとえば、AmazonはAmazon Lumberyard AAAゲームエンジンを開発していますが、これ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もテストしました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような領域の1つは、モノのインターネット（モノのインターネット、IoT）です。この領域で開発するために、Amazonは独自のオペレーティングシステムを作成することを決定しました-そして、彼らはFreeRTOSカーネルをベースにしています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果のシステム-Amazon FreeRTOS-は、「AWS IoT CoreやAWS IoT GreengrassなどのAmazon Webサービスに安全に接続する機能を提供する」と位置付けられています。このプロジェクトのソースコード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Githubに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">保存さ</font></a><font style="vertical-align: inherit;">れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、FreeRTOSにエラーがあるかどうか、および静的コード分析に関してAmazonのオペレーティングシステムがどの程度安全であるかを調べます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックはいかがでしたか</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動エラー検索ツールであるPVS-Studio静的コードアナライザーを使用してコードをチェックしました。 C、C ++、C＃、Javaで記述されたプログラムのエラーを検出できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析を開始する前に、プロジェクトをアセンブルする必要があります。つまり、必要な依存関係がすべてあり、プロジェクトですべてが正しいことを確認します。プロジェクトを検証するには、いくつかの方法があります。たとえば、コンパイル監視システムを使用します。分析はVisual Studioのプラグインを使用して行いました。両方のプロジェクトのリポジトリに、Windowsでのビルドを容易にする一連のプロジェクトファイルがあるのは良いことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なのは、プロジェクトを収集して、検証に必要なものがすべて揃っていることを確認することだけでした。次に、分析と出来上がりです！ -私の前には既製の分析レポートがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのプロジェクトに含まれるサードパーティのライブラリにもエラーが含まれている可能性があり、もちろん、プログラムの動作にも影響を与える可能性があります。</font><font style="vertical-align: inherit;">ただし、ナレーションの純粋さのために分析から除外しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、プロジェクトが分析され、レポートが受信され、興味深いエラーが書き出されます。</font><font style="vertical-align: inherit;">彼らの分析に移る時が来ました！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOSを隠すもの</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当初、私は2つの記事を書こうと思っていました。私はすでにFreeRTOSについての良い記事を書く準備をして、手をこすりました。 （</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CWE-457の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ような）ジューシーなエラーが少なくともいくつか検出されることを予測</font><font style="vertical-align: inherit;">して、アナライザーのいくつかの警告を熱心に調べました。興味深いエラーは見つかりませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーが発行した警告の多くは、FreeRTOSには関係ありませんでした。たとえば、そのような警告は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size_t</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uint32_tに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャスト</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">ような64ビットの欠点</font><i><font style="vertical-align: inherit;">でした</font></i><font style="vertical-align: inherit;">。これは、FreeRTOSがポインタサイズが32ビット以下のデバイスで動作するように設計されているためです。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">V1027の</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
すべての警告を注意深くチェックしました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関連のない構造へのポインタ間のキャストに関連付けられています。可約構造が同じ配置である場合、そのようなキャストはエラーではありません。そして、危険なキャストは1つも見つかりませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のすべての疑わしい場所は、コーディングスタイルに関連付けられているか、なぜこれがここで行われ、これが間違いではないのかを説明するコメントが付けられていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、FreeRTOSの開発者に連絡したいと思います。あなたたちは本当に素晴らしいです！あなたのようなクリーンで高品質なプロジェクトに出会うことはほとんどありませんでした。そして、私はクリーンで整頓された、そして十分に文書化されたコードを読んでとても嬉しかったです。あなたに脱帽。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その日は興味深いエラーを見つけることができませんでしたが、そこで止まらないことを理解しました。</font><font style="vertical-align: inherit;">私は、Amazonバージョン100％に何か面白いものが見つかると確信しており、明日は間違いなくこの記事に十分なエラーを収集するだろうという確信を持ち帰りました。</font><font style="vertical-align: inherit;">ご想像のとおり、私は正しかった。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon FreeRTOSを隠すもの</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazonのシステムのバージョンは...穏やかに言えば、少し悪いことがわかりました。</font><font style="vertical-align: inherit;">FreeRTOSのレガシーは同じようにクリーンなままですが、新しいリビジョンは非常に興味深いものであることが判明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部の場所では、プログラムのロジックに違反しており、どこかでポインターが正しく機能していませんでした。</font><font style="vertical-align: inherit;">一部の場所ではコードが未定義の動作につながる可能性がありますが、どこかでプログラマーは自分が作成したエラーパターンを知らなかっただけです。</font><font style="vertical-align: inherit;">深刻な潜在的な脆弱性も発見しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
紹介で遅れたもの。</font><font style="vertical-align: inherit;">バグの解析を始めましょう！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラム論理違反</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムがプログラマーの期待どおりに実行されないことを明確に示す問題領域から始めましょう。</font><font style="vertical-align: inherit;">そのような最初の場所は、配列を使用した疑わしい作業です。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/**
 * @brief Pool of request and associated response buffers, 
 *  handles, and configurations.
 */</span>
<span class="hljs-keyword">static</span> _requestPool_t _requestPool = { <span class="hljs-number">0</span> };<font></font>
<font></font>
....<font></font>
<font></font>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> _scheduleAsyncRequest(<span class="hljs-keyword">int</span> reqIndex,
                                 <span class="hljs-keyword">uint32_t</span> currentRange)<font></font>
{<font></font>
  ....<font></font>
<font></font>
  <span class="hljs-comment">/* Set the user private data to use in the asynchronous callback context. 
   */</span><font></font>
  _requestPool.pRequestDatas[reqIndex].pConnHandle = &amp;_connHandle;<font></font>
  _requestPool.pRequestDatas[reqIndex].pConnConfig = &amp;_connConfig;<font></font>
  _requestPool.pRequestDatas[reqIndex].reqNum = reqIndex;<font></font>
  _requestPool.pRequestDatas[reqIndex].currRange = currentRange;<font></font>
  _requestPool.pRequestDatas[reqIndex].currDownloaded = <span class="hljs-number">0</span>;<font></font>
  _requestPool.pRequestDatas[reqIndex].numReqBytes = numReqBytes;<font></font>
<font></font>
  ....<font></font>
<font></font>
  _requestPool.pRequestDatas-&gt;scheduled = <span class="hljs-literal">true</span>;<font></font>
<font></font>
  ....<font></font>
} </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studioは、このコードに対して2つの警告を発行しました。</font></font><br>
<br>
<ul>
<li>V619 The array '_requestPool.pRequestDatas' is being utilized as a pointer to single object. iot_demo_https_s3_download_async.c 973</li>
<li>V574 The '_requestPool.pRequestDatas' pointer is used simultaneously as an array and as a pointer to single object. Check lines: 931, 973. iot_demo_https_s3_download_async.c 973</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
念のため、お知らせしておきます。配列の名前は最初の要素へのポインタです。つまり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_requestPool.pRequestDatas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が構造体の配列である場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_requestPool.pRequestDatas [i] .scheduled</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、配列の</font><i><font style="vertical-align: inherit;">i</font></i><font style="vertical-align: inherit;">番目の構造体の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スケジュールされた</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メンバーへのアクセス</font><font style="vertical-align: inherit;">です。また、</font><i><font style="vertical-align: inherit;">_requestPool.pRequestDatas-&gt; cheduled</font></i><font style="vertical-align: inherit;">と記述した場合</font><font style="vertical-align: inherit;">、これは</font><font style="vertical-align: inherit;">配列の最初の構造体の</font><i><font style="vertical-align: inherit;">スケジュールされた</font></i><font style="vertical-align: inherit;">メンバーへのアクセスを意味します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
これは、上記のコードスニペットで何が起こるかです。最後の行は常に、最初の配列構造のメンバーの値のみを変更します。それ自体では、そのような魅力はすでに疑わしいですが、ここでの状況はさらに明白です：関数の全体を通して、</font><i><font style="vertical-align: inherit;">_requestPool.pRequestDatas</font></i><font style="vertical-align: inherit;">配列に</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデックスによってアクセスされ、最後にのみ、インデックス作成操作を適用するのを忘れました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が理解しているように、最後の行は次のようになります。</font></font><br>
<br>
<pre><code class="cpp hljs">_requestPool.pRequestDatas[reqIndex].scheduled = <span class="hljs-literal">true</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のエラーは小さな関数にあるため、全体を説明します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/* Return true if the string " pcString" is found
 * inside the token pxTok in JSON file pcJson. */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> BaseType_t <span class="hljs-title">prvGGDJsoneq</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * pcJson,   
                                <span class="hljs-keyword">const</span> <span class="hljs-keyword">jsmntok_t</span> * <span class="hljs-keyword">const</span> pxTok,
                                <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * pcString )</span>
</span>{
  <span class="hljs-keyword">uint32_t</span> ulStringSize = ( <span class="hljs-keyword">uint32_t</span> ) pxTok-&gt;end <font></font>
                         - ( <span class="hljs-keyword">uint32_t</span> ) pxTok-&gt;start;<font></font>
  BaseType_t xStatus = pdFALSE;<font></font>
<font></font>
  <span class="hljs-keyword">if</span>( pxTok-&gt;type == JSMN_STRING )<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span>( ( <span class="hljs-keyword">uint32_t</span> ) <span class="hljs-built_in">strlen</span>( pcString ) == ulStringSize )<font></font>
    {<font></font>
      <span class="hljs-keyword">if</span>( ( <span class="hljs-keyword">int16_t</span> ) <span class="hljs-built_in">strncmp</span>( &amp;pcJson[ pxTok-&gt;start ], <span class="hljs-comment">// &lt;=</span><font></font>
                               pcString,<font></font>
                               ulStringSize ) == <span class="hljs-number">0</span> )<font></font>
      {<font></font>
        xStatus = pdTRUE;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">return</span> xStatus;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio警告：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V642 [CWE-197]「strncmp」関数の結果を「short」型変数内に保存することは不適切です。</font><font style="vertical-align: inherit;">重要なビットが失われてプログラムのロジックが壊れる可能性があります。</font><font style="vertical-align: inherit;">aws_greengrass_discovery.c 637 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strncmp関数の定義を見てみましょう：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strncmp</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *lhs, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *rhs, <span class="hljs-keyword">size_t</span> count )</span></span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では</font><font style="vertical-align: inherit;">、サイズが32ビットの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型の結果が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int16_t</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型の変数に変換されます</font><font style="vertical-align: inherit;">。このような「ナローイング」変換では、戻り値の最上位ビットが失われます。たとえば、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strncmp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x00010000を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返す</font><font style="vertical-align: inherit;">場合、</font><font style="vertical-align: inherit;">変換中に</font><i><font style="vertical-align: inherit;">1つ</font></i><font style="vertical-align: inherit;">が</font><i><font style="vertical-align: inherit;">失わ</font></i><font style="vertical-align: inherit;">れ、条件が満たされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、そのようなキャストをある状態で見るのは奇妙です。通常の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をゼロと比較できるのに、なぜそれを行うの</font><font style="vertical-align: inherit;">ですか？一方、プログラマーが意識的に関数に</font><i><font style="vertical-align: inherit;">trueを</font></i><font style="vertical-align: inherit;">返すようにしたい</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、彼女がこれを行うべきではない場合でも、なぜそのような狡猾な行動が解説に記載されていないのですか？</font><font style="vertical-align: inherit;">しかし、これはすでにブックマークです。</font><font style="vertical-align: inherit;">一般的に、これは間違いであると信じがちです。</font><font style="vertical-align: inherit;">どう思いますか？</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未定義の動作とポインタ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでかなり大きな例があります。</font><font style="vertical-align: inherit;">これは、nullポインターの潜在的な逆参照を隠します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> _networkReceiveCallback(....)<font></font>
{<font></font>
  IotHttpsReturnCode_t status = IOT_HTTPS_OK;<font></font>
  _httpsResponse_t* pCurrentHttpsResponse = <span class="hljs-literal">NULL</span>;<font></font>
  IotLink_t* pQItem = <span class="hljs-literal">NULL</span>;<font></font>
<font></font>
  ....<font></font>
<font></font>
  <span class="hljs-comment">/* Get the response from the response queue. */</span><font></font>
  IotMutex_Lock(&amp;(pHttpsConnection-&gt;connectionMutex));<font></font>
  pQItem = IotDeQueue_PeekHead(&amp;(pHttpsConnection-&gt;respQ));<font></font>
  IotMutex_Unlock(&amp;(pHttpsConnection-&gt;connectionMutex));<font></font>
<font></font>
  <span class="hljs-comment">/* If the receive callback is invoked 
   * and there is no response expected,
   * then this a violation of the HTTP/1.1 protocol. */</span>
  <span class="hljs-keyword">if</span> (pQItem == <span class="hljs-literal">NULL</span>)<font></font>
  {<font></font>
    IotLogError(....);<font></font>
    fatalDisconnect = <span class="hljs-literal">true</span>;<font></font>
<font></font>
    status = IOT_HTTPS_NETWORK_ERROR;<font></font>
    <span class="hljs-keyword">goto</span> iotCleanup;<font></font>
  }<font></font>
<font></font>
  ....<font></font>
<font></font>
  iotCleanup :<font></font>
<font></font>
  <span class="hljs-comment">/* Report errors back to the application. */</span>
  <span class="hljs-keyword">if</span> (status != IOT_HTTPS_OK)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> ( pCurrentHttpsResponse-&gt;isAsync<font></font>
      &amp;&amp; pCurrentHttpsResponse-&gt;pCallbacks-&gt;errorCallback)<font></font>
    {<font></font>
      pCurrentHttpsResponse-&gt;pCallbacks-&gt;errorCallback(....);<font></font>
    }<font></font>
<font></font>
    pCurrentHttpsResponse-&gt;syncStatus = status;<font></font>
  }<font></font>
<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio警告：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V522 [CWE-690]潜在的なnullポインター 'pCurrentHttpsResponse'の逆参照がある可能性があります。 iot_https_client.c 1184 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題の逆参照は、一番下にあり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ここで何が起こるか見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数の先頭で、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pCurrentHttpsResponse</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pQItem変数がされている</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に初期化</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数が</font><font style="vertical-align: inherit;">されて</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期化</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><i><font style="vertical-align: inherit;">IOT_HTTPS_OK</font></i><font style="vertical-align: inherit;">すべてがスムーズに行くことを意味し、。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pQItemには</font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IotDeQueue_PeekHead</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数から返された値</font><i><font style="vertical-align: inherit;">が</font></i><font style="vertical-align: inherit;">割り当てられます</font><font style="vertical-align: inherit;">。この</font><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">は、二重に接続されたキューの先頭へのポインターを返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キューが空の場合はどうなりますか？</font><font style="vertical-align: inherit;">この場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IotDeQueue_PeekHead</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を返し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> IotLink_t* <span class="hljs-title">IotDeQueue_PeekHead</span>
                         <span class="hljs-params">(<span class="hljs-keyword">const</span> IotDeQueue_t* <span class="hljs-keyword">const</span> pQueue)</span>
</span>{
  <span class="hljs-keyword">return</span> IotListDouble_PeekHead(pQueue);<font></font>
}<font></font>
....<font></font>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> IotLink_t* <span class="hljs-title">IotListDouble_PeekHead</span>
                         <span class="hljs-params">(<span class="hljs-keyword">const</span> IotListDouble_t* <span class="hljs-keyword">const</span> pList)</span>
<span class="hljs-comment">/* @[declare_linear_containers_list_double_peekhead] */</span>
</span>{<font></font>
  IotLink_t* pHead = <span class="hljs-literal">NULL</span>;<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (pList != <span class="hljs-literal">NULL</span>)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (IotListDouble_IsEmpty(pList) == <span class="hljs-literal">false</span>)<font></font>
    {<font></font>
      pHead = pList-&gt;pNext;<font></font>
    }<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">return</span> pHead;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、条件</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pQItem == NULLが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">満たされ</font><font style="vertical-align: inherit;">、制御フロー</font><i><font style="vertical-align: inherit;">は</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">goto</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">介し</font><font style="vertical-align: inherit;">て関数本体の下部に</font><i><font style="vertical-align: inherit;">進み</font></i><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このときまでに、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pCurrentHttpsResponse</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポインタ</font><font style="vertical-align: inherit;">はnullのままであり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスは</font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOT_HTTPS_OK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と等しく</font><i><font style="vertical-align: inherit;">なくなり</font></i><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">その結果、我々はその非常に枝に分類されます</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合は</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、と...ブローズ！</font><font style="vertical-align: inherit;">あなた自身が知っているこの逆参照の結果。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい </font><font style="vertical-align: inherit;">これは少し華やかな例でした。</font><font style="vertical-align: inherit;">今、私はあなたの注意を非常にシンプルで理解可能な潜在的な逆参照に持ってきます：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">PKI_mbedTLSSignatureToPkcs11Signature</span>
    <span class="hljs-params">(<span class="hljs-keyword">uint8_t</span> * pxSignaturePKCS, <span class="hljs-keyword">uint8_t</span> * pxMbedSignature )</span>
</span>{
  <span class="hljs-keyword">int</span> xReturn = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">uint8_t</span> * pxNextLength;<font></font>
<font></font>
  <span class="hljs-comment">/* The 4th byte contains the length of the R component */</span>
  <span class="hljs-keyword">uint8_t</span> ucSigComponentLength = pxMbedSignature[ <span class="hljs-number">3</span> ]; <span class="hljs-comment">// &lt;=</span><font></font>
<font></font>
  <span class="hljs-keyword">if</span>(  ( pxSignaturePKCS == <span class="hljs-literal">NULL</span> )<font></font>
    || ( pxMbedSignature == <span class="hljs-literal">NULL</span> ) )<font></font>
  {<font></font>
      xReturn = FAILURE;<font></font>
  }<font></font>
<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio警告：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V595 [CWE-476] nullptrで検証される前に 'pxMbedSignature'ポインターが使用されました。</font><font style="vertical-align: inherit;">チェック行：52、54。iot_pki_utils.c 52 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uint8_t</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">への2つのポインターを取得します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">両方のポインタの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がチェックされ</font><i><font style="vertical-align: inherit;">ますが</font></i><font style="vertical-align: inherit;">、これは良い方法です。このような状況はすぐに解決する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、ここに不運があります</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。pxMbedSignature</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がチェックされるとき</font><i><font style="vertical-align: inherit;">までに</font></i><font style="vertical-align: inherit;">、文字通り1行上で逆参照されます。</font><font style="vertical-align: inherit;">ターダー！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
投機的コードの別の例：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">CK_RV <span class="hljs-title">vAppendSHA256AlgorithmIdentifierSequence</span>
             <span class="hljs-params">( <span class="hljs-keyword">uint8_t</span> * x32ByteHashedMessage,
               <span class="hljs-keyword">uint8_t</span> * x51ByteHashOidBuffer )</span>
</span>{<font></font>
  CK_RV xResult = CKR_OK;<font></font>
  <span class="hljs-keyword">uint8_t</span> xOidSequence[] = pkcs11STUFF_APPENDED_TO_RSA_SIG;<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(  ( x32ByteHashedMessage == <span class="hljs-literal">NULL</span> )<font></font>
    || ( x51ByteHashOidBuffer == <span class="hljs-literal">NULL</span> ) )<font></font>
  {<font></font>
      xResult = CKR_ARGUMENTS_BAD;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-built_in">memcpy</span>( x51ByteHashOidBuffer,<font></font>
          xOidSequence,<font></font>
          <span class="hljs-keyword">sizeof</span>( xOidSequence ) );<font></font>
<font></font>
  <span class="hljs-built_in">memcpy</span>( &amp;x51ByteHashOidBuffer[ <span class="hljs-keyword">sizeof</span>( xOidSequence ) ],<font></font>
          x32ByteHashedMessage,<font></font>
          <span class="hljs-number">32</span> );<font></font>
<font></font>
  <span class="hljs-keyword">return</span> xResult;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studioの警告：</font></font></b> <br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V1004 [CWE-628] nullptrに対して検証された後、「x51ByteHashOidBuffer」ポインタが安全に使用されませんでした。</font><font style="vertical-align: inherit;">チェック行：275、280。iot_pkcs11.c 280</font></font></li>
<li>V1004 [CWE-628] The 'x32ByteHashedMessage' pointer was used unsafely after it was verified against nullptr. Check lines: 275, 281. iot_pkcs11.c 281</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーは、ポインターである関数パラメーターが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">についてテストされた後、それらが安全に使用されないことを警告し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">実際、引数はチェックされますが、それらのいずれかが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であることが判明した場合</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xResult</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">への書き込みを除いて、アクションは実行されません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このコードは次のように言っています。「そうです、それは引数が悪いことが判明したことを意味します。</font><font style="vertical-align: inherit;">あなたが続けている間、私たちは今それを書き留めます、続けてください。」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論：</font><i><font style="vertical-align: inherit;">NULL</font></i><font style="vertical-align: inherit;">が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcpy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に渡さ</font><font style="vertical-align: inherit;">れ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これから何ができますか？</font><font style="vertical-align: inherit;">値はどこにコピーされ、どの値がコピーされますか？</font><font style="vertical-align: inherit;">実際、これについて推測することは価値がありません。</font><font style="vertical-align: inherit;">基準は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">明確に規定している</font></a></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのような呼び出しは未定義の動作につながること（ポイント1を参照）。 </font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf7/7d6/856/cf77d6856666f6a1529a1744832bd5bf.png" alt="図2"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーレポートには、Amazon FreeRTOSで見つけたポインターを使用した不正な操作の例がまだ含まれていますが、指定された例は、そのようなエラーを検出するPVS-Studioの機能を示すのに十分だと思います。</font><font style="vertical-align: inherit;">新しいことを考えてみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TRUE！= 1</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が見つけたいくつかのエラーは、残念ながらしばしば忘れられている1つのパターンに関連しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事実は、</font><font style="vertical-align: inherit;">（C ++からの）</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bool</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型</font><font style="vertical-align: inherit;">が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BOOL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型</font><font style="vertical-align: inherit;">（一般的にCで使用されている</font><font style="vertical-align: inherit;">）とは異なること</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">1つ目は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">false</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみを含むことができ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">もう1つは、整数型の型定義（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">long</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など）です。</font><font style="vertical-align: inherit;">彼にとって、「false」は値</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であり、「true」はゼロ以外の値です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cには組み込みのブール型がないため、これらの定数は便宜上定義されています。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FALSE 0</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TRUE 1</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に例を考えてみましょう：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mbedtls_hardware_poll</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* data,
                          <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>* output,
                          <span class="hljs-keyword">size_t</span> len,
                          <span class="hljs-keyword">size_t</span>* olen)</span>
</span>{
  <span class="hljs-keyword">int</span> lStatus = MBEDTLS_ERR_ENTROPY_SOURCE_FAILED;<font></font>
  HCRYPTPROV hProv = <span class="hljs-number">0</span>;<font></font>
<font></font>
  <span class="hljs-comment">/* Unferenced parameter. */</span>
  (<span class="hljs-keyword">void</span>)data;<font></font>
<font></font>
  <span class="hljs-comment">/*
   * This is port-specific for the Windows simulator,
   * so just use Crypto API.
   */</span><font></font>
<font></font>
  <span class="hljs-keyword">if</span> (TRUE == CryptAcquireContextA(<font></font>
                &amp;hProv, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>, <font></font>
                PROV_RSA_FULL, <font></font>
                CRYPT_VERIFYCONTEXT))<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (TRUE == CryptGenRandom(hProv, len, output))<font></font>
    {<font></font>
      lStatus = <span class="hljs-number">0</span>;<font></font>
      *olen = len;<font></font>
    }<font></font>
<font></font>
    CryptReleaseContext(hProv, <span class="hljs-number">0</span>);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">return</span> lStatus;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studioの警告： </font></font></b><br>
<br>
<ul>
<li>V676 [CWE-253] It is incorrect to compare the variable of BOOL type with TRUE. aws_entropy_hardware_poll.c 48</li>
<li>V676 [CWE-253] It is incorrect to compare the variable of BOOL type with TRUE. Correct expression is: 'FALSE != CryptGenRandom(hProv, len, output)'. aws_entropy_hardware_poll.c 51</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
間違いを見つけましたか？そしてそれは:)関数</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CryptAcquireContextA</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CryptGenRandom</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wincrypt.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘッダーの標準関数</font><font style="vertical-align: inherit;">です。成功すると、ゼロ以外の値が返されます。私は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゼロ以外</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を強調し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。 ：だから、理論的に、これは、任意のゼロ以外の値とすることができる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">314</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">420</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやら、例から関数を書いたプログラマーはそれを考えなかったので、結果として、得られた値が1と比較されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
条件</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TRUE == CryptGenRandom（....）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が満たされない</font><font style="vertical-align: inherit;">確率はどれ</font><i><font style="vertical-align: inherit;">くらい</font></i><font style="vertical-align: inherit;">ですか？わかりにくい。多分</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CryptGenRandom</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の値よりも頻繁にユニットを返すか、または常に1つだけを返す場合があります。</font><font style="vertical-align: inherit;">確かなことはわかりません。この暗号化機能の実装は、人間のプログラマの目には見えません:) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような比較は潜在的に危険であることを覚えておくことが重要です。</font><font style="vertical-align: inherit;">そして代わりに：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (TRUE == GetBOOL())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より安全なオプションを使用します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (FALSE != GetBOOL())</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最適化の問題</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかのアナライザー警告は、実行速度の遅い構造に関連付けられています。</font><font style="vertical-align: inherit;">例えば：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> _IotHttpsDemo_GetS3ObjectFileSize(....)<font></font>
{<font></font>
  ....<font></font>
<font></font>
  pFileSizeStr = <span class="hljs-built_in">strstr</span>(contentRangeValStr, <span class="hljs-string">"/"</span>);<font></font>
<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio警告：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V817文字列ではなく「/」文字をシークする方が効率的です。</font><font style="vertical-align: inherit;">iot_demo_https_common.c 205短く</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
て明確ですね。</font><font style="vertical-align: inherit;">ここでの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strstr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">は、文字列としてパラメーターに渡される1文字だけを検索するために使用されます（二重引用符で囲まれています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場所は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strstr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strchrに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置き換えることで潜在的に最適化できます</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> _IotHttpsDemo_GetS3ObjectFileSize(....)<font></font>
{<font></font>
  ....<font></font>
<font></font>
  pFileSizeStr = <span class="hljs-built_in">strchr</span>(contentRangeValStr, <span class="hljs-string">'/'</span>);<font></font>
<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、検索は少し速く動作します。</font><font style="vertical-align: inherit;">ささいなことですが、いいです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、そのような最適化は優れており、アナライザーは、さらに顕著に最適化できる別の場所を見つけました。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">vRunOTAUpdateDemo</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
  ....<font></font>
<font></font>
  <span class="hljs-keyword">for</span> (; ; )<font></font>
  {<font></font>
    ....<font></font>
    <font></font>
    xConnectInfo.cleanSession = <span class="hljs-literal">true</span>;<font></font>
<font></font>
    xConnectInfo.clientIdentifierLength <font></font>
      = (<span class="hljs-keyword">uint16_t</span>)<span class="hljs-built_in">strlen</span>(clientcredentialIOT_THING_NAME);<font></font>
<font></font>
    xConnectInfo.pClientIdentifier <font></font>
      = clientcredentialIOT_THING_NAME;<font></font>
    <font></font>
    ....<font></font>
  }<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告PVS-Studio：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V814パフォーマンスが低下しました。ループの本体内で「strlen」関数が複数回呼び出されました。 aws_iot_ota_update_demo.c 235 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmmm ...ループ内では</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">各反復中</font><font style="vertical-align: inherit;">に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strlen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が呼び出され、毎回</font><font style="vertical-align: inherit;">同じ行の長さが計算されます。最も効率的な操作ではありません:) </font><i><font style="vertical-align: inherit;">clientcredentialIOT_THING_NAME</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の定義を見てみましょう</font><font style="vertical-align: inherit;">：</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/*
 * @brief Host name.
 *
 * @todo Set this to the unique name of your IoT Thing.
 */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> clientcredentialIOT_THING_NAME               <span class="hljs-meta-string">""</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーはここに自分のデバイスの名前を入力するよう求められます。デフォルトでは空で、この場合はすべて問題ありません。しかし、ユーザーがそこに長くて美しい名前を入力したい場合はどうでしょうか？たとえば、私は自分の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頭脳を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font><i><font style="vertical-align: inherit;">情熱的で洗練されたコーヒーマシンBarBarista-N061E The Ultimate Edition</font></i><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">と呼びたいです</font><font style="vertical-align: inherit;">。私の美しいコーヒーマシンが少し遅く動作し始めたら、私の驚きはどうなるでしょうか。めちゃくちゃ！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーを修正するには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strlen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ループ本体</font><font style="vertical-align: inherit;">から削除する必要があり</font><font style="vertical-align: inherit;">ます。結局のところ、プログラムの実行中にデバイスの名前は変更されません。ええと、ここに</font><font style="vertical-align: inherit;">C ++からの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constexpr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりました、わかりました、認めます。ここで私は少し厚くなりました。</font><font style="vertical-align: inherit;">私の同僚のAndrei Karpovが指摘したように、現代のコンパイラは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strlenが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何であるかを知って</font><font style="vertical-align: inherit;">おり、文字列の長さが変更できないことを理解すれば、バイナリコードで定数を使用する方法を個人的に観察しました。</font><font style="vertical-align: inherit;">そのため、リリースバージョンのビルドモードでは、文字列の長さを実際に計算する代わりに、以前に計算された値が使用される可能性が高くなります。</font><font style="vertical-align: inherit;">ただし、これは常に機能するとは限らないため、そのようなコードを記述することはお勧めできません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MISRAについて一言</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studioアナライザーには、MISRA CおよびMISRA C ++標準にコードが準拠しているかどうかをチェックできる多数のルールがあります。これらの基準は何ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MISRAは、応答性の高い組み込みシステムのコーディング標準です。コードを記述し、開発プロセスをセットアップするための一連の厳格なルールとガイドラインが含まれています。これらのルールのかなりの数があり、それらは深刻なエラーを排除するだけでなく、さまざまな「コードのにおい」だけでなく、最大の明確で読み取り可能なコードを書くことも目的としています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、MISRA規格に従うことは、エラーや脆弱性を回避するのに役立つだけでなく、大幅に-大幅に！ -既存のコードで発生する可能性を減らします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MISRAは航空宇宙、医療、自動車、軍事産業で使用されており、人命は組み込みソフトウェアの品質に依存しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやら、Amazon FreeRTOSの開発者はこの標準を認識しており、ほとんどの場合それに従っています。</font><font style="vertical-align: inherit;">そうです。組み込みシステム向けの幅広いOSを作成している場合、セキュリティについて考える必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、MISRA規格の違反をかなり見つけました。</font><font style="vertical-align: inherit;">ここでは、「ユニオンを使用しない」や「関数の本体の最後に1つの戻り値のみを返す」などのルールの例は示しません。残念ながら、ほとんどのMISRAルールのように、目を見張るものはありません。</font><font style="vertical-align: inherit;">重大な結果につながる可能性のある違反の例を挙げたほうがよいでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マクロから始めましょう：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FreeRTOS_ms_to_tick(ms)  ( ( ms * configTICK_RATE_HZ + 500 ) / 1000 )</span></code></pre><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SOCKETS_htonl( ulIn )    ( ( uint32_t )                             \
  (   ( ( ulIn &amp; 0xFF )     &lt;&lt; 24 ) | ( ( ulIn &amp; 0xFF00 )     &lt;&lt; 8  )       \
    | ( ( ulIn &amp; 0xFF0000 ) &gt;&gt; 8 )  | ( ( ulIn &amp; 0xFF000000 ) &gt;&gt; 24 ) ) )</span></code></pre><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LEFT_ROTATE( x, c )    ( ( x <span class="hljs-meta-string">&lt;&lt; c ) | ( x &gt;&gt; ( 32 - c ) ) )</span></span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studioの警告：</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V2546 [MISRA C 20.7]マクロとそのパラメーターは括弧で囲む必要があります。</font><font style="vertical-align: inherit;">「FreeRTOS_ms_to_tick」マクロの「ms」パラメータを調べることを検討してください。</font><font style="vertical-align: inherit;">FreeRTOS_IP.h 201</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V2546 [MISRA C 20.7]マクロとそのパラメーターは括弧で囲む必要があります。</font><font style="vertical-align: inherit;">'SOCKETS_htonl'マクロの 'ulIn'パラメータを調べることを検討してください。</font><font style="vertical-align: inherit;">iot_secure_sockets.h 512</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V2546 [MISRA C 20.7]マクロとそのパラメーターは括弧で囲む必要があります。</font><font style="vertical-align: inherit;">「LEFT_ROTATE」マクロのパラメータ「x」、「c」を調べることを検討してください。</font><font style="vertical-align: inherit;">iot_device_metrics.c 90</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、まさにそのとおりです。</font><font style="vertical-align: inherit;">これらのマクロのパラメーターは角括弧で囲まれていません。</font><font style="vertical-align: inherit;">誰かが誤って次のようなものを書いた場合</font></font><br>
<br>
<pre><code class="cpp hljs">val = LEFT_ROTATE(A[i] | <span class="hljs-number">1</span>, B);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、そのような「呼び出し」マクロが開きます。</font></font><br>
<br>
<pre><code class="cpp hljs">val = ( ( A[i] | <span class="hljs-number">1</span> &lt;&lt; B ) | ( A[i] | <span class="hljs-number">1</span> &gt;&gt; ( <span class="hljs-number">32</span> - B ) ) );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
運用の優先順位を覚えていますか？最初に、ビット単位のシフトが実行されます。これは、ビット単位の「または」の後でのみ行われます。したがって、プログラムのロジックに違反します。より簡単な例：</font><font style="vertical-align: inherit;">式「</font><i><font style="vertical-align: inherit;">x + y</font></i><font style="vertical-align: inherit;">」が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS_ms_to_tick</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マクロに</font><font style="vertical-align: inherit;">渡されると</font><font style="vertical-align: inherit;">どうなりますか？ MISRAの主な目的の1つは、このような状況の発生を防ぐことです。</font><font style="vertical-align: inherit;">
誰かが反対するかもしれません：「これについて知らないプログラマーがいるなら、標準はあなたを救うことはできません！」そして私はそれに同意しません。プログラマーも人間であり、どんなに経験豊富な人であっても、彼も仕事の終わりに疲れてミスをする可能性があります。これは、MISRAがプロジェクトが標準に準拠していることを確認するために自動分析ツールの使用を強く推奨する理由の1つです。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はAmazon FreeRTOS開発者に話を移します。PVS-Studioは12の安全でないマクロを見つけたので、それらに注意してください</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/**
 * @brief Callback for an asynchronous request to notify 
 *        that the response is complete.
 *
 * @param[in] 0pPrivData - User private data configured 
 *            with the HTTPS Client library request configuration.
 * @param[in] respHandle - Identifier for the current response finished.
 * @param[in] rc - Return code from the HTTPS Client Library
 *            signaling a possible error.
 * @param[in] status - The HTTP response status.
 */</span>
 <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> _responseCompleteCallback(<span class="hljs-keyword">void</span>* pPrivData,<font></font>
                                       IotHttpsResponseHandle_t respHandle,<font></font>
                                       IotHttpsReturnCode_t rc,<font></font>
                                       <span class="hljs-keyword">uint16_t</span> status)<font></font>
{<font></font>
  <span class="hljs-keyword">bool</span>* pUploadSuccess = (<span class="hljs-keyword">bool</span>*)pPrivData;<font></font>
<font></font>
  <span class="hljs-comment">/* When the remote server response with 200 OK,
     the file was successfully uploaded. */</span>
  <span class="hljs-keyword">if</span> (status == IOT_HTTPS_STATUS_OK)<font></font>
  {<font></font>
    *pUploadSuccess = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span><font></font>
  {<font></font>
    *pUploadSuccess = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">/* Post to the semaphore that the upload is finished. */</span><font></font>
  IotSemaphore_Post(&amp;(_uploadFinishedSem));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分でエラーを見つけることができますか？</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio警告：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V2537 [MISRA C 2.7]関数には未使用のパラメーターを含めないでください。パラメータ「rc」を調べることを検討してください。 iot_demo_https_s3_upload_async.c 234は、テイク</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を詳しく見て：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RCの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータは、関数本体のどこでも使用されていません</font><font style="vertical-align: inherit;">。さらに、関数の解説では、このパラメーターが別の関数の戻りコードであり、エラーを通知できることを明示しています。それでは、なぜこのパラメータはまったく処理されないのでしょうか。ここに明らかに何か問題があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、そのようなコメントがない場合でも、未使用のパラメーターはプログラムロジックの破損を示していることがよくあります。そうでなければ、なぜ関数のシグネチャでそれらが必要なのですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、記事の例に適した小さな関数を示しました。</font><font style="vertical-align: inherit;">彼女に加えて、未使用のパラメーターがさらに10個見つかりました。</font><font style="vertical-align: inherit;">それらの多くはより大きな関数で使用され、それらを見つけることは最も簡単なことではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らが以前に発見されなかったことは疑わしいです。</font><font style="vertical-align: inherit;">実際、コンパイラはそのようなケースを簡単に検出できます。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b80/6c7/bb9/b806c7bb94c335ce2712e9b46cffc560.png" alt="写真1"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらはアナライザーが見つけたすべての問題領域ではありませんでしたが、記事はすでにかなり大きなものでした。</font><font style="vertical-align: inherit;">そのおかげで、Amazon FreeRTOSの開発者がいくつかの欠点を修正できるようになり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studioを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自分で</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">試し</font></a><font style="vertical-align: inherit;">てみたいと思うかもしれません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このようにして、警告をより徹底的に調査することが可能になります。実際、便利なインターフェースで作業することは、テキストレポートを見るよりもはるかに簡単です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事を読んでくれてありがとう！</font><font style="vertical-align: inherit;">次号でお会いしましょう：D </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PSこの記事は10月31日にリリースされたばかりです。</font><font style="vertical-align: inherit;">だから、みんなのハロウィンを幸せに！</font></font><br>
<br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事を英語を話す聴衆と共有したい場合は、翻訳へのリンクを使用してください：George Gribkov。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込み開発者の要求に応じて：Amazon FreeRTOSでのエラーの検出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja473950/index.html">実装、スケーリング：VTBで自動テストを使用した経験</a></li>
<li><a href="../ja473952/index.html">ターンベースの戦略のためにAIを書いたとき</a></li>
<li><a href="../ja473956/index.html">ドラッグディーラーの電話会社からの秘密情報</a></li>
<li><a href="../ja473958/index.html">NICTの日本人が、1 Pbit / sの帯域幅で動作するファイバークラスターを紹介しました</a></li>
<li><a href="../ja473962/index.html">ダークモードは今どこにでもあります。とても便利ですか？（投稿の最後の投票）</a></li>
<li><a href="../ja473974/index.html">Intercom'19-Voximplantの通信自動化に関する会議が11月14日に開催されます</a></li>
<li><a href="../ja473976/index.html">AWS Elasticsearch：根本的に欠陥のある製品</a></li>
<li><a href="../ja473978/index.html">そのような痛み、そのような痛み、サービスとしてのレジ2：0</a></li>
<li><a href="../ja473982/index.html">NB-IoT：それはどのように機能しますか？パート3：SCEF-オペレーターサービスへの単一のアクセスウィンドウ</a></li>
<li><a href="../ja473984/index.html">データサイエンスダイジェスト（2019年10月）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>