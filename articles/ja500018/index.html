<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏾 🙆🏼 ✋🏻 RoughJSの例のフリーハンド描画の模倣 🤳🏽 🎺 ‼️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RoughJSは小さな（9KB未満）JavaScriptグラフィックライブラリで、スケッチ風の手書きスタイルで描画できます。それはあなたが上に描画することができます<canvas>としてSVG。この投稿では、RoughJSに関する最も一般的な質問に答えたいと思います。
 
 
 ちょっとした歴史
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>RoughJSの例のフリーハンド描画の模倣</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500018/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoughJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は小さな（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">9KB</font></a><font style="vertical-align: inherit;">未満）JavaScriptグラフィックライブラリで、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スケッチ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">風の</font><em><font style="vertical-align: inherit;">手書き</font></em><font style="vertical-align: inherit;">スタイルで</font><font style="vertical-align: inherit;">描画できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それはあなたが上に描画することができます</font></font><code>&lt;canvas&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として</font></font><code>SVG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この投稿では、RoughJSに関する最も一般的な質問に答えたいと思い</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></strong><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06b/dcb/dee/06bdcbdee1eec1748f07434abb002f34.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ちょっとした歴史</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手書きのグラフ、図、スケッチの画像に魅了されて、私は真のオタクのように、自分自身に問いかけました。ソフトウェアの実装の可能性を維持しながら、コードを使用してそのような図面を手でできるだけ正確に模倣できますか？ 2Dグラフィックのライブラリ全体を作成するために、プリミティブ（ライン、ポリゴン、楕円、曲線）に焦点を当てることに決めました。これに基づいて、グラフや図を描画するためのライブラリやグラフを作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題を簡単に調べたところ、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Joe Wood氏</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とその同僚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">による、情報視覚化のためのSketchyレンダリング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる</font><font style="vertical-align: inherit;">記事を見つけました</font><font style="vertical-align: inherit;">。ここで説明されている手法は、特に線や楕円の描画において、ライブラリの基礎となりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2017年に、Canvasでのみ動作するライブラリの最初のバージョンを作成しました。</font><font style="vertical-align: inherit;">その問題を解決したので、興味がなくなった。</font><font style="vertical-align: inherit;">1年後、私はSVGで多くの作業を行い、RoughJSをSVGで動作するように適合させることにしました。</font><font style="vertical-align: inherit;">また、APIの構造を変更してシンプルにし、シンプルなベクターグラフィックスプリミティブに焦点を当てました。</font><font style="vertical-align: inherit;">ハッカーニュースでバージョン2.0について話しましたが、突然、非常に人気が高まりました。</font><font style="vertical-align: inherit;">2018年には、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ShowHNの2番目に人気のある投稿</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でした。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それ以来、他の人々はRoughJSに基づいてより素晴らしいものを作成しました。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excalidraw</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do Cats＆Dogs ...</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roughVizグラフィックライブラリなど</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それではアルゴリズムについて話しましょう...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凹凸</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手書きの数字を模倣するための基本的な基礎は偶然です。</font><font style="vertical-align: inherit;">手で描くとき、​​どの2つの形も多少異なります。</font><font style="vertical-align: inherit;">誰も完全に正確に描くことはできないため、RoughJSのすべての空間点はランダムな変位に合わせて調整されます。</font><font style="vertical-align: inherit;">ランダム性の大きさは数値パラメータによって与えられます</font></font><code>roughness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35d/b72/e5e/35db72e5e11caf5a6cb19e194b0a5972.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
点</font></font><code>A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とその周りの円を</font><font style="vertical-align: inherit;">想像してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次に、</font></font><code>A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この円内のランダムな点に</font><font style="vertical-align: inherit;">置き換え</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このランダム性の輪の面積は値によって制御されます</font></font><code>roughness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">線</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手書きの線はまっすぐになることはなく、しばしば</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曲がりを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ここで</font></a><font style="vertical-align: inherit;">説明し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">粗さに基づいてラインの2つの端点をランダム化します。</font><font style="vertical-align: inherit;">次に、セグメントの端からおよそ50％と75％の距離にあるさらに2つのランダムポイントを選択します。</font><font style="vertical-align: inherit;">曲線のこれらの点を接続することにより、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曲げ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の効果が得られ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/633/f29/8fe/633f298feb4231e8c9d652cb2811b4ff.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手で描くとき、​​鉛筆を線に沿って前後に動かすことがあります。</font><font style="vertical-align: inherit;">これは、ラインを明るくするため、または単にラインの直線性を修正するために必要です。</font><font style="vertical-align: inherit;">次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/377/2fd/665/3772fd6659c97c0dea4144645d63fdf7.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大ざっぱな効果を追加するために、RoughJSは線を2回描画します。</font><font style="vertical-align: inherit;">将来的には、この側面をよりカスタマイズ可能にする予定です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このキャンバスの表面を見てください。</font><font style="vertical-align: inherit;">粗さパラメータは、線の外観を変更します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/vw/vy/fp/vwvyfpdytbbalxolkj9eufdctri.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャンバスのオリジナル記事では、自分で描くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手で描くと、通常、長い線はまっすぐではなくなり、より曲線になります。</font><font style="vertical-align: inherit;">つまり、エフェクトを作成するためのオフセットのランダム性は、</font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラインの長さと値の関数です</font></font><code>randomness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、この関数のスケーリングは、非常に長い行には適していません。</font><font style="vertical-align: inherit;">たとえば、次の画像では、同心の正方形が同じランダムシードで描かれています。</font><font style="vertical-align: inherit;">実際、それらは1つのランダムな数字ですが、スケールが異なります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6f/943/aaf/c6f943aaf7f5fd94336286e902a7ed5b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外側の四角形の端が内側の四角形よりも少し不均一に見えることに気付くでしょう。</font><font style="vertical-align: inherit;">そのため、線の長さに応じて減衰係数も追加しました。</font><font style="vertical-align: inherit;">減衰係数は、さまざまな長さのステップ関数として使用されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f0f/f30/162/f0ff30162ccf5f76efab1543ed36b79a.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">楕円（および円）</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1枚の紙を取り、1回の連続動作でできるだけ速くいくつかの円を描きます。</font><font style="vertical-align: inherit;">ここに私が得たものがあります：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/268/911/691/2689116919287022e800ab72c7e3877f.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ループの始点と終点が常に一致するとは限らないことに注意してください。</font><font style="vertical-align: inherit;">RoughJSはこれを真似ようとし、外観をより完全にします（この手法は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">giCenterの記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から採用されて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">います</font></a><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは、</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">楕円</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のサイズによって決定される</font><font style="vertical-align: inherit;">楕円点を</font><font style="vertical-align: inherit;">検出し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">次に、各ポイントはその値によってランダム化されます</font></font><code>roughness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次に、これらの点を通る曲線が描かれます。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切断された端の</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果を得るために、</font><font style="vertical-align: inherit;">2番目から最後までのポイントは最初のポイントと一致しません。</font><font style="vertical-align: inherit;">代わりに、曲線は2番目と3番目の点を接続します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d8/a4f/238/4d8a4f238460b44b847da72c22cbf3d1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の楕円も描画されるため、ループはより閉じており、追加のスケッチ効果があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元の記事では、インタラクティブなキャンバスの表面に楕円を描くことができます。</font><font style="vertical-align: inherit;">粗さを変化させ、フォームがどのように変化するかを観察します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kq/5g/9o/kq5g9ouwifltwn-qfp2tednoaqq.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
線画の場合、いくつかの形状が異なるサイズにスケーリングされると、これらのアーティファクトの一部がより強調されます。</font><font style="vertical-align: inherit;">楕円では、比率が2次であるため、この効果はより顕著になります。</font><font style="vertical-align: inherit;">下の画像では、すべての円が同じ形状ですが、外側の円はより不均一に見えます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/bc1/682/d1cbc168206970ade73e1b7a77639d7d.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは、シェイプのサイズに基づいて自動的に調整し、円内のポイント数を増やし</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">以下は、自動チューニングを使用して生成された同じ円のセットです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa4/6f0/612/aa46f0612d82b8944e70fb888db8ac39.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記入</font></font></h2><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点線</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
は通常、手描きの図形を塗りつぶすために使用されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">フリーハンドスケッチの場合、線は常にシェイプのアウトライン内に留まるとは限りません。</font><font style="vertical-align: inherit;">それらもランダム化されます。</font><font style="vertical-align: inherit;">密度、角度、線幅を調整できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e4/d62/0dc/1e4d620dc5d4e0c7167c7f64595537c6.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の四角は塗りつぶしが簡単ですが、他の形状の場合、あらゆる種類の問題が発生する可能性があります。</font><font style="vertical-align: inherit;">たとえば、凹型ポリゴン（角度が180°を超える可能性がある）は、このような問題を引き起こすことがよくあります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/20b/9cd/46f/20b9cd46fba00903739307fba87386f0.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、上の画像は、RoughJSの以前のバージョンの1つにあるエラーレポートから取得したものです。それ以来</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、文字列スキャン方式の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンを採用して、ストロークフィルアルゴリズムを更新しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列スキャンアルゴリズム</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、任意のポリゴンを塗りつぶすことができます。その原理は、水平線（ラスター線）を使用してポリゴンをスキャンすることです。ラスタラインは、ポリゴンの上部から下に向かって進みます。各ラスターラインについて、ラインがポリゴンと交差するポイントを決定します。これらの交点を左から右に作成します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d9/6df/028/8d96df0287ebd8320120e61813fc30f6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイントからポイントへ移動して、充填モードから非充填モードに切り替えます。</font><font style="vertical-align: inherit;">状態の切り替えは、ラスターラインの各交点が交わるときに発生します。</font><font style="vertical-align: inherit;">ここでは、特に境界線のケースとスキャンの最適化方法を考慮する必要があります。</font><font style="vertical-align: inherit;">詳細については、こちらをご覧ください：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポリゴンのラスタライズ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、または疑似コードでスポイラーをデプロイ。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列スキャンアルゴリズムの実装の詳細</font></font></b>
                        <div class="spoiler_text">     ()      .<br>
<br>
 —     (Edge Table, ET),   ,    <code>Y<sub>min</sub></code>.      <code>Y<sub>min</sub></code>,        <code>X<sub>min</sub></code>.<br>
<br>
 —     (Active Edge Table, AET),       ,     .<br>
<br>
        :<br>
<br>
<pre><code class="javascript hljs">interface EdgeTableEntry {
  <span class="hljs-attr">ymin</span>: number;<font></font>
  ymax: number;<font></font>
  x: number; <span class="hljs-comment">// Initialized to Xmin</span>
  iSlope: number; <span class="hljs-comment">// Inverse of the slope of the line: 1/m</span><font></font>
}<font></font>
<font></font>
interface ActiveEdgeTableEntry {<font></font>
  <span class="hljs-attr">scanlineY</span>: number; <span class="hljs-comment">// The y value of the scanline</span><font></font>
  edge: EdgeTableEntry;<font></font>
}</code></pre><br>
   ,    :<br>
<br>
<strong>1.</strong>  <em>y</em>   <em>y</em>  ET.      .<br>
<br>
<strong>2.</strong>  AET   .<br>
<br>
<strong>3.</strong>   ,   AET,  ET  :<br>
<br>
<strong>(a)</strong>    ET <em>y</em>  AET ,   <em>y<sub>min</sub> ≤ y</em>.<br>
<br>
<strong>(b)</strong>   AET ,   <em>y = y<sub>max</sub></em>,    AET  <em>x</em>.<br>
<br>
<strong>()</strong>      <em>y</em>,    <em>x</em>  AET.<br>
<br>
<strong>(d)</strong>   <em>y</em>   ,   , ..    .<br>
<br>
<strong>(e)</strong>    ,   AET,  <em>x</em>   <em>y</em> (<code>edge.x = edge.x + edge.iSlope</code>)</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の画像（元のインタラクティブな記事）では、各正方形がピクセルを表しています。</font><font style="vertical-align: inherit;">頂点を移動してポリゴンを変更し、伝統的にどのピクセルが塗りつぶされるかを観察できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2p/o7/wg/2po7wg8kdj0ixdeogj9_b2hax78.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストロークを塗りつぶすとき、ラスターラインのインクリメントは、与えられたストロークのラインの密度に応じて段階的に実行され、各ラインは上記のアルゴリズムを使用して描画されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、このアルゴリズムは水平ラスターライン用です。</font><font style="vertical-align: inherit;">さまざまなストローク角度を実装するために、アルゴリズムはまず、希望するストローク角度だけ形状自体を回転させます。</font><font style="vertical-align: inherit;">次に、回転した図形のラスター線が計算されます。</font><font style="vertical-align: inherit;">さらに、計算された線は、反対方向のストロークの角度まで回転します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e9b/1ad/324/e9b1ad3244af05b53b02203659e7f6f7.jpg"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストロークを埋めるだけではありません</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RoughJSは他の塗りつぶしスタイルもサポートしていますが、それらはすべて同じハッチングアルゴリズムから派生しています。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クロスハッチングで</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ある角度</font></font><code>angle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">破線を描画し</font><font style="vertical-align: inherit;">、次に別の</font><font style="vertical-align: inherit;">角度</font><font style="vertical-align: inherit;">で別の線を描画し</font></font><code>angle + 90°</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジグザグ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、1つの破線を前の破線と接続しようとします。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドット</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターン</font><font style="vertical-align: inherit;">を取得する</font><font style="vertical-align: inherit;">には、破線に沿って小さな円を描きます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06b/dcb/dee/06bdcbdee1eec1748f07434abb002f34.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーブ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RoughJSのすべてが曲線に正規化されます-線、多角形、楕円など。</font><font style="vertical-align: inherit;">したがって、このアイデアの自然な発展は、スケッチカーブを作成することです。</font><font style="vertical-align: inherit;">RoughJSでは、一連の点を曲線に渡し、その後、曲線</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近似を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用してそれらを3次ベジェ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">曲線に</font></a><font style="vertical-align: inherit;">変換し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ベジェ曲線には、2つの端点と2つの制御点があります。</font><font style="vertical-align: inherit;">に基づいてランダム化することにより</font></font><code>roughness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、同様に「手書きの」カーブを作成できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ba3/0bd/82c/ba30bd82c30edfc43f6845670f97f4b0.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーブフィリング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、曲線を埋めるには逆のプロセスが必要です。すべてを曲線に正規化する代わりに、曲線はポリゴンに正規化します。ポリゴンを取得したら、ラインスキャンアルゴリズムを使用して曲線形状を塗りつぶすことができます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">3次ベジェ曲線の方程式を</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
使用して、目的の周波数で曲線上の点をサンプリングできます</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a85/bcc/2d5/a85bcc2d5b946e8e88df52f2080b5303.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストロークの密度に依存するサンプリング周波数を使用すると、図を満たすのに十分なポイントが得られます。しかし、これは特に効果的ではありません。曲線の一部が鋭い場合は、さらにポイントが必要です。曲線の一部がほぼ直線の場合、必要なポイントは少なくなります。 1つの解決策は</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曲線の</font><em><font style="vertical-align: inherit;">曲率/滑らかさ</font></em><font style="vertical-align: inherit;">を決定すること</font><font style="vertical-align: inherit;">です。曲線が非常に曲がっている場合は、曲線を2つの小さな曲線に分割します。滑らかな場合は、単純に直線と見なします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
曲線の滑らかさは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この投稿で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明されている方法を使用して計算され</font><font style="vertical-align: inherit;">ます。滑らかさの値は許容値と比較され、その後、曲線を分割するかどうかの決定が行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、許容レベル0.7の同じ曲線です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/995/55d/9be/99555d9be7e6cc2223db46f6cbd98da8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
許容誤差のみに基づいて、アルゴリズムは曲線を表すのに十分なポイントを提供します。</font><font style="vertical-align: inherit;">ただし、オプションのポイントを効果的に取り除くことはできません。</font><font style="vertical-align: inherit;">これは、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">距離</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる2番目のパラメーターに役立ちます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この方法でポイント数を減らすために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Ramer-Douglas-Peckerアルゴリズムが使用され</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下に示した距離の値を用いて生成された点は、に等しく</font></font><code>0.15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>0.75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>1.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><code>3.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c9/e93/6e1/4c9e936e15771d9d02d1768a2e14b70b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形状</font><font style="vertical-align: inherit;">
の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粗さに</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基づいて、</font><font style="vertical-align: inherit;">適切な</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">距離</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値を設定できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ポリゴンのすべての頂点を受け取ったので、湾曲した形状を美しく塗りつぶすことができます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45b/eb7/161/45beb716138e9836c8e841f63d15f28a.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVG回路</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVG輪郭</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、あらゆる種類の美しい画像を作成するために使用できる非常に強力なツールですが、そのため、それらを使用するのは非常に困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RoughJSはパスを解析し、3つの操作（</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Move</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Line</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cubic Curve）で</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正規化し</font><font style="vertical-align: inherit;">ます。 （</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path-data-parser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。正規化後、線と曲線を描画する上記の方法を使用して図形を描画できます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ポイントオンパス</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パッケージ</font><font style="vertical-align: inherit;">は、パスの正規化とカーブポイントのサンプリングを組み合わせて、対応する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポイントを計算し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、パスのポイント計算の例を示します</font></font><code>M240,100c50,0,0,125,50,100s0,-125,50,-150s175,50,50,100s-175,50,-300,0s0,-125,50,-100s0,125,50,150s0,-100,50,-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/585/374/dd6/585374dd67d5210ff7628540a6b5edaa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が示すのが大好きなもう1つのSVGの例</font><font style="vertical-align: inherit;">は、米国の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概略</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地図です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff7/68b/675/ff768b675300dc4604b87dc2e81478c7.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoughJSを試す</font></font></h2><br><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Github</font></a><font style="vertical-align: inherit;">または</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">APIドキュメントで</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webサイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
確認し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">ください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">プロジェクト</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">情報</font></a><font style="vertical-align: inherit;">については、Twitter </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@RoughLib</font></a><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">フォローしてください</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja500008/index.html">アップスケーラーに会う</a></li>
<li><a href="../ja500010/index.html">汚れた水素の歴史</a></li>
<li><a href="../ja500012/index.html">エンティティフレームワークコア</a></li>
<li><a href="../ja500014/index.html">完全にレスポンシブなデザインは、メディアクエリだけではありません</a></li>
<li><a href="../ja500016/index.html">ReddのセットでFPGAを使用した実際的な作業。Avalon-STバスのDMAをマスターし、Avalon-MMバスを切り替える</a></li>
<li><a href="../ja500020/index.html">Google Earth Engine-ユニークなビッグジオデータ分析プラットフォーム</a></li>
<li><a href="../ja500022/index.html">なぜコミュニティ生活に参加し、それが専門家の成長にどのように役立つのですか？</a></li>
<li><a href="../ja500026/index.html">この業界ではナンセンス*信じられないだけ</a></li>
<li><a href="../ja500028/index.html">データ管理プラットフォーム：ペリフェラルからクラウド</a></li>
<li><a href="../ja500030/index.html">誰が危機に陥っているのか：パンデミック時に株価が上昇するIT企業の例</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>