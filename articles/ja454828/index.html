<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍⚕️ 🎞️ 🌮 モザイク画像を作成する 🌊 👩🏽‍🎓 🍌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="確かにあなたはインターネットでそのような写真を繰り返し見ました： 
 
 
 そのような画像を作成するためのユニバーサルスクリプトを書くことにしました。
 
 理論的な部分
 これをどのように行うかについて少し話しましょう。キャンバスを舗装できる限られた一連の画像と、モザイクの形で提示する必要がある...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>モザイク画像を作成する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454828/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確かにあなたはインターネットでそのような写真を繰り返し見ました： </font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec1/365/8b0/ec13658b0c0760f5da0e3f30b1f2bf47.jpg" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような画像を作成するためのユニバーサルスクリプトを書くことにしました。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理論的な部分</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをどのように行うかについて少し話しましょう。</font><font style="vertical-align: inherit;">キャンバスを舗装できる限られた一連の画像と、モザイクの形で提示する必要がある1つの画像があるとします。</font><font style="vertical-align: inherit;">次に、変換する必要がある画像を同一の領域に分割する必要があります。各領域は、写真付きのデータセットの画像に置き換えられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、特定の領域を置き換える必要があるデータセットの画像をどのように理解するかという問題を提起します。</font><font style="vertical-align: inherit;">もちろん、特定の領域の理想的なタイリングは同じ領域になります。</font><font style="vertical-align: inherit;">各エリアのサイズ</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi><mo>&amp;#x00D7;</mo><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.276ex" height="1.634ex" viewBox="0 -594 2701.9 703.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="1100" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6E" x="2101" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>×</mo><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">m\times n</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 設定することができます </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mi>n</mi><mo>&amp;#x00D7;</mo><mi>m</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.278ex" height="2.009ex" viewBox="0 -755.5 4425.4 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="2546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6D" x="3546" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mi>n</mi><mo>×</mo><mi>m</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">3 \times n \times m</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数値（ここでは、各ピクセルは3つの数値（R、G、Bコンポーネント）に対応しています）。</font><font style="vertical-align: inherit;">つまり、各領域は3次元テンソルによって定義されます。</font><font style="vertical-align: inherit;">ここで、サイズが一致している場合、画像で領域をタイリングする品質を決定するには、損失関数を計算する必要があることが明らかになります。</font><font style="vertical-align: inherit;">この問題では、2つのテンソルのMSEを考慮することができます。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mi>S</mi><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mrow><munderover><mo movablelimits=&quot;false&quot;>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></mrow><mi>N</mi></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.42ex" height="8.884ex" viewBox="0 -3069.7 11805.9 3825.2" role="img" focusable="false" style="vertical-align: -1.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-53" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-45" x="1697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="2461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="2851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="3423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="3868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="4366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-3D" x="5033" y="0"></use><g transform="translate(5811,0)"><g transform="translate(397,0)"><rect stroke="none" width="5476" height="60" x="0" y="220"></rect><g transform="translate(60,1472)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJSZ1-2211" x="46" y="0"></use><g transform="translate(0,-890)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-4E" x="368" y="1344"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="1148" y="0"></use><g transform="translate(1538,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2212" x="2677" y="0"></use><g transform="translate(3677,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="693" y="-213"></use></g><g transform="translate(4512,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="550" y="513"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-4E" x="2293" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mi>S</mi><mi>E</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><munderover><mo movablelimits="false">∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mi>N</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3">MSE(x, y) = \frac{\sum\limits_{i=1}^N (x_{i} - y_{i}) ^ 2}{N}</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここに </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">N</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -私たちの場合、標識の数 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mi>n</mi><mo>&amp;#x00D7;</mo><mi>m</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.278ex" height="2.009ex" viewBox="0 -755.5 4425.4 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="2546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6D" x="3546" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mi>n</mi><mo>×</mo><mi>m</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">3 \times n \times m</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、この式は実際のケースには適用されません。</font><font style="vertical-align: inherit;">実際のところ、データセットが非常に大きく、元の画像が分割される領域が非常に小さい場合、許容できない多くのアクションを実行する必要があります。</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mi>n</mi><mo>&amp;#x00D7;</mo><mi>m</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.278ex" height="2.009ex" viewBox="0 -755.5 4425.4 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-D7" x="2546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6D" x="3546" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mi>n</mi><mo>×</mo><mi>m</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">3 \times n \times m</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特性。より正確には、この式の悪い点は、比較のためにすべての画像を絶対に2回以上圧縮せざるを得ないことですが、その数は元の画像が分割される領域の数と同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題に対する次の解決策を提案します。少し品質を犠牲にして、データセットの各画像を3つの数値のみで特徴付けます。画像内の平均RGB。もちろん、これからいくつかの問題が発生します。最初に、エリアの理想的なタイリングはそれ自体だけでなく、たとえば、逆さまにもなっています（このタイリングは最初のタイリングよりも悪いことは明らかです）。次に、平均色を計算した後、このようなR、G、Bを取得できるため、画像にはそのようなコンポーネントのピクセルさえありません（つまり、私たちの目は画像をすべての色の混合として認識しているとは言いがたいです）。しかし、もっと良い方法は思いつきませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データセットから画像の平均RGBを計算し、受け取った情報を使用するのは一度だけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記を要約すると、セットからのRGBピクセルからそれに最も近い領域を選択し、見つかった中間RGBが属するデータセットからの画像で領域をタイル化する必要があることがわかります。</font><font style="vertical-align: inherit;">面積とピクセルを比較するには、同じようにします。面積を3つの数値に変換し、最も近い平均RGBを見つけます。</font><font style="vertical-align: inherit;">私たちは知ることによってのみできることがわかります</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>,</mo><mi>G</mi><mo>,</mo><mi>B</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.423ex" height="2.509ex" viewBox="0 -809.3 3195.8 1080.4" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="1204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="1991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="2436" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>,</mo><mi>G</mi><mo>,</mo><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">R, G, B</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> セットでそのようなものを見つける </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.822ex" height="2.509ex" viewBox="0 -809.3 4228.7 1080.4" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="1103" y="0"></use><g transform="translate(1548,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1112" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="2679" y="0"></use><g transform="translate(3124,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1074" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-8">R_{i}, G_{i}, B_{i}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3次元空間におけるこれらの2点間のユークリッド距離が最小になること： </font></font><br>
<br>
<math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msqrt><mo stretchy=&quot;false&quot;>(</mo><mi>R</mi><mo>&amp;#x2212;</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>G</mi><mo>&amp;#x2212;</mo><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>B</mi><mo>&amp;#x2212;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></msqrt><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="45.561ex" height="3.384ex" viewBox="0 -1024.6 19616.4 1457.1" role="img" focusable="false" style="vertical-align: -1.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJSZ1-221A" x="0" y="24"></use><rect stroke="none" width="15457" height="60" x="1000" y="815"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2212" x="1371" y="0"></use><g transform="translate(2371,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1074" y="-213"></use></g><g transform="translate(3475,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="550" y="408"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="4541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="5542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="5931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2212" x="6940" y="0"></use><g transform="translate(7941,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1112" y="-213"></use></g><g transform="translate(9071,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="550" y="408"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="10137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="11138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="11527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2212" x="12509" y="0"></use><g transform="translate(13510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="1074" y="-213"></use></g><g transform="translate(14613,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="550" y="408"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-3D" x="16735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6D" x="17791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="18670" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6E" x="19015" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mo stretchy="false">(</mo><mi>R</mi><mo>−</mo><msub><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>G</mi><mo>−</mo><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>B</mi><mo>−</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></msqrt><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">\sqrt{(R - R_{i}) ^ 2 + (G - G_{i}) ^ 2 + (B - B_{i}) ^ 2} = min</script><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データセットの前処理</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自の画像データセットを構築できます。</font><font style="vertical-align: inherit;">私は以前、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライオン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">犬の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像とデータセットをマージしていました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記で書いたように、データセットから画像の平均RGB値を計算して保存するだけで済みます。</font><font style="vertical-align: inherit;">私達がすること：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pickle<font></font>
<font></font>
items = {}<font></font>
<font></font>
<span class="hljs-comment"># cv2      BGR,   RGB,    </span><font></font>
<font></font>
<span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">'dogs_images_dataset'</span>):  <span class="hljs-comment">#      ,   </span>
    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> os.listdir(os.path.join(<span class="hljs-string">'dogs_images_dataset'</span>, path)):<font></font>
        file1 = os.path.join(<span class="hljs-string">'dogs_images_dataset'</span>, path + <span class="hljs-string">'/'</span> + file)<font></font>
        img = np.array(cv2.cvtColor(cv2.imread(file1), cv2.COLOR_BGR2RGB))<font></font>
        r = round(img[:, :, <span class="hljs-number">0</span>].mean())<font></font>
        g = round(img[:, :, <span class="hljs-number">1</span>].mean())<font></font>
        b = round(img[:, :, <span class="hljs-number">2</span>].mean())<font></font>
        items[file1] = (r, g, b,)<font></font>
<font></font>
<span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">'cats_images_dataset'</span>):  <span class="hljs-comment">#      ,         </span>
    file1 = os.path.join(<span class="hljs-string">'cats_images_dataset'</span>, file)<font></font>
    img = np.array(cv2.cvtColor(cv2.imread(file1), cv2.COLOR_BGR2RGB))<font></font>
    r = round(img[:, :, <span class="hljs-number">0</span>].mean())<font></font>
    g = round(img[:, :, <span class="hljs-number">1</span>].mean())<font></font>
    b = round(img[:, :, <span class="hljs-number">2</span>].mean())<font></font>
    items[file1] = (r, g, b,)<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'data.pickle'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pickle.dump(items, f)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトは比較的長い時間実行され、その後、必要な情報がdata.pickleファイルに保存されます。 </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モザイク</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、モザイクの作成に移りましょう。</font><font style="vertical-align: inherit;">まず、必要なimportを記述し、いくつかの定数を宣言します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt<font></font>
<font></font>
PATH_TO_PICTURE = <span class="hljs-string">''</span>  <span class="hljs-comment">#      </span>
PICTURE = <span class="hljs-string">'picture.png'</span>  <span class="hljs-comment">#    </span><font></font>
<font></font>
VERTICAL_SECTION_SIZE = <span class="hljs-number">7</span>  <span class="hljs-comment">#      </span>
HORIZONTAL_SECTION_SIZE = <span class="hljs-number">7</span>  <span class="hljs-comment">#      </span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
保存したデータをファイルから取得します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> open(<span class="hljs-string">'data.pickle'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    items = pickle.load(f)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
損失関数について説明します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lost_function</span>(<span class="hljs-params">r_segm, g_segm, b_segm, arg</span>):</span>
    r, g, b = arg[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">return</span> sqrt((r - r_segm) ** <span class="hljs-number">2</span> + (g - g_segm) ** <span class="hljs-number">2</span> + (b - b_segm) ** <span class="hljs-number">2</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元の画像を開きます。</font></font><br>
<br>
<pre><code class="python hljs">file = os.path.join(PATH_TO_PICTURE, PICTURE)<font></font>
img = np.array(cv2.cvtColor(cv2.imread(file), cv2.COLOR_BGR2RGB))<font></font>
size = img.shape<font></font>
x, y = size[<span class="hljs-number">0</span>], size[<span class="hljs-number">1</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、タイリングが可能なのは、 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mtext>&amp;#xA0;</mtext><mo>&amp;#x22EE;</mo><mtext>&amp;#xA0;</mtext><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mo>&amp;#x2227;</mo><mtext>&amp;#xA0;</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mtext>&amp;#xA0;</mtext><mo>&amp;#x22EE;</mo><mtext>&amp;#xA0;</mtext><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.463ex" height="4.009ex" viewBox="0 -1401.3 11393.9 1726.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-5F" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6F" x="1462" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-72" x="1948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="2399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-67" x="2745" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-22EE" x="3475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="4004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="4576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2227" x="5438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-28" x="6577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="6967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-5F" x="7464" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6F" x="7965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-72" x="8450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="8902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-67" x="9247" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-22EE" x="9978" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="10506" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-29" x="11004" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mtext>&nbsp;</mtext><mo>⋮</mo><mtext>&nbsp;</mtext><mi>x</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo>∧</mo><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><mi>y</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mtext>&nbsp;</mtext><mo>⋮</mo><mtext>&nbsp;</mtext><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-10">(x\_orig \space \vdots \space x) \space \wedge \space (y\_orig \space \vdots \space y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どこ </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mo>,</mo><mi>y</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.033ex" height="2.384ex" viewBox="0 -755.5 6042.2 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-5F" x="572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6F" x="1073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-72" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="2010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-67" x="2355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="2836" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-5F" x="3778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-6F" x="4279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-72" x="4764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-69" x="5216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-67" x="5561" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mo>,</mo><mi>y</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">x\_orig, y\_orig</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -元の画像のサイズ、および </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>,</mo><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.519ex" height="1.884ex" viewBox="0 -540.2 1515.2 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2C" x="572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-79" x="1017" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>,</mo><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">x, y</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-タイリング領域の寸法。</font><font style="vertical-align: inherit;">もちろん、上記の条件が常に満たされるとは限りません。</font><font style="vertical-align: inherit;">したがって、元の画像を適切なサイズにトリミングし、画像のサイズからそれらの残差を領域のサイズで除算して差し引きます。</font></font><br>
<br>
<pre><code class="python hljs">img = cv2.resize(img, (y - (y % VERTICAL_SECTION_SIZE), x - (x % HORIZONTAL_SECTION_SIZE)))<font></font>
size = img.shape<font></font>
x, y = size[<span class="hljs-number">0</span>], size[<span class="hljs-number">1</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、直接タイリングに進みます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(x // HORIZONT<font></font>
AL_SECTION_SIZE):<font></font>
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(y // VERTICAL_SECTION_SIZE):<font></font>
        sect = img[i * HORIZONTAL_SECTION_SIZE:(i + <span class="hljs-number">1</span>) * HORIZONTAL_SECTION_SIZE,<font></font>
                j * VERTICAL_SECTION_SIZE:(j + <span class="hljs-number">1</span>) * VERTICAL_SECTION_SIZE]<font></font>
        r_mean, g_mean, b_mean = sect[:, :, <span class="hljs-number">0</span>].mean(), sect[:, :, <span class="hljs-number">1</span>].mean(), sect[:, :, <span class="hljs-number">2</span>].mean()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、最後から2番目の行で、画像の目的の領域が選択され、最後の行でその平均RGBコンポーネントが考慮されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、最も重要な行の1つを検討します。</font></font><br>
<br>
<pre><code class="python hljs">current = sorted(items.items(), key=<span class="hljs-keyword">lambda</span> argument: lost_function(r_mean, g_mean, b_mean, argument))[<span class="hljs-number">0</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この行は、データセットのすべての画像を、それらの損失関数の値で昇順に並べ替え、argminを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、画像をトリミングして、領域をそれで置き換える必要があります。</font></font><br>
<br>
<pre><code class="python hljs">resized = cv2.resize(cv2.cvtColor(cv2.imread(current[<span class="hljs-number">0</span>]), cv2.COLOR_BGR2RGB),<font></font>
                             (VERTICAL_SECTION_SIZE, HORIZONTAL_SECTION_SIZE,))<font></font>
        img[i * HORIZONTAL_SECTION_SIZE:(i + <span class="hljs-number">1</span>) * HORIZONTAL_SECTION_SIZE,<font></font>
        j * VERTICAL_SECTION_SIZE:(j + <span class="hljs-number">1</span>) * VERTICAL_SECTION_SIZE] = resized</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、結果の画像を画面に表示します。</font></font><br>
<br>
<pre><code class="python hljs">img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)<font></font>
cv2.imshow(<span class="hljs-string">'ImageWindow'</span>, img)<font></font>
cv2.waitKey(<span class="hljs-number">0</span>)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">損失関数についてもう少し</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、損失関数にはいくつかのオプションがあり、それぞれ理論的にこの問題に適用できます。</font><font style="vertical-align: inherit;">それらの品質は経験的にしか評価できません。何ができるでしょうか:)</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mspace linebreak=&quot;newline&quot; /><msqrt><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt><mspace linebreak=&quot;newline&quot; /><msqrt><mn>0.2126</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mn>0.7152</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><mn>0.0722</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt><mspace linebreak=&quot;newline&quot; /><msqrt><msup><mn>0.2126</mn><mn>2</mn></msup><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><msup><mn>0.7152</mn><mn>2</mn></msup><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><msup><mn>0.0722</mn><mn>2</mn></msup><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="14.384ex" viewBox="0 -809.3 41871.4 6193.2" role="img" focusable="false" style="vertical-align: -12.505ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(16474,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="1871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="2372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="3372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="3651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="4484" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="5271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="5772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="6772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="7051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="7884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-7C" x="8644" y="0"></use></g><g transform="translate(16128,-1719)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="8613" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="0" y="0"></use><g transform="translate(833,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="2269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="3269" y="0"></use><g transform="translate(4103,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1112" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="5565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="6566" y="0"></use><g transform="translate(7400,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g></g></g><g transform="translate(11957,-3412)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="16956" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-36" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="2781" y="0"></use><g transform="translate(3614,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="5050" y="0"></use><g transform="translate(6050,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-37" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-35" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="2280" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="8831" y="0"></use><g transform="translate(9665,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1112" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="11127" y="0"></use><g transform="translate(12128,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-37" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="2280" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="14909" y="0"></use><g transform="translate(15743,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g></g></g><g transform="translate(11276,-5104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="18318" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-36" x="2280" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="3932" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="3234" y="0"></use><g transform="translate(4068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="5504" y="0"></use><g transform="translate(6504,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-37" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-35" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="2280" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="3932" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="9739" y="0"></use><g transform="translate(10573,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1112" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2B" x="12035" y="0"></use><g transform="translate(13036,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-37" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="2280" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="3932" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-394" x="16271" y="0"></use><g transform="translate(17104,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhgDUB_7gzvK9LcIcxtmQ_hDiF9ctA#MJMAIN-32" x="1074" y="583"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mspace linebreak="newline"></mspace><msqrt><mi mathvariant="normal">Δ</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">Δ</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">Δ</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt><mspace linebreak="newline"></mspace><msqrt><mn>0.2126</mn><mi mathvariant="normal">Δ</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mn>0.7152</mn><mi mathvariant="normal">Δ</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><mn>0.0722</mn><mi mathvariant="normal">Δ</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt><mspace linebreak="newline"></mspace><msqrt><msup><mn>0.2126</mn><mn>2</mn></msup><mi mathvariant="normal">Δ</mi><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><msup><mn>0.7152</mn><mn>2</mn></msup><mi mathvariant="normal">Δ</mi><msup><mi>G</mi><mn>2</mn></msup><mo>+</mo><msup><mn>0.0722</mn><mn>2</mn></msup><mi mathvariant="normal">Δ</mi><msup><mi>B</mi><mn>2</mn></msup></msqrt></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13">|\Delta R| + |\Delta G| + |\Delta B| \\ \sqrt{\Delta R ^ 2 + \Delta G ^ 2 + \Delta B ^ 2} \\ \sqrt{0.2126 \Delta R ^ 2 + 0.7152 \Delta G ^ 2 + 0.0722 \Delta B ^ 2} \\ \sqrt{0.2126^2 \Delta R ^ 2 + 0.7152^2 \Delta G ^ 2 + 0.0722^2 \Delta B ^ 2}</script></p><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが私の結果の一部です。 </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開いた</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/729/395/dc87293957d6476e4a865de29d665414.jpg" alt="画像"><br>
<img src="https://habrastorage.org/getpro/habr/post_images/df8/ecd/b6e/df8ecdb6e4ad0c7bf55cc1f7a21fcac0.jpg" alt="画像"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オリジナル</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f4a/41c/447/f4a41c44793e3070ab22541ee54f1c89.jpg" alt="画像"><br>
<img src="https://habrastorage.org/getpro/habr/post_images/463/fd3/5f0/463fd35f0b3ccf5b86aaef2c2db7b0ff.jpg" alt="画像"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全なソースコード、既に計算されたdata.pickleファイル、および収集したデータセットを含むアーカイブは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja454816/index.html">WSLでのphp-fpm + nginxバンドルの構成</a></li>
<li><a href="../ja454818/index.html">Rekko Challenge-レコメンデーションシステムを作成するためのコンテストで2位になる方法</a></li>
<li><a href="../ja454820/index.html">Azure検索</a></li>
<li><a href="../ja454824/index.html">ディスクリート要素の最も単純なオペアンプ</a></li>
<li><a href="../ja454826/index.html">hashgetでバックアップを99.5％削減</a></li>
<li><a href="../ja454830/index.html">プロダクトマネージャーとして成功するための3つの重要な要素：Alexander Belyaev</a></li>
<li><a href="../ja454832/index.html">週4日の稼働が悪い話である理由</a></li>
<li><a href="../ja454834/index.html">モチベーションの低いタッチタイピングの研究の本当の条件</a></li>
<li><a href="../ja454840/index.html">彼の妻と住宅ローンとオランダへの慎重な移転。パート2：ドキュメントの準備と移動</a></li>
<li><a href="../ja454844/index.html">Odigest：今週のデザイナーにとって興味深い</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>