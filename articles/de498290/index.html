<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôáüèº ü§∂üèº üßõüèæ Prozedurale Hydrologie: Dynamische Simulation von Fl√ºssen und Seen ‚ùáÔ∏è üò™ üïö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hinweis: Der vollst√§ndige Quellcode des Projekts wird auf Github [ hier ] ver√∂ffentlicht. Das Repository enth√§lt au√üerdem detaillierte Informationen z...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Prozedurale Hydrologie: Dynamische Simulation von Fl√ºssen und Seen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498290/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93d/664/fbe/93d664fbe19ce63dfa6b60d9621d07ae.png"></div><blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis: Der</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vollst√§ndige Quellcode des Projekts wird auf Github [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] ver√∂ffentlicht. </font><font style="vertical-align: inherit;">Das Repository enth√§lt au√üerdem detaillierte Informationen zum Lesen und Verwenden des Codes.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Implementierung der partikelbasierten hydraulischen Erosionssimulation entschied ich, dass es m√∂glich sein w√ºrde, dieses Konzept zu erweitern, um andere Aspekte der Oberfl√§chenhydrologie zu simulieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die vorhandenen Methoden zur prozeduralen Erzeugung von Fl√ºssen und Seen untersucht, aber die gefundenen Ergebnisse passten nicht zu mir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptziel vieler Methoden ist die Erstellung von Flusssystemen (sehr sch√∂n) unter Verwendung verschiedener Algorithmen (manchmal basierend auf einer zuvor erstellten H√∂henkarte oder einem inversen Problem), aber es fehlt ihnen eine starke realistische Beziehung zwischen Topographie und Hydrologie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus wird die Verarbeitung des Wassermodells auf dem Relief als Ganzes f√ºr einige Ressourcen ber√ºcksichtigt und eine Simulation hochkomplexer Fl√ºssigkeiten verwendet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werde ich meinen Versuch demonstrieren, diese Probleme mit einer Technik zu √ºberwinden, die die F√§higkeit erweitert, eine partikelbasierte hydraulische Erosion zu simulieren. </font><font style="vertical-align: inherit;">Ich werde auch erkl√§ren, wie ich im Allgemeinen das Problem ‚ÄûWasser auf dem Relief‚Äú l√∂se. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei meiner Methode strebe ich sowohl nach Einfachheit als auch nach Realismus auf Kosten einer geringf√ºgigen Erh√∂hung der Komplexit√§t des zugrunde liegenden Erosionssystems. </font><font style="vertical-align: inherit;">Ich empfehle meinen vorherigen Artikel √ºber dieses System zu </font><font style="vertical-align: inherit;">lesen [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf Habr√©], weil das neue Modell auf ihn basiert.</font></font><br>
<a name="habracut"></a><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology6.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieses System ist in der Lage, mit Hydrologie schnell ein sehr realistisch aussehendes Terrain zu erzeugen. </font><font style="vertical-align: inherit;">Dieses Video wurde in Echtzeit gerendert. </font><font style="vertical-align: inherit;">Das System ist in der Lage, eine unendliche Anzahl solcher Landschaften zu erzeugen.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erl√§uterung:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich bin kein Geologe, daher habe ich das System basierend auf meinem Wissen erstellt.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologiekonzept</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte ein generatives System schaffen, das viele geografische Ph√§nomene simulieren kann, darunter:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fluss- und Bachwanderung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nat√ºrliche Wasserf√§lle</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canyon Formation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwellung des Bodens und der Auen</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Folglich m√ºssen die Systeme der Hydrologie und Topographie dynamisch und eng miteinander verbunden sein. </font><font style="vertical-align: inherit;">Das partikelbasierte hydraulische Erosionssystem hat daf√ºr bereits die grundlegenden Aspekte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Relief beeinflusst die Bewegung des Wassers</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erosion und Sedimentation beeinflussen das Gel√§nde</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tats√§chlich simuliert dieses System die durch Regen verursachte Erosion, kann jedoch nicht viele andere Einfl√ºsse vermitteln:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem sich bewegenden </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strom</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verh√§lt sich Wasser anders.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem stehenden </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pool</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verh√§lt sich </font><strong><font style="vertical-align: inherit;">das</font></strong><font style="vertical-align: inherit;"> Wasser anders</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich werde oft </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Streams</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pools</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erw√§hnen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Im Modell wird die Annahme getroffen, dass es sich um zweidimensionale Ph√§nomene im gro√üen Ma√üstab handelt. </font><font style="vertical-align: inherit;">Sie reduzieren die Komplexit√§t des Modells erheblich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten der oben genannten geografischen Ph√§nomene k√∂nnen mithilfe des Modells von Fl√ºssen und Becken vermittelt werden. </font><font style="vertical-align: inherit;">Idealerweise sollten sie den Realismus eines partikelbasierten Systems ausleihen und verbessern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vereinfachtes hydrologisches Modell</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Speichern von Informationen zu Flows und Pools in einer oder mehreren Datenstrukturen (Grafiken, Objekte usw.) ist zu komplex und schr√§nkt unsere M√∂glichkeiten ein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb besteht unser hydrologisches Modell von zwei Karten: </font><strong><font style="vertical-align: inherit;">Flusskarten</font></strong><font style="vertical-align: inherit;"> und </font><strong><font style="vertical-align: inherit;">Becken Karten</font></strong><font style="vertical-align: inherit;"> .</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vergessen Sie nicht, dass sie als 2D-Systeme modelliert sind.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stream- und Pool-Karten</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Flusskarte beschreibt das flie√üende Wasser an der Oberfl√§che (B√§che und Fl√ºsse). </font><font style="vertical-align: inherit;">Es speichert die zeitlich gemittelten Partikelpositionen auf der Karte. </font><font style="vertical-align: inherit;">Alte Informationen werden langsam gel√∂scht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Beckenkarte beschreibt das stille Wasser an der Oberfl√§che (Pf√ºtzen, Teiche, Seen, Ozeane). </font><font style="vertical-align: inherit;">Es speichert die Wassertiefe an der entsprechenden Position der Karte.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stream- und Pool-Maps sind Arrays mit derselben Gr√∂√üe wie die H√∂henkarte.</font></font></blockquote><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/869/209/77f/86920977ff555d0cf5a2e0a923d79207.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erleichterung mit hydrologischen Auswirkungen. </font><font style="vertical-align: inherit;">Die Wasserschicht im Putz stammt aus hydrologischen Karten.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/2a1/1c2/0f12a11c2164cc93995a9f5599b1a7a9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kombinierte hydrologische Karten. </font><font style="vertical-align: inherit;">Hellblau ist eine Stream-Karte, Dunkelblau ist eine Pool-Karte. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Karten werden durch Partikel erzeugt und verbunden, die Wasser entlang des Gel√§ndes bewegen. </font><font style="vertical-align: inherit;">Durch Hinzuf√ºgen dieser hydrologischen Karten erhalten wir auch zeitunabh√§ngige Informationen, die die Interaktion von Partikeln mit ihrer Simulation separat erm√∂glichen. </font><font style="vertical-align: inherit;">Durch die Verwendung dieser Karten k√∂nnen Partikel interagieren, um Parameter zu erhalten, die ihre Bewegung beeinflussen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Stream-Map wird nach dem Durchlaufen der Easy-In-Out-Funktion angezeigt und auf dieser Grundlage auf dem Gel√§nde gerendert. </font><font style="vertical-align: inherit;">Um feinere / sch√§rfere Fl√ºsse zu erzielen (oder niedrigere Werte in weiten flachen Bereichen zu ignorieren), kann diese Anzeige ge√§ndert oder Schwellenwerte daf√ºr festgelegt werden.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wasser als Partikel</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wasser wird in Form einer diskreten Masse (‚ÄûPartikel‚Äú) mit einem Volumen pr√§sentiert, die sich entlang der Oberfl√§che des Reliefs bewegt. </font><font style="vertical-align: inherit;">Es hat mehrere Parameter, die seine Bewegung beeinflussen (Reibung, Verdunstungsrate, Ablagerungsrate usw.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist die grundlegende Datenstruktur zur Simulation der Hydrologie. </font><font style="vertical-align: inherit;">Partikel werden </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht gespeichert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sondern nur f√ºr die Interaktion zwischen Karten von H√∂hen, Fl√ºssen und Pools verwendet. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis: Das</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Konzept eines Partikels wurde in einem fr√ºheren </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beitrag</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf Habr√©] (und einer unendlichen Anzahl anderer Ressourcen) </font><font style="vertical-align: inherit;">ausf√ºhrlicher erl√§utert </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologische Zyklus- und Karteninteraktion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karten interagieren √ºber einen Wasserkreislauf miteinander. </font><font style="vertical-align: inherit;">Der Wasserkreislauf besteht aus folgenden Schritten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen eines Partikels im Gel√§nde</font></font></li>
<li><strong></strong>        (.. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">     </a>).</li>
<li>        ,                  <strong></strong>.</li>
<li>  ,           <strong></strong>.</li>
<li> ,     (    )      .</li>
<li>     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im gesamten System gibt es nur zwei Algorithmen: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abstieg (Abstieg)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberschwemmung (√úberflutung)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Absteigende Partikel ver√§ndern die Karte der Str√∂mungen, und √ºberflutete Partikel ver√§ndern die Karte der Becken. </font><font style="vertical-align: inherit;">Diese Algorithmen werden nachstehend ausf√ºhrlich beschrieben.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/989/a81/2cb/989a812cb5d769edbb76fd5a284d18b1.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eindimensionales Diagramm des hydrologischen Modells. </font><font style="vertical-align: inherit;">Partikel werden im Gel√§nde erzeugt und zyklisch von zwei Algorithmen verarbeitet: Abstieg und Flut. </font><font style="vertical-align: inherit;">Dabei √§ndern sich die Karten der Becken und Fl√ºsse, was sich wiederum auf die Bewegung der Partikel auswirkt.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Folgenden werde ich die vollst√§ndige Implementierung des Systems zur Generierung der Ergebnisse erl√§utern und Codebeispiele vorstellen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich werde nur relevante Codeteile anzeigen. </font><font style="vertical-align: inherit;">Weitere Informationen finden Sie im Repository auf Github. </font><font style="vertical-align: inherit;">Alle relevanten Teile des Codes befinden sich in der Datei ‚Äûwater.h‚Äú.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partikelklasse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Struktur des Tropfenpartikels ist identisch mit der Struktur des vorherigen Systems. </font><font style="vertical-align: inherit;">Abstieg und Flut sind jetzt Mitglieder der Struktur, da sie jeweils nur auf ein Partikel wirken.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Drop</span>{</span><font></font>
  <font></font>
  <span class="hljs-comment">//... constructors</span><font></font>
<font></font>
  <span class="hljs-keyword">int</span> index;                         <span class="hljs-comment">//Flat Array Index</span>
  glm::vec2 pos;                     <span class="hljs-comment">//2D Position</span>
  glm::vec2 speed = glm::vec2(<span class="hljs-number">0.0</span>);
  <span class="hljs-keyword">double</span> volume = <span class="hljs-number">1.0</span>;
  <span class="hljs-keyword">double</span> sediment = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
  <span class="hljs-comment">//... parameters</span>
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> volumeFactor = <span class="hljs-number">100.0</span>; <span class="hljs-comment">//"Water Deposition Rate"</span><font></font>
<font></font>
  <span class="hljs-comment">//Hydrological Cycle Functions</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein zus√§tzlicher Parameter ist der Volumenfaktor, der bestimmt, wie die √úberschwemmung das Volumen auf den Wasserstand √ºbertr√§gt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abstiegsalgorithmus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Abstiegsalgorithmus ist fast der gleiche wie der einfache Partikelerosionsalgorithmus. </font><font style="vertical-align: inherit;">Er erh√§lt zus√§tzliche Eingabe "Track" - ein Array, in das er alle von ihm besuchten Positionen schreibt. </font><font style="vertical-align: inherit;">Ein Array wird ben√∂tigt, um in Zukunft Stream-Maps zu erstellen.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>{<font></font>
<font></font>
  glm::ivec2 ipos; <font></font>
<font></font>
  <span class="hljs-keyword">while</span>(volume &gt; minVol){<font></font>
<font></font>
    ipos = pos; <span class="hljs-comment">//Initial Position</span>
    <span class="hljs-keyword">int</span> ind = ipos.x*dim.y+ipos.y; <span class="hljs-comment">//Flat Array Index</span><font></font>
<font></font>
    <span class="hljs-comment">//Register Position</span>
    track[ind] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
    <span class="hljs-comment">//...</span><font></font>
  }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Parametersatz wird durch Fluss- und Poolzuordnungen ge√§ndert:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span>
  <span class="hljs-comment">//Effective Parameter Set</span>
  <span class="hljs-keyword">double</span> effD = depositionRate;
  <span class="hljs-keyword">double</span> effF = friction*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.5</span>*stream[ind]);
  <span class="hljs-keyword">double</span> effR = evapRate*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.2</span>*stream[ind]);
<span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe herausgefunden, dass eine solche Parameter√§nderung gut funktioniert.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im vorherigen System konnten Partikel aus diesem Kreislauf herauskommen und nur bei vollst√§ndiger Verdunstung oder √ºber die Grenzen des Reliefs hinaus zerst√∂rt werden. </font><font style="vertical-align: inherit;">Jetzt wurden hier zwei zus√§tzliche Ausstiegsbedingungen hinzugef√ºgt:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... nind is the next position after moving the particle</span><font></font>
  <font></font>
  <span class="hljs-comment">//Out-Of-Bounds</span>
  <span class="hljs-keyword">if</span>(!glm::all(glm::greaterThanEqual(pos, glm::vec2(<span class="hljs-number">0</span>))) ||<font></font>
     !glm::all(glm::lessThan((glm::ivec2)pos, dim))){<font></font>
       volume = <span class="hljs-number">0.0</span>;
       <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Slow-Down</span>
  <span class="hljs-keyword">if</span>(stream[nind] &gt; <span class="hljs-number">0.5</span> &amp;&amp; length(acc) &lt; <span class="hljs-number">0.01</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
  <span class="hljs-comment">//Enter Pool</span>
  <span class="hljs-keyword">if</span>(pool[nind] &gt; <span class="hljs-number">0.0</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das Partikel keine ausreichende Beschleunigung aufweist und von anderen Partikeln umgeben ist oder direkt in den Pool gelangt, schlie√üt es den Abstieg mit seinem gesamten verbleibenden Volumen vorzeitig ab und f√§hrt mit dem Flutungsalgorithmus fort.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis: Durch die</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √úberlaufbedingung wird auch das Volumen zur√ºckgesetzt, sodass die Partikel nicht zum Flutungsalgorithmus √ºbergehen.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hochwasseralgorithmus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Partikel mit dem verbleibenden Volumen kann aus seiner aktuellen Position fluten. Dies geschieht, wenn es nicht mehr abf√§llt (es gibt keine Beschleunigung) oder in einen vorhandenen Pool gelangt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Flutungsalgorithmus √ºbertr√§gt das Volumen des Partikels auf den erh√∂hten Wasserstand und √§ndert die Karte des Beckens. Die Technik besteht darin, den Wasserstand mithilfe der ‚ÄûTestebene‚Äú schrittweise um einen Bruchteil des Partikelvolumens zu erh√∂hen. Mit steigendem Wasserstand nimmt das Partikelvolumen ab.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c28/908/ebc/c28908ebc4f1efee43232578962beed2.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberflutungsalgorithmus-Animation. Die Testebene und der Wasserstand steigen allm√§hlich an, wodurch das Partikelvolumen verringert wird. Wenn ein Leck gefunden wird, bewegt sich das verbleibende Volumen zum Leckpunkt, um den Abstieg durchzuf√ºhren.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bei jedem Schritt f√ºhren wir eine Flutf√ºllung von der Position des Partikels aus durch (dh √ºberpr√ºfen Sie rekursiv die Positionen der Nachbarn) und f√ºgen alle Positionen √ºber der urspr√ºnglichen Ebene (aktueller Wasserstand) und unter der Testebene zum ‚ÄûFlutsatz‚Äú hinzu. Dies ist der Reliefbereich, der Teil des Pools ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend des F√ºllens pr√ºfen wir auf Lecks. Dies sind Punkte aus dem Satz von √úberschwemmungen, die unterhalb der Testebene UND der urspr√ºnglichen Ebene liegen. Wenn wir mehrere Leckstellen finden, w√§hlen wir die niedrigste aus.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* height, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>{<font></font>
<font></font>
  index = (<span class="hljs-keyword">int</span>)pos.x*dim.y + (<span class="hljs-keyword">int</span>)pos.y;
  <span class="hljs-keyword">double</span> plane = height[index] + pool[index];  <span class="hljs-comment">//Testing Plane</span>
  <span class="hljs-keyword">double</span> initialplane = plane;                 <span class="hljs-comment">//Water Level</span><font></font>
<font></font>
  <span class="hljs-comment">//Flood Set</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">set</span>;
  <span class="hljs-keyword">int</span> fail = <span class="hljs-number">10</span>; <span class="hljs-comment">//Just in case...</span><font></font>
<font></font>
  <span class="hljs-comment">//Iterate while particle still has volume</span>
  <span class="hljs-keyword">while</span>(volume &gt; minVol &amp;&amp; fail){<font></font>
<font></font>
    <span class="hljs-built_in">set</span>.clear();
    <span class="hljs-keyword">bool</span> tried[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
    <span class="hljs-comment">//Lowest Drain</span>
    <span class="hljs-keyword">int</span> drain;
    <span class="hljs-keyword">bool</span> drainfound = <span class="hljs-literal">false</span>;<font></font>
<font></font>
    <span class="hljs-comment">//Recursive Flood-Fill Function</span>
    <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(<span class="hljs-keyword">int</span>)&gt; fill = [&amp;](<span class="hljs-keyword">int</span> i){<font></font>
<font></font>
      <span class="hljs-comment">//Out of Bounds</span>
      <span class="hljs-keyword">if</span>(i/dim.y &gt;= dim.x || i/dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span>(i%dim.y &gt;= dim.y || i%dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Position has been tried</span>
      <span class="hljs-keyword">if</span>(tried[i]) <span class="hljs-keyword">return</span>;<font></font>
      tried[i] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Wall / Boundary of the Pool</span>
      <span class="hljs-keyword">if</span>(plane &lt; height[i] + pool[i]) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Drainage Point</span>
      <span class="hljs-keyword">if</span>(initialplane &gt; height[i] + pool[i]){<font></font>
<font></font>
        <span class="hljs-comment">//No Drain yet</span>
        <span class="hljs-keyword">if</span>(!drainfound)<font></font>
          drain = i;<font></font>
<font></font>
        <span class="hljs-comment">//Lower Drain</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( pool[drain] + height[drain] &lt; pool[i] + height[i] )<font></font>
          drain = i;<font></font>
<font></font>
        drainfound = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>; <span class="hljs-comment">//No need to flood from here</span><font></font>
      }<font></font>
<font></font>
      <span class="hljs-comment">//Part of the Pool</span>
      <span class="hljs-built_in">set</span>.push_back(i);<font></font>
      fill(i+dim.y);    <span class="hljs-comment">//Fill Neighbors</span><font></font>
      fill(i-dim.y);<font></font>
      fill(i+<span class="hljs-number">1</span>);<font></font>
      fill(i<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y+<span class="hljs-number">1</span>);  <span class="hljs-comment">//Diagonals (Improves Drainage)</span>
      fill(i-dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i-dim.y+<span class="hljs-number">1</span>);<font></font>
    };<font></font>
<font></font>
    <span class="hljs-comment">//Perform Flood</span><font></font>
    fill(index);<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis: Der</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Einfachheit halber wird hier ein Acht- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wege-F√ºllalgorithmus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwendet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In Zukunft wird es m√∂glich sein, es effizienter umzusetzen.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die vielen √úberschwemmungs- und Leckstellen identifiziert haben, √§ndern wir den Wasserstand und die Poolkarte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein Leckpunkt gefunden wird, bewegen wir das Partikel (und sein √úberlaufvolumen) zum Leckpunkt, damit es wieder abfallen kann. </font><font style="vertical-align: inherit;">Dann sinkt der Wasserstand auf die H√∂he der Leckstelle.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Drainage Point</span>
    <span class="hljs-keyword">if</span>(drainfound){<font></font>
<font></font>
      <span class="hljs-comment">//Set the Particle Position</span><font></font>
      pos = glm::vec2(drain/dim.y, drain%dim.y);<font></font>
<font></font>
      <span class="hljs-comment">//Set the New Waterlevel (Slowly)</span>
      <span class="hljs-keyword">double</span> drainage = <span class="hljs-number">0.001</span>;<font></font>
      plane = (<span class="hljs-number">1.0</span>-drainage)*initialplane + drainage*(height[drain] + pool[drain]);<font></font>
<font></font>
      <span class="hljs-comment">//Compute the New Height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>) <span class="hljs-comment">//Iterate over Set</span>
        pool[s] = (plane &gt; height[s])?(plane-height[s]):<span class="hljs-number">0.0</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Remove some sediment</span>
      sediment *= <span class="hljs-number">0.1</span>;
      <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn der Wasserstand aufgrund von Leckagen abnimmt, habe ich festgestellt, dass dies bei einer geringen Leckrate am besten funktioniert. </font><font style="vertical-align: inherit;">Dar√ºber hinaus hilft die Entfernung eines Teils des Sedimentgesteins bei der Umsetzung.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund bewegen neue Partikel, die in den gef√ºllten Pool gelangen, ihr Volumen sofort zum Leckpunkt, da durch Hinzuf√ºgen von Volumen zum Pool das gleiche Volumen verdr√§ngt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wird der Leckpunkt nicht gefunden, berechnen wir das Volumen unter der Testebene und vergleichen es mit dem Volumen des Partikels. </font><font style="vertical-align: inherit;">Wenn es weniger ist, entfernen wir das Volumen aus dem Partikel und stellen den Wasserstand ein. </font><font style="vertical-align: inherit;">Dann steigt die Testebene. </font><font style="vertical-align: inherit;">Wenn es gr√∂√üer ist, wird die Testebene abgesenkt. </font><font style="vertical-align: inherit;">Der Vorgang wird wiederholt, bis das Partikel keinen Platz mehr hat oder eine Leckstelle gefunden wird.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Get Volume under Plane</span>
    <span class="hljs-keyword">double</span> tVol = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
      tVol += volumeFactor*(plane - (height[s]+pool[s]));<font></font>
<font></font>
    <span class="hljs-comment">//We can partially fill this volume</span>
    <span class="hljs-keyword">if</span>(tVol &lt;= volume &amp;&amp; initialplane &lt; plane){<font></font>
<font></font>
      <span class="hljs-comment">//Raise water level to plane height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
        pool[s] = plane - height[s];<font></font>
<font></font>
      <span class="hljs-comment">//Adjust Drop Volume</span><font></font>
      volume -= tVol;<font></font>
      tVol = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//Plane was too high and we couldn't fill it</span>
    <span class="hljs-keyword">else</span> fail--;<font></font>
<font></font>
    <span class="hljs-comment">//Adjust Planes</span>
    <span class="hljs-keyword">float</span> approach = <span class="hljs-number">0.5</span>;<font></font>
    initialplane = (plane &gt; initialplane)?plane:initialplane;<font></font>
    plane += approach*(volume-tVol)/(<span class="hljs-keyword">double</span>)<span class="hljs-built_in">set</span>.size()/volumeFactor;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Couldn't place the volume (for some reason)- so ignore this drop.</span>
  <span class="hljs-keyword">if</span>(fail == <span class="hljs-number">0</span>)<font></font>
    volume = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
} <span class="hljs-comment">//End of Flood Algorithm</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die H√∂he der Ebene wird proportional zu der Volumendifferenz eingestellt, die durch die Oberfl√§che des Pools (d. H. Durch die Gr√∂√üe des Satzes) skaliert wird. </font><font style="vertical-align: inherit;">Durch Verwendung des N√§herungskoeffizienten k√∂nnen Sie die Stabilit√§t erh√∂hen, mit der das Flugzeug den richtigen Wasserstand erreicht.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erosionsfolie</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Weltklasse enth√§lt alle drei Karten in Form gew√∂hnlicher Arrays:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">World</span> {</span><font></font>
<font></font>
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">generate</span><span class="hljs-params">()</span></span>;            <span class="hljs-comment">//Initialize</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cycles)</span></span>;     <span class="hljs-comment">//Erode with N Particles</span><font></font>
<font></font>
  <span class="hljs-comment">//...</span><font></font>
<font></font>
  <span class="hljs-keyword">double</span> heightmap[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterstream[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterpool[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};<font></font>
<font></font>
};</code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die H√∂henkarte wird mit Perlin-Rauschen initialisiert.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder hydrologische Schritt f√ºr ein einzelnes Partikel besteht aus Folgendem:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//Spawn Particle</span>
glm::vec2 newpos = glm::vec2(rand()%(<span class="hljs-keyword">int</span>)dim.x, rand()%(<span class="hljs-keyword">int</span>)dim.y);
<span class="hljs-function">Drop <span class="hljs-title">drop</span><span class="hljs-params">(newpos)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span> spill = <span class="hljs-number">5</span>;
<span class="hljs-keyword">while</span>(drop.volume &gt; drop.minVol &amp;&amp; spill != <span class="hljs-number">0</span>){<font></font>
<font></font>
  drop.descend(heightmap, waterstream, waterpool, track, dim, scale);<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(drop.volume &gt; drop.minVol)<font></font>
    drop.flood(heightmap, waterpool, dim);<font></font>
<font></font>
  spill--;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der √úberlaufparameter bestimmt, wie oft ein Partikel in den Pool eindringen und ihn wieder verlassen kann, bevor es einfach zerst√∂rt wird. </font><font style="vertical-align: inherit;">Andernfalls sterben die Partikel ab, wenn ihr Volumen ersch√∂pft ist.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Partikel gelangen selten in die Pools und verlassen sie mehr als ein oder zwei Mal, bevor sie w√§hrend der Abstiegsphasen vollst√§ndig verdunsten. Ich habe dies jedoch nur f√ºr den Fall hinzugef√ºgt.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erosionsfunktion umschlie√üt diesen Code und f√ºhrt hydrologische Schritte f√ºr N Partikel durch, wobei die Flusskarte direkt ge√§ndert wird:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">World::erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> N)</span></span>{<font></font>
<font></font>
  <span class="hljs-comment">//Track the Movement of all Particles</span>
  <span class="hljs-keyword">bool</span> track[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
  <span class="hljs-comment">//Simulate N Particles</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++){<font></font>
   <font></font>
    <span class="hljs-comment">//... simulate individual particle</span><font></font>
<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Update Path</span>
  <span class="hljs-keyword">double</span> lrate = <span class="hljs-number">0.01</span>;  <span class="hljs-comment">//Adaptation Rate</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; dim.x*dim.y; i++)<font></font>
    waterstream[i] = (<span class="hljs-number">1.0</span>-lrate)*waterstream[i] + lrate*((track[i])?<span class="hljs-number">1.0</span>:<span class="hljs-number">0.0</span>);<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier wird das Spurarray an die Abstiegsfunktion √ºbergeben. </font><font style="vertical-align: inherit;">Ich fand heraus, dass die gleichzeitige Verfolgung der Bewegung mehrerer Partikel und entsprechende √Ñnderungen verbesserte Ergebnisse f√ºr die Flusskarte liefern. </font><font style="vertical-align: inherit;">Die Anpassungsrate bestimmt, wie schnell alte Informationen gel√∂scht werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B√§ume</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur zum Spa√ü habe ich B√§ume hinzugef√ºgt, um zu sehen, ob die Erosionssimulation weiter verbessert werden kann. </font><font style="vertical-align: inherit;">Sie werden im Weltklassenzimmer als Vektor gespeichert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√§ume werden zuf√§llig auf der Karte an Orten erstellt, an denen es keine Pools und starken B√§che gibt und das Gel√§nde nicht sehr steil ist. </font><font style="vertical-align: inherit;">Sie haben auch die M√∂glichkeit, zus√§tzliche B√§ume um sich herum zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Erstellung von B√§umen schreiben sie in einem bestimmten Radius um sie herum auf die Dichtekarte der Vegetation. </font><font style="vertical-align: inherit;">Eine hohe Vegetationsdichte verringert den Stoff√ºbergang zwischen absteigenden Partikeln und Topographie. </font><font style="vertical-align: inherit;">Dies soll simulieren, wie die Wurzeln den Boden an Ort und Stelle halten.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... descend function</span>
<span class="hljs-keyword">double</span> effD = depositionRate*max(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>-treedensity[ind]);
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√§ume sterben, wenn sie sich im Pool befinden oder der Bach unter ihnen zu stark ist. </font><font style="vertical-align: inherit;">Dar√ºber hinaus haben sie eine zuf√§llige Wahrscheinlichkeit des Todes.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/trees.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dank Schattierung und normalen Karten machen selbst sehr einfache Baumsprites das Relief sch√∂ner.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das Baummodell befindet sich in der Datei "vegetation.h" und in der Funktion "World :: grow ()".</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andere Details</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ergebnisse werden mit einem hausgemachten OpenGL-Wrapper visualisiert, der [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] angelegt ist.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Karte k√∂nnen Partikel entsprechend der von Ihnen ben√∂tigten Verteilung erstellt werden. </font><font style="vertical-align: inherit;">In meinen Demos habe ich sie mit einer gleichm√§√üigen Verteilung auf 256 √ó 256 Karten erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie unten zu sehen ist, h√§ngt die resultierende Simulation stark von der Wahl des urspr√ºnglichen Reliefs ab. </font><font style="vertical-align: inherit;">Das System kann eine Vielzahl von Naturph√§nomenen simulieren. </font><font style="vertical-align: inherit;">Ich konnte nicht nur Canyons angemessen bekommen. </font><font style="vertical-align: inherit;">Sie ben√∂tigen m√∂glicherweise eine sehr lange und langsame Simulation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andere Ph√§nomene k√∂nnen im System beobachtet werden, wie Wasserf√§lle, Tortuosit√§t und Flussdeltas, Seen, Bodenschwellungen und so weiter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das System ist auch sehr gut darin, Fl√ºsse und Pools an Orten zu verteilen, an denen sich viel Regen ansammelt, und nicht an zuf√§lligen Orten. </font><font style="vertical-align: inherit;">Daher ist die erzeugte Hydrologie eng mit dem Gel√§nde verbunden.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="http://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/rivererosion.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologische Echtzeitsimulation auf einem 256 √ó 256-Gitter. </font><font style="vertical-align: inherit;">Das urspr√ºngliche Relief ist relativ glatt, wodurch Streams schnell erscheinen k√∂nnen. </font><font style="vertical-align: inherit;">Ganz am Anfang kann man die einfachste Entstehung von Pools und Lecks beobachten, wonach gro√üe Str√∂me auftreten und verbleiben.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich der Auswirkungen der Verengung von Str√∂mungen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Unterschied zu vergleichen, der durch die Verkn√ºpfung einer Karte mit einem Erosionssystem entsteht, k√∂nnen Sie die Hydrologie auf derselben Karte simulieren und verschiedene Effekte ein- und ausschalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe das gleiche Gel√§nde dreimal simuliert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partikelbasierte Erosion (Grunderosion), die Fluss- und Poolkarten erh√§lt. </font><font style="vertical-align: inherit;">Pools wirken sich immer noch auf die Generierung aus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlegende Erosion mit Parametern, die durch hydrologische Karten ge√§ndert wurden (in Kombination mit Erosion)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kombinierte Erosion mit Parametern, die durch hydrologische Karten ge√§ndert wurden und die Erosion durch B√§ume beeinflussen</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dies ist ein ziemlich chaotisches System, und die Art der Hydrologie h√§ngt stark vom Gel√§nde ab. </font><font style="vertical-align: inherit;">Es ist schwierig, ein "sehr aufschlussreiches" Beispiel f√ºr eine Erleichterung zu finden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39e/e81/65c/39ee8165c1b4a8ca4f8a987e12464de4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relief-Rendering des Basissystems</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/969/6b2/fc0/9696b2fc03defb56681b7bfff7fa6740.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kombiniertes Rendern der Systemh√∂he</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/868/d7f/8bc/868d7f8bcd087c968833ba0a4c99619c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Darstellung der Topographie eines Systems mit B√§umen</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Eine interessante Beobachtung: Die Kombination hydrologischer Karten mit Partikelparametern verengt tats√§chlich die Flussbetten. </font><font style="vertical-align: inherit;">Insbesondere in planaren Regionen sind Partikel weniger verteilt und verschmelzen zu einer kleinen Menge st√§rkerer Str√∂mungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduzierte Reibung und Verdunstung bew√§ltigen erfolgreich die Tatsache, dass Partikel bereits vorhandene Kan√§le bevorzugen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andere Effekte sind bei direkter Beobachtung des Reliefs sichtbarer.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/acd/d6b/9a5acdd6b7130655c66c716d0b713ec2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologische Karte des Basissystems</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5df/f5a/575/5dff5a575ae295091062b6e2153694ff.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologische Karte des kombinierten Systems</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d0/acb/8fa/9d0acb8fa508aa24afab3a5dddacf7a5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologische Karte des Systems mit B√§umen </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diese Ergebnisse wurden in genau 60 Sekunden der Simulationszeit generiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√§ume wirken sich zus√§tzlich auf die Verengung aus. </font><font style="vertical-align: inherit;">Sie verbessern das Ausschneiden klarer Wege in steilen Bereichen. </font><font style="vertical-align: inherit;">Sie zwingen die Str√∂me, in den bereits verlegten Kan√§len zu bleiben, und verringern so die Tortuosit√§t. </font><font style="vertical-align: inherit;">Somit beeinflusst die Lage der B√§ume die Bewegung des Wassers.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Example_Hydrology2.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr die Aufzeichnung, wie die Position von B√§umen dazu beitragen kann, die Position von Streams beizubehalten. </font><font style="vertical-align: inherit;">Dies ist die gleiche Erleichterung wie zuvor, mit allen aktivierten Effekten.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswirkungen auf den Pool</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das System zum Erstellen von Pools funktioniert gut und erm√∂glicht das Vorhandensein mehrerer Gew√§sser mit unterschiedlichen H√∂hen auf demselben Relief. </font><font style="vertical-align: inherit;">Sie k√∂nnen auch ineinander √ºbergehen und sich entleeren.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Pooling-1.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr ein Video der Bildung von Pools auf einem gr√∂beren Grundlinienrelief mit einem gro√üen H√∂henunterschied. </font><font style="vertical-align: inherit;">Der obere See befindet sich physisch √ºber dem unteren und leitet das entstehende Wasser direkt in den unteren See ab.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe mehrere Samen erhalten, in denen drei Seen nacheinander ineinander flossen, aber ich wollte nicht viel Zeit damit verbringen, den richtigen f√ºr diesen Artikel zu finden. </font><font style="vertical-align: inherit;">Ich habe bereits zu viele Bilder und Videos generiert.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von Zeit zu Zeit springt die H√∂he des Pools. </font><font style="vertical-align: inherit;">Ich denke, dies passiert, wenn der Wasserstand nahe an der Leckage liegt und viel Wasser hinzugef√ºgt wird. </font><font style="vertical-align: inherit;">Dieser Effekt kann durch Verringern der Leckrate in der Flutungsfunktion verringert werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/475/469/f09/475469f09d224928863b2b2eaf48cfb8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach einer weiteren Minute der Generierung erschienen mehrere neue Pools f√ºr sich.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78a/36c/76e/78a36c76ed90db36cae64c47376fc585.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem steileren Winkel ist der Unterschied in den Beckenh√∂hen deutlicher.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac8/bd1/897/ac8bd18976e9cb06bd8d6d1fffd23667.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die hydrologische Karte zeigt deutlich, dass das zentrale Becken in das untere Becken √ºbergeht. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ausf√ºhrung des Flooding-Algorithmus f√ºhrt dazu, dass die Pools am Rand der Karte eine "Wand" sehen. </font><font style="vertical-align: inherit;">Dies macht sich in den oben gezeigten Bildern bemerkbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine weitere m√∂gliche Verbesserung k√∂nnte die Hinzuf√ºgung des Meeresspiegels zur Welt sein, so dass die Pools Lecks an den R√§ndern der Karte auf Meeresh√∂he beobachten, andernfalls laufen sie einfach √ºber.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulationsgeschwindigkeit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zeit jedes Abstiegs- und Flutungsschritts variiert von Partikel zu Partikel, es verbleibt jedoch etwa eine Gr√∂√üenordnung (etwa 1 Mikrosekunde). Bei stetigen Fl√ºssen bewegen sich Partikel schneller auf der Karte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die √úberflutungszeit variiert proportional zur Gr√∂√üe des Pools, da der Gie√üvorgang der teuerste Schritt ist. Je gr√∂√üer die Pools sind, desto gr√∂√üer ist der Bereich, f√ºr den Sie den Wasserstand erh√∂hen m√ºssen. Gro√üe Pools sind definitiv der Engpass des Systems. Wenn Sie Ideen zur Geschwindigkeitssteigerung haben, lassen Sie es mich wissen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Abstiegszeit variiert proportional zur Gr√∂√üe der Karte und vielen anderen Parametern, einschlie√ülich Reibung und Verdunstungsrate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Videos in diesem Artikel werden in Echtzeit aufgezeichnet, dh die Simulation ist im Allgemeinen schnell.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kurz nach der Ver√∂ffentlichung dieses Artikels habe ich die Methode zur Berechnung von Oberfl√§chennormalen geringf√ºgig ge√§ndert, wodurch die Simulationsgeschwindigkeit erh√∂ht wurde. </font><font style="vertical-align: inherit;">Der Effekt ist w√§hrend der Simulation sehr deutlich, aber es ist schwierig, ihn zu bewerten, da die Zeit zum Starten und Fluten sehr unterschiedlich ist. </font><font style="vertical-align: inherit;">Nach meinen Sch√§tzungen hat sich die Simulationsgeschwindigkeit verdoppelt.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weitere sch√∂ne Videos</font></font></h3><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology1.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hydrologiesimulation auf unebenem vertikalem Gel√§nde.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology5.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine etwas sanftere Erleichterung. </font><font style="vertical-align: inherit;">Einige Seen schwanken ein wenig.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology3.mp4" type="video/mp4"></video></div></div></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydrologiesimulation auf flachem, glattem Gel√§nde. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachfolgende Videos wurden nach Geschwindigkeitsverbesserung aufgenommen.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology10.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noch flacher und glatteres Gel√§nde.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology7.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video mit einem Fluss aus mehreren verbundenen B√§chen. </font><font style="vertical-align: inherit;">Der Hauptfluss hat zwei Punkte, an denen er kleinere Fl√ºsse enth√§lt, und wir sehen, wie er an Gr√∂√üe zunimmt.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihr Browser unterst√ºtzt kein HTML5-Video.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology9.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine ungleichm√§√üigere Erleichterung bei der Bildung von Fl√ºssen. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich kann f√ºr immer weitermachen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit und Arbeit f√ºr die Zukunft</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese einfache Technik basiert immer noch auf Partikeln, schafft es jedoch erfolgreich, viele zus√§tzliche Effekte zu vermitteln. Es bietet eine einfache M√∂glichkeit, Wasserbewegungen in gro√üem Ma√üstab zu simulieren, ohne die Fluiddynamik vollst√§ndig zu simulieren. Au√üerdem arbeitet sie mit einem intuitiven Wassermodell. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den Simulationen k√∂nnen wir die Entstehung von gewundenen Fl√ºssen, Wasserf√§llen, Seen und Transfusionen von Seen, Fl√ºssen, die sich in flache Gebiete in Deltas teilen, usw. beobachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es w√§re interessant, verschiedene Bodentypen in Form einer Bodenkarte hinzuzuf√ºgen, aus der Erosionsparameter entnommen werden k√∂nnten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen das Baumsystem auch einfach √§ndern, um verschiedene Baumarten zu erstellen, die den Boden an Ort und Stelle halten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist schwierig, die Vielfalt der generierten Ergebnisse in mehreren Bildern und Videos zu vermitteln. Sie sollten also versuchen, es selbst zu tun. Es stellt sich als sehr interessant heraus. </font><font style="vertical-align: inherit;">Ich empfehle, mit den urspr√ºnglichen Kartenparametern zu experimentieren, einschlie√ülich Oktavrauschen und Kartenma√üstab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Fragen oder Kommentare haben, k√∂nnen Sie mich kontaktieren. </font><font style="vertical-align: inherit;">Ich habe ziemlich hart an diesem Projekt gearbeitet, also hat mein Gehirn gesintert und ich bin sicher, dass ich einige interessante Aspekte √ºbersehen habe.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de498278/index.html">Herausgeber Peter. Fr√ºhlingsverkauf</a></li>
<li><a href="../de498280/index.html">Die Geschichte des Dodo-Vogels aus der Gattung Phoenix. Der gro√üe Fall von Dodo IS</a></li>
<li><a href="../de498282/index.html">[Anweisung] Erstellen eines Kontos und einer Website auf der Google Site-Plattform</a></li>
<li><a href="../de498284/index.html">So optimieren Sie das Englischlernen</a></li>
<li><a href="../de498288/index.html">Ihre Stadt braucht einen U-Bahn-Bus</a></li>
<li><a href="../de498292/index.html">Sparen Sie viel Geld bei gro√üen Mengen in PostgreSQL</a></li>
<li><a href="../de498294/index.html">Objekterkennung Erkennen und regieren. Teil 1</a></li>
<li><a href="../de498296/index.html">Design auf Systemebene. Teil 1. Von der Idee zum System</a></li>
<li><a href="../de498298/index.html">Firmen verwenden Bug Bounties, um Hacker-Stille zu kaufen</a></li>
<li><a href="../de498300/index.html">Blitz.Engine: Asset System</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>