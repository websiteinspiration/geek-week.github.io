<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏿 👩‍✈️ ↕️ Dimulai dengan Data Inti! Sulit dengan kata-kata sederhana 🛃 😷 🍢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Banyak topik telah ditulis dengan Core Data, tetapi sebagian besar artikel ini dalam bahasa Inggris, serta menggunakan banyak kata "pintar" yang dapat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dimulai dengan Data Inti! Sulit dengan kata-kata sederhana</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493262/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banyak topik telah ditulis dengan Core Data, tetapi sebagian besar artikel ini dalam bahasa Inggris, serta menggunakan banyak kata "pintar" yang dapat membingungkan pemula. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini saya akan mencoba untuk berbicara tentang kerangka kerja ini dari Apple dalam bahasa yang dapat dimengerti sehingga bahkan programmer "terkecil" dapat memperoleh informasi untuk diri mereka sendiri dan mendapatkan jumlah minimum pengetahuan yang akan membantu mereka dalam proyek mereka juga.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offtopic kecil</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data Inti adalah alat yang sangat kuat yang memungkinkan Anda menyimpan data dalam aplikasi Anda dan menggunakannya nanti. </font><font style="vertical-align: inherit;">Pada artikel ini, saya TIDAK akan berbicara tentang bekerja dengan banyak konteks dengan sinkronisasi berikutnya, bagaimana menyelesaikan masalah migrasi dan berbagai fitur lanjutan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Target pembaca artikel ini adalah orang-orang yang umumnya tidak memiliki pengalaman dengan Data Inti.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baiklah ... Mari kita mulai!</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai, Anda perlu membuat file .xcdatamodeld itu sendiri, setelah Anda membukanya, di bagian bawah layar Anda akan melihat tombol “Add entity”. </font><font style="vertical-align: inherit;">Dengan mengkliknya, model objek Anda akan dibuat: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/eu/c5/tieuc5lzlieaqlnl2hzsnbgnypu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang, dengan lebih detail:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entitas Anda. </font><font style="vertical-align: inherit;">Anda dapat menganggap Entity sebagai struktur data Anda, yang memiliki warisan dari kelas tertentu - NSManagedObject, dan juga akan memiliki bidang tertentu untuk menulis data, lebih lanjut tentang itu nanti.</font></font></li>
<li> Attributes.    Entity    .    +       .    : <br>
<ul>
<li>Integer 16/32/64 —        .       ,      .       Int,         .<br>
: Integer16(15)</li>
<li>Decimal/Double/Float —          .       ,      .</li>
<li>String —        .</li>
<li>Boolean —        .</li>
<li>Date —        Date. <br>
<blockquote>NOTE: Core Data           00:00:00 UTC 1  1970   .</blockquote></li>
<li>Binary Data —       Data<br>
<blockquote>NOTE:      Allow External Storage. Core Data   ,     100 ,       Core Data        .           . </blockquote></li>
<li>UUID —          UUID.</li>
<li>URI —        URL</li>
<li>Transformable —     ,       NSCoding.</li>
</ul><br>
</li>
<li> Relationship.           Entity. Relationships  :<br>
<br>
<ol>
<li>One-to-One</li>
<li>One-to-Many</li>
<li>Many-to-Many</li>
</ol><br>
  Relationships.<br>
 <br>
   3 Entities, Andrey, Home, Car. <br>
<br>
<ul>
<li>     — One-to-One Relationship.</li>
<li>    1,    2    — One-to-Many Relationship.</li>
<li> Many-to-Many Relationship     .                       .</li>
</ul></li>
<li>         Entity</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bidang Codegen. </font><font style="vertical-align: inherit;">Singkatnya, bidang ini menunjukkan siapa yang akan mengatur pembuatan kelas NSManagedObject. </font><font style="vertical-align: inherit;">Untuk kemudahan operasi, pilih </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual / Tidak Ada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka Core Data akan dapat membuat kelas yang diperlukan untuk Entitas Anda sendiri. </font><font style="vertical-align: inherit;">Tentang itu di bawah ini.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat kelas Entitas kami, gunakan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Editor&gt; Buat NSManagedObject Subclass. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d7/yl/b6/d7ylb6nrjnzpsqytkn4-lzq-ctq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin menetapkan nilai default untuk atribut Anda, gunakan metode ini:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">awakeFromInsert</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.awakeFromInsert()<font></font>
        date = <span class="hljs-type">Date</span>()<font></font>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan NSManagedObjectContext dan PersistentStoreCoordinator</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hierarki Stack Data Inti: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/jl/dr/spjldrdtwsjpgd5_6zxq7snxvj8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara sederhana, semua Entitas Anda ditampilkan sebagai Objek yang Dikelola dalam diagram di atas. </font><font style="vertical-align: inherit;">Semua Objek Terkelola kami disimpan di NSManagedObjectContext. </font><font style="vertical-align: inherit;">Konteks Ini merujuk ke NSPersistentStoreCoordinator yang menyimpan data tersimpan Anda sebagai Cache Baris setelah mengakses SQL, tetapi ini tidak terjadi sekarang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat turunan dari ManagedObject (Entity) Anda, Anda harus merujuk ke NSPersistentContainer Anda yang merupakan pembungkus untuk NSPersistentStoreCoordinator Anda.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> persistentContainer: <span class="hljs-type">NSPersistentContainer</span> = {
      <span class="hljs-keyword">let</span> container = <span class="hljs-type">NSPersistentContainer</span>(name: <span class="hljs-string">"SavingLearn"</span>)<font></font>
      container.loadPersistentStores(completionHandler: { (storeDescription, error) <span class="hljs-keyword">in</span>
          <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error = error <span class="hljs-keyword">as</span> <span class="hljs-type">NSError?</span> {
              <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">"Unresolved error \(error), \(error.userInfo)"</span>)<font></font>
          }<font></font>
      })<font></font>
      <span class="hljs-keyword">return</span> container<font></font>
  }()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita perlu mengakses NSManagedObjectContext melalui PersistentContainer kami: </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> context: <span class="hljs-type">NSManagedObjectContext</span> = {
    <span class="hljs-keyword">return</span> persistentContainer.viewContext<font></font>
  }()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat membuat instance dari ManageObject kita dari konteks kita dan memberikan nilai:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> person = <span class="hljs-type">Person</span>(context: context)<font></font>
person.age = <span class="hljs-number">32</span></code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyimpan Objek</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyimpan, kami menggunakan fungsi sederhana: </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">saveContext</span> <span class="hljs-params">()</span></span> {
      <span class="hljs-keyword">if</span> context.hasChanges {
          <span class="hljs-keyword">do</span> {
              <span class="hljs-keyword">try</span> context.save()<font></font>
          } <span class="hljs-keyword">catch</span> {<font></font>
            context.rollback()<font></font>
              <span class="hljs-keyword">let</span> nserror = error <span class="hljs-keyword">as</span> <span class="hljs-type">NSError</span>
              <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">"Unresolved error \(nserror), \(nserror.userInfo)"</span>)<font></font>
          }<font></font>
      }<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam metode di atas, kami memeriksa konteks kami untuk perubahan dan jika ada, kami melakukan penghematan. </font><font style="vertical-align: inherit;">Jika terjadi kesalahan, metode ini dijalankan:</font></font><br>
<br>
<pre><code class="swift hljs">context.rollback()</code></pre><br>
<blockquote><pre><code class="swift hljs">rollback()</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Metode mengembalikan konteks kita ke keadaan semula dan membatalkan semua perubahan yang dibuat di sana.</font></font></blockquote><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hapus objek</font></font></b><br>
<br>
<pre><code class="swift hljs">context.delete(object)</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memungkinkan kita menghapus objek dari Core Data dengan mudah.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CATATAN: Agar perubahan berlaku, Anda perlu menyimpan konteksnya, jika tidak semua perubahan tidak akan disimpan. </font></font><pre><code class="swift hljs">context.save()</code></pre> </blockquote><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengambil Semua Objek</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mendapatkan array objek kami dari Core Data, kami harus melakukan NSFetchRequest. </font><font style="vertical-align: inherit;">Saya tidak akan masuk jauh ke dalam kekuatan penuh FetchRequest karena artikel ini dirancang untuk pemula.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">let</span> fetchRequest: <span class="hljs-type">NSFetchRequest</span>&lt;<span class="hljs-type">Person</span>&gt; = <span class="hljs-type">Person</span>.fetchRequest()
<span class="hljs-keyword">let</span> objects = <span class="hljs-keyword">try</span> context.fetch(fetchRequest)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah tenda, NSFetchRequest melakukan pekerjaan dengan baik: </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSFetchRequest Pergi ke Koordinator Toko Persisten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koordinator Toko Persisten mengirimkan permintaan ke Toko Persistent </font></font></li>
<li>Persistent Store     SQL</li>
<li>SQL       .    ID  Row Value.  Row Value   Persistent Store      Row Cache   ID. </li>
<li>Persistent Store  Managed Objects   ID     Persistent Store Coordinator.    fault ()          .   Managed Object Context      ID, Core Data       SQL.</li>
<li>Persistent Store Coordinator   context  Managed Object</li>
<li>   Core Data    .        <pre><code class="swift hljs">includePendingChanges = <span class="hljs-literal">false</span></code></pre> </li>
<li>  NSManagedObject </li>
</ol><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CATATAN: Saat Konteks Objek yang Dikelola NSFetchRequest berjalan dan Koordinator Toko Persisten berjalan dalam antrian sinkron, semua proses diblokir saat proses lain sedang berjalan. </font></font></blockquote><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini, saya menggambarkan informasi minimum yang diperlukan untuk bekerja dengan Data Inti menurut pendapat saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat membuat model data Anda sendiri, menyimpan, menghapus dan mengambilnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda tertarik pada topik yang lebih "maju" tentang bekerja dengan Data Inti dan kiat-kiat menarik, maka tulislah di komentar dan saya akan mencari tahu apa yang dapat dilakukan tentang hal itu. </font><font style="vertical-align: inherit;">Selamat coding!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493244/index.html">Apa yang bisa komputer kuantum</a></li>
<li><a href="../id493248/index.html">Webinar "Peluang Winnum untuk Analisis Industri"</a></li>
<li><a href="../id493250/index.html">Apa yang terjadi dengan perjalanan saat ini - dan bagaimana melindungi diri Anda dalam transportasi</a></li>
<li><a href="../id493252/index.html">Pengalaman mengajar di sekolah pengembangan, atau mengapa Anda harus pergi ke sekolah setelah universitas</a></li>
<li><a href="../id493254/index.html">Sistem penyadapan massal penduduk praktis tidak berguna bagi FBI</a></li>
<li><a href="../id493264/index.html">Di mana Anda sebelumnya, atau fitur implisit dari BI BA</a></li>
<li><a href="../id493266/index.html">45 saluran youtube dalam bahasa Inggris untuk profesional TI</a></li>
<li><a href="../id493268/index.html">Pentester Terapan</a></li>
<li><a href="../id493272/index.html">Cara mengaktifkan Google docs offline di Microsoft Edge baru</a></li>
<li><a href="../id493274/index.html">30+ rekomendasi profesional ringkas untuk pengembang Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>