<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦Œ ğŸï¸ ğŸ–ï¸ 2ã¤ã®èµ¤ã„ãƒœã‚¿ãƒ³ã€ã¯ã‚“ã ã”ã¦ã¨Reactï¼šITä¼šè­°ã¸ã®ç§»è¡Œæ–¹æ³• ğŸ§¢ âš’ï¸ ğŸ™†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Badooã¯ã€ITã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®å±•ç¤ºä¼šã«ãƒ–ãƒ¼ã‚¹ã«å®šæœŸçš„ã«å‚åŠ ã—ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€æ¯å¹´ã€ç§ãŸã¡ã®åŒåƒš-ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚„é–‹ç™ºè€…-ã¯ã€ãƒ¬ãƒãƒ¼ãƒˆã®é–“ã«é£½ããªã„ã‚ˆã†ã«ã€ãã®ã‚ˆã†ãªè‰¯ã„ã“ã¨ã‚’ã™ã‚‹ãŸã‚ã«ä½•ã‹ã‚’è€ƒãˆå‡ºã—ã¾ã™ã€‚
 

ç§ã®åå‰ã¯ã‚¤ãƒ´ã‚¡ãƒ³ã§ã™ã€‚ç§ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºè€…ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€åŒåƒšã‚„DIY...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>2ã¤ã®èµ¤ã„ãƒœã‚¿ãƒ³ã€ã¯ã‚“ã ã”ã¦ã¨Reactï¼šITä¼šè­°ã¸ã®ç§»è¡Œæ–¹æ³•</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/482028/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Badooã¯ã€ITã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®å±•ç¤ºä¼šã«ãƒ–ãƒ¼ã‚¹ã«å®šæœŸçš„ã«å‚åŠ ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€æ¯å¹´ã€ç§ãŸã¡ã®åŒåƒš-ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚„é–‹ç™ºè€…-ã¯ã€ãƒ¬ãƒãƒ¼ãƒˆã®é–“ã«é£½ããªã„ã‚ˆã†ã«ã€ãã®ã‚ˆã†ãªè‰¯ã„ã“ã¨ã‚’ã™ã‚‹ãŸã‚ã«ä½•ã‹ã‚’è€ƒãˆå‡ºã—ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã®åå‰ã¯ã‚¤ãƒ´ã‚¡ãƒ³ã§ã™ã€‚ç§ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºè€…ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã§ã¯ã€åŒåƒšã‚„DIYæ„›å¥½å®¶ã¨ã¨ã‚‚ã«</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒ¬ã‚¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Yura Lilekovã«ã€2ã¤ã®èµ¤ã„ãƒœã‚¿ãƒ³ã€1ã¤ã®ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã€Reactã‚³ãƒ¼ãƒ‰ã€ãŠã‚ˆã³ITãƒˆãƒ”ãƒƒã‚¯ç”¨ã®250ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ã‚²ãƒ¼ãƒ ã€ŒITæ¨æ¸¬ã‚²ãƒ¼ãƒ ã€ã‚’ä½œæˆã—ã€Highload ++ã¨Heisenbugã§å±…å¿ƒåœ°ã®è‰¯ã„ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã‚’ä½œã‚‹æ–¹æ³•ã‚’ä¼ãˆã¾ã™ã€‚</font></font></p><br>
<p><img src="https://habrastorage.org/webt/op/k9/r9/opk9r9az9g7eovtbqkgcra83ntm.png"></p><a name="habracut"></a><br>
<h1 id="soderzhanie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼š</font></font></h1><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦ãªTK </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚²ãƒ¼ãƒ ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ï¼š2ã¤ã®èµ¤ã„ãƒœã‚¿ãƒ³</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµæœ</font></font></a></p><br>
<h1 id="netrivialnoe-tz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªæ˜ã§ãªã„TK</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã¯ç‹¬è‡ªã®é›°å›²æ°—ãŒã‚ã‚Šã¾ã™ã€‚å¤šãã®äººãŒã„ã¦ã€æ³¨ç›®ã‚’é›†ã‚ã¦ã‚¹ã‚¿ãƒ³ãƒ‰ã‚’ç¶­æŒã™ã‚‹ã®ã¯å®¹æ˜“ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">å½¼ã‚‰ãŒãƒ¬ãƒãƒ¼ãƒˆã®é–“ã«æ¥ã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€èˆˆå‘³æ·±ã„ãŒè¤‡é›‘ã§ã¯ãªã„ãƒ¬ãƒƒã‚¹ãƒ³ã‚’å½¼ã‚‰ã«æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¨å¹´ã®ITã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®æˆåŠŸã«è§¦ç™ºã•ã‚Œã€æ–°ã—ã„ã‚²ãƒ¼ãƒ ã«æ¬¡ã®è¦ä»¶ã‚’ç­–å®šã—ã¾ã—ãŸã€‚ </font></font></p><br>
<ul>
<li>   .   â€”  .  ,             .            Badoo. </li>
<li>   .          ,        .</li>
<li>   .      ,       .   ,       .</li>
<li>  .    ,  -  ,    . </li>
<li>   !</li>
</ul><br>
<p>  ,          Â«IT-Â» â€”      IT-.</p><br>
<p><img src="https://habrastorage.org/webt/8r/p4/5f/8rp45fdtczsizalimesfrnb9kc4.jpeg"></p><br>
<p>  :</p><br>
<ul>
<li>   .</li>
<li> â€”         ,   .</li>
<li> :  (Â«Â»),    -,   (Â«Â»),       .</li>
<li>  ,    .  â€”   .</li>
<li>,     N ,        .</li>
</ul><br>
<p>,      ,    .</p><br>
<h1 id="mehanika-igry-i-podschyot-ballov">    </h1><br>
<p><img src="https://habrastorage.org/webt/wf/vr/e_/wfvre_npwrjlh4duabj8kkxb6og.gif"></p><br>
<p>    ,    :</p><br>
<ol>
<li>  .</li>
<li>   10 .</li>
<li> -     ,    ,      â€”  3 .       ,    .</li>
<li>    ,    ,     .</li>
</ol><br>
<p> ,     â€”      .           - .      ,            . </p><br>
<p>       .      ,       â€”   ,   .</p><br>
<h2 id="provalnye-i-genialnye-idei">   </h2><br>
<h3 id="ideya-1-odin-ball--odna-malenkaya-shokoladka"> â„–1:   =   </h3><br>
<p>         .      (       Â«Â» ), â€”  !  ,  . </p><br>
<p>   . </p><br>
<p>:  .        ,    .            .            .</p><br>
<p>  â€”       ?          .  ,   !  ,   ,     .</p><br>
<p> :    .    ,      ,  ,      .       .</p><br>
<p><img src="https://habrastorage.org/webt/1h/j_/8z/1hj_8zp8amb6-taaowqum3y54gm.jpeg"></p><br>
<h3 id="ideya-2-turnirnaya-tablica"> â„–2:  </h3><br>
<p>  ,       .          : , ,   ,   (          ),       . </p><br>
<p>   .</p><br>
<h3 id="ideya-3-otmetki-na-beydzhah-uchastnikov"> â„–3:    </h3><br>
<p>     ,    : ,    .  ,          .       .    ,   ,   â€”  .       :   Â«Â»     . </p><br>
<p>       .  ,     ,      â€”      â€”  ,      Â«Â».          .      :  , ,    .</p><br>
<p><img src="https://habrastorage.org/webt/_m/hz/u7/_mhzu7f8w8nizwmtpq57u-zdew4.jpeg" alt="ã‚‚ã¡ã‚ã‚“ã€Badooã®å¾“æ¥­å“¡ã¯æ™¯å“ã«å‚åŠ ã—ã¾ã›ã‚“ã§ã—ãŸã€‚"><br>
<em>,  Badoo     .</em></p><br>
<p>  :</p><br>
<ol>
<li>      :    20      .           .</li>
<li>          ,           .</li>
</ol><br>
<p><img src="https://habrastorage.org/webt/gd/ui/bn/gduibngslf724dhlrpftt2ivxua.png"></p><br>
<p>    ,    :    20   .       Highload++    15 ! </p><br>
<p>,       ,    ,   QA- Heisenbug      15 . , :     ,  ,    â€” . </p><br>
<p>P. S.     ,        -.    ,    - . Â«   ,   !Â» â€”    .         .</p><br>
<p><img src="https://habrastorage.org/webt/ry/yo/y5/ryyoy50ox1-o3zo-hyth8bae_pc.jpeg"></p><br>
<h1 id="animaciya"></h1><br>
<p>      - .      :</p><br>
<ol>
<li> Â«Â»  .         ,     - .   .      â€œ3..2..1..FIGHT!â€.        â€”       .</li>
<li> .       ,         .      ,      .    .</li>
</ol><br>
<p>      .      ,          .   ,     ,        .  ,     ,       .    ,   .      ,    .</p><br>
<p>   ,      :</p><br>
<p><img src="https://habrastorage.org/webt/nv/gy/cb/nvgycbadg6xh84ufckataq_izri.gif"></p><br>
<p>   â€”  .         â€” 1,5 .  Â« Â»,       .       ,    0  500 .         .</p><br>
<h1 id="frontend"></h1><br>
<p>    .     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  ,     </a>.</p><br>
<p>    ,     .  <code>create-react-app</code>   .      . </p><br>
<p>, hooks!      ,       Badoo      .  side-      .</p><br>
<p>No redux! Redux â€”  ,         .       redux   .   ,     <code>useContext</code>.</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> { score, changeScore } = useContext(SessionContext);
<span class="hljs-keyword">const</span> { next } = useContext(QuestionsContext);
<span class="hljs-keyword">const</span> steps = useContext(StepsContext);</code></pre><br>
<p>,        ,    .</p><br>
<p><code>SessionContext</code>   .<br>
<code>StepsContext</code>     : intro, loop, outroâ€¦<br>
<code>QuestionsContext</code>    :   ,    ,   .</p><br>
<h2 id="provider">Provider</h2><br>
<p>   ,       .          .</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">score</span> =&gt;</span> score + <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> SessionProvider = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
   <span class="hljs-keyword">const</span> [leftPlayerScore, changeLeftPlayerScore] = useState(<span class="hljs-number">0</span>);
   <span class="hljs-keyword">const</span> [rightPlayerScore, changeRightPlayerScore] = useState(<span class="hljs-number">0</span>);<font></font>
<font></font>
   <span class="hljs-keyword">const</span> resetScore = useCallback(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
       changeLeftPlayerScore(<span class="hljs-number">0</span>);<font></font>
       changeRightPlayerScore(<span class="hljs-number">0</span>);<font></font>
   }, []);<font></font>
<font></font>
   <span class="hljs-keyword">const</span> changeScore = useCallback(<span class="hljs-function"><span class="hljs-params">player</span> =&gt;</span> {<font></font>
       player === <span class="hljs-string">'left'</span><font></font>
           ? changeLeftPlayerScore(increment)<font></font>
           : changeRightPlayerScore(increment);<font></font>
   }, []);<font></font>
<font></font>
   <span class="hljs-keyword">const</span> score = {
       <span class="hljs-attr">left</span>: leftPlayerScore,
       <span class="hljs-attr">right</span>: rightPlayerScore<font></font>
   };<font></font>
<font></font>
   <span class="hljs-keyword">return</span> (
       <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SessionContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">score</span>, <span class="hljs-attr">changeScore</span>, <span class="hljs-attr">resetScore</span> }}&gt;</span>
           {props.children}
       <span class="hljs-tag">&lt;/<span class="hljs-name">SessionContext.Provider</span>&gt;</span></span><font></font>
   );<font></font>
};</code></pre><br>
<p>   ,     .     Â«Â»  Â«Â» .      :    . </p><br>
<p>API    .    ,   ,   ,       . </p><br>
<h2 id="taymery"></h2><br>
<p>     :     .      (reverse  shuffle â€” Â«Â»  Â«Â»). </p><br>
<p>   ,       . </p><br>
<p>-,  ,        : 10   ,   .       ,    . </p><br>
<p>-, ,  ,       .     3    . </p><br>
<p>,      ,   ,   ,  :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> [time, nextTick] = useState(<span class="hljs-number">0</span>);<font></font>
<font></font>
useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
   <span class="hljs-keyword">let</span> id = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
       nextTick(time + <span class="hljs-number">1</span>);<font></font>
   }, <span class="hljs-number">1000</span>);<font></font>
<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearInterval(id);<font></font>
}, []);</code></pre><br>
<p>,    ,   .     ! </p><br>
<p>   1    .   ,    <code>time</code> Â«Â»   .     <code>setInterval</code>    <code>time</code>   .</p><br>
<p>         :</p><br>
<pre><code class="javascript hljs">nextTick(<span class="hljs-function"><span class="hljs-params">currentTime</span> =&gt;</span> currentTime + <span class="hljs-number">1</span>);</code></pre><br>
<p>,       Â«Â»   .      Â«Â» <code>props</code>, .</p><br>
<p>,      .       - .    React    <code>useRef</code>.</p><br>
<p>       DOM-,      .   Â«Â»     <code>current</code>      .</p><br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callback</span>(<span class="hljs-params"></span>) </span>{<font></font>
   setCount(count + <span class="hljs-number">1</span>);<font></font>
}<font></font>
<font></font>
useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
   savedCallback.current = callback;<font></font>
});<font></font>
<font></font>
useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tick</span>(<span class="hljs-params"></span>) </span>{<font></font>
       savedCallback.current();<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">let</span> id = setInterval(tick, <span class="hljs-number">1000</span>);
   <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearInterval(id);<font></font>
}, []);</code></pre><br>
<p>        <code>setInterval</code>  React hooks: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Making setInterval Declarative with React Hooks</a>.              <code>useInterval</code>,         .</p><br>
<p>       ,       .     (F5),          .  ,       ,      - ,       ,   -  . </p><br>
<p><code>Countdown</code> , ,      (   )     .     ,     ,     Â«Â» â€”  <code>key</code>-  .</p><br>
<pre><code class="javascript hljs">&lt;QuestionCountdown<font></font>
   key={question.text}<font></font>
   onComplete={nextQuestion}<font></font>
/&gt;</code></pre><br>
<p>     ,            : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">React as a UI Runtime</a>. </p><br>
<h1 id="apparatnaya-chast-dve-krasnye-knopki"> :   </h1><br>
<p>,       :   ,     .    .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link">lilek</a> â€”  DIY-,   ,      --. </p><br>
<p>       .     â€”      . </p><br>
<p> , ,    -,     ( 5 ),       . ,  - AliExpress,       . </p><br>
<p>          .  -     (  ,   ).  , ,     ,      ,      . </p><br>
<p>,  ,   .   ,       ,   ,         Â«Â»      .  , ,       (    ). </p><br>
<p><img src="https://habrastorage.org/webt/bh/hb/bd/bhhbbdvztsnypogvlbn3jpo3nvg.png"></p><br>
<h2 id="nachinka"></h2><br>
<p>,  ,         .         ,    ,   ,    ,     .   : -               . </p><br>
<p>    â€”   USB-           â€”     Â«Â».    DIY.</p><br>
<p>      Arduino Pro Micro    ATmega32u4  AVR   Atmel   .   ,      /  MicroUSB.    â€”  ATmega32u4     HID-,  ,   ,      .</p><br>
<p><img src="https://habrastorage.org/webt/me/pn/d9/mepnd9yvzya5fkqdxqgbsvtwgjo.png" alt="ï¼ˆå†™çœŸã¯AliExpress.comã®è²©å£²è€…ã®ä¸€äººã‹ã‚‰æ’®å½±ã•ã‚Œã¾ã—ãŸ"></p><br>
<p>       MicroUSB     Arduino IDE.</p><br>
<p>         .</p><br>
<p>, ,           (   /),  :</p><br>
<p>File-&gt;Examples-&gt;USB-&gt;Keyboard-&gt;KeyboardMessage</p><br>
<p>     :</p><br>
<pre><code class="cmake hljs"><span class="hljs-comment">#include "Keyboard.h" //     </span><font></font>
<font></font>
void setup() {<font></font>
  Keyboard.begin(); //  <font></font>
}<font></font>
<font></font>
void loop() {<font></font>
  Keyboard.print(<span class="hljs-string">"Test"</span>); //   <span class="hljs-number">4</span> <font></font>
  delay(<span class="hljs-number">1000</span>); //   <span class="hljs-number">1</span> <font></font>
}</code></pre><br>
<p>      :</p><br>
<pre><code class="cmake hljs">int button_pin = <span class="hljs-number">7</span>; //  ,    <font></font>
<font></font>
void setup() {<font></font>
  pinMode(button_pin, INPUT); //    <font></font>
}<font></font>
<font></font>
void loop() {<font></font>
  <span class="hljs-keyword">if</span> (digitalRead(button_pin)) {<font></font>
    //  <font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    //   <font></font>
  }<font></font>
}</code></pre><br>
<p>   ,   ,      ,     ,    .   Â«Â»    :        Â«Â»,          Â«Â», ,  ,    .        5-10 ,       Â«Â».</p><br>
<p>      :</p><br>
<p><img src="https://habrastorage.org/webt/gt/na/3l/gtna3lp5_d3iag_lzxh115oug6s.png"></p><br>
<p> Arduino Pro Micro  microUSB       ,          .         .</p><br>
<p>                 â€”      Â«Â»  .</p><br>
<p>        Â« Â»  Â« Â»,      4    ,          .</p><br>
<pre><code class="cmake hljs"><span class="hljs-comment">#include &lt;Keyboard.h&gt;</span><font></font>
<font></font>
char leftKey = KEY_LEFT_ARROW;<font></font>
char rightKey = KEY_RIGHT_ARROW;<font></font>
<font></font>
int btn1pin = <span class="hljs-number">7</span>;<font></font>
int btn1value = <span class="hljs-number">0</span>;<font></font>
int btn2pin = <span class="hljs-number">8</span>;<font></font>
int btn2value = <span class="hljs-number">0</span>;<font></font>
<font></font>
void setup() {<font></font>
  pinMode(btn1pin, INPUT);<font></font>
  pinMode(btn2pin, INPUT);<font></font>
  Keyboard.begin();<font></font>
}<font></font>
<font></font>
void loop() {<font></font>
  btn1value = digitalRead(btn1pin);<font></font>
  btn2value = digitalRead(btn2pin);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (btn1value == <span class="hljs-number">1</span> &amp;&amp; btn2value == <span class="hljs-number">1</span>) {<font></font>
    //    =   <font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (btn1value == <span class="hljs-number">0</span> &amp;&amp; btn2value == <span class="hljs-number">0</span>) {<font></font>
    //    =   <font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (btn1value == <span class="hljs-number">1</span>) {<font></font>
    //    =       <span class="hljs-number">4</span> <font></font>
    Keyboard.press(leftKey);<font></font>
    delay(<span class="hljs-number">100</span>);<font></font>
    Keyboard.releaseAll();<font></font>
    delay(<span class="hljs-number">4000</span>);<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (btn2value == <span class="hljs-number">1</span>) {<font></font>
    //    =       <span class="hljs-number">4</span> <font></font>
    Keyboard.press(rightKey);<font></font>
    delay(<span class="hljs-number">100</span>);<font></font>
    Keyboard.releaseAll();<font></font>
    delay(<span class="hljs-number">4000</span>);<font></font>
  }<font></font>
}</code></pre><br>
<p>          ,     ,     .</p><br>
<h2 id="upravlenie"></h2><br>
<p>    :</p><br>
<ul>
<li><strong></strong> â€”  </li>
<li><strong>Enter</strong> â€”   </li>
<li><strong>+</strong> â€”  (1 )</li>
<li><strong>0</strong> â€”  ( )</li>
<li> <strong>Shift</strong> â€”  </li>
<li> <strong>Shift</strong> â€”  </li>
</ul><br>
<h1 id="rezultat"></h1><br>
<p>    (  Highload++,  â€” Heisenbug)   Badoo    Â«IT-Â».    :</p><br>
<ul>
<li>   ,  :      .  ,         .</li>
<li> â€”  !  +100  .        ,    .</li>
<li>     :        .       ,        (  ).</li>
<li>  14       .     !</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/zd/fd/vh/zdfdvheuxobpk3y0st_kbzpkgl0.jpeg"></p><br>
<div class="spoiler"><b class="spoiler_title">         </b><div class="spoiler_text"><p><strong>   .</strong>  ,     â€”   !      ,     :</p><br>
<p><img src="https://habrastorage.org/webt/qe/yc/fw/qeycfwgjxk5wad7b4slq5uqgmy0.jpeg"><br>
<em> QA-</em></p><br>
<p><img src="https://habrastorage.org/webt/wy/so/ct/wysoct41vwjzn6qd-lzog7nmo7o.jpeg"><br>
<em> </em></p><br>
<p><strong>  IT-</strong><br>
   (52 ).     100%.</p><br>
<p><img src="https://habrastorage.org/webt/ni/c9/vu/nic9vu9vf1xqh3xb7dyyli-mqni.png"></p><br>
<p><img src="https://habrastorage.org/webt/av/nf/vm/avnfvmkteect_rwrelfazf8kuau.png"></p></div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482010/index.html">ã€Œæ–°ã—ã„å™äº‹è©©ã€ã€‚é–‹ç™ºè€…ã€é‹ç”¨è€…ã€å¥½å¥‡å¿ƒã®å¼·ã„äººã€…ã®ãŸã‚ã«</a></li>
<li><a href="../ja482012/index.html">Raspberry PiãŠã‚ˆã³iperf-ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãŠã‚ˆã³IoTãƒ‡ãƒã‚¤ã‚¹ç”¨ã®å¸¯åŸŸå¹…ãƒ†ã‚¹ã‚¿ãƒ¼</a></li>
<li><a href="../ja482014/index.html">SDRã¨Pythonã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒŠãƒ­ã‚°ãƒ†ãƒ¬ãƒ“ã‚’å—ã‘å…¥ã‚Œã¦ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹</a></li>
<li><a href="../ja482020/index.html">Rã€ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­ãŠã‚ˆã³ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¿ã‚¹ã‚¯</a></li>
<li><a href="../ja482022/index.html">ã»ã‚‰è¦‹ã¦ï¼ç§‘å­¦ã¨ç§‘å­¦è€…ã«é–¢ã™ã‚‹20ã®æ˜ ç”»</a></li>
<li><a href="../ja482030/index.html">Vue.jsï¼šã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯</a></li>
<li><a href="../ja482032/index.html">ç«éŠã³ï¼šé–‹ç™ºiPhone 7ã§ä»»æ„ã®ã‚³ãƒ¼ãƒ‰ã‚’èµ·å‹•</a></li>
<li><a href="../ja482034/index.html">Yandexï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¤ã„ã¦ã®ã™ã¹ã¦ãŒã‚ã‚Šã¾ã™...</a></li>
<li><a href="../ja482038/index.html">2019å¹´ã®çµæœã‚’Habr Careerã§ã¾ã¨ã‚ã¦ã„ã¾ã™</a></li>
<li><a href="../ja482040/index.html">C ++ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æ©Ÿèƒ½</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>