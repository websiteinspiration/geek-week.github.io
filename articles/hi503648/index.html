<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╢ЁЯП╛ ЁЯЫвя╕П ЁЯСБтАНЁЯЧи "Ss -s" рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ тЪТя╕П тЭдя╕П ЁЯдЪЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Netstat рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЛ ss рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╕реЗ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдмрд╣реБрдд рдмрд╛рд░ рдПрдХрддреНрд░рд┐рдд (рд╕рд╛рд░рд╛рдВрд╢) рдЬрд╛рдирдХрд╛рд░реА " ss -s " (рдпрд╛ " ss - ssummary ") рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдЧрд░рд╛рдиреА рдХреА...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>"Ss -s" рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503648/"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netstat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╕реЗ </font><font style="vertical-align: inherit;">рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ </font><font style="vertical-align: inherit;">рдФрд░ рдмрд╣реБрдд рдмрд╛рд░ рдПрдХрддреНрд░рд┐рдд (рд╕рд╛рд░рд╛рдВрд╢) рдЬрд╛рдирдХрд╛рд░реА " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss -s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " (рдпрд╛ " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss - ssummary</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ") рдХреЗ </font><b><font style="vertical-align: inherit;">рдЖрдЙрдЯрдкреБрдЯ</font></b><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдЧрд░рд╛рдиреА рдХреА рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдБрдХрд┐, рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рджрд░реНрд╢рд┐рдд рдлрд╝реАрд▓реНрдб рдХрд╛ рдХреНрдпрд╛ рдЕрд░реНрде рд╣реИ?</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ss -s</span><font></font>
Total: 15046 (kernel 16739)<font></font>
TCP:   39306 (estab 11458, closed 25092, orphaned 110, synrecv 0, timewait 24929/0), ports 0<font></font>
<font></font>
Transport Total     IP        IPv6<font></font>
*	  16739     -         -        <font></font>
RAW	  0         0         0        <font></font>
UDP	  15        5         10       <font></font>
TCP	  14214     1214      13000    <font></font>
INET	  14229     1219      13010    <font></font>
FRAG	  0         0         0        <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛, рд╕реВрдХреНрд╖реНрдорддрд╛рдПрдВ рд╣реИрдВред</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рддреНрдп рдХрд╛ рд╕реНрд░реЛрдд рд╕реНрд░реЛрдд рдХреЛрдб рд╣реИред </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рд╕реНрд░реЛрдд рдХреЛрдб ┬лss┬╗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iproute2 / misc / ss.c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдкрд╛рдпрд╛ рдЧрдпрд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ss</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -s" рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Print_summary</font></a><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдВрд╕реНрдХрд░рдг 4.17.0 рд╕реЗ рдкрд╣рд▓реЗ, "ss -s" рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдКрдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90ee99d рдХрд░рдиреЗ рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╛рдж </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдиреЗ рд▓рдЧрд╛:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ss -s</span><font></font>
Total: 15046<font></font>
TCP:   39306 (estab 11458, closed 25092, orphaned 110, timewait 24929)<font></font>
<font></font>
Transport Total     IP        IPv6<font></font>
RAW	  0         0         0        <font></font>
UDP	  15        5         10       <font></font>
TCP	  14214     1214      13000    <font></font>
INET	  14229     1219      13010    <font></font>
FRAG	  0         0         0        <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, "рдХрд░реНрдиреЗрд▓" рдлрд╝реАрд▓реНрдб рдХреЛ "рдХреБрд▓" рд▓рд╛рдЗрди рд╕реЗ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">"рдЯреАрд╕реАрдкреА" рд▓рд╛рдЗрди рдореЗрдВ, рдлрд╝реАрд▓реНрдб "synrecv" рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдПрдХ (рдкрд╣рд▓реЗ) рд╕рдВрдЦреНрдпрд╛ "рдЯрд╛рдЗрдорд╡реЗрдЯ" рдмрдиреА рд╣реБрдИ рдереА, рдлрд╝реАрд▓реНрдб "рдкреЛрд░реНрдЯ" рд╣рдЯрд╛ рджреА рдЧрдИ рдереАред </font><font style="vertical-align: inherit;">рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ "" рдкрдВрдХреНрддрд┐ "рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ" * рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдкреНрд░рддрд┐рдмрджреНрдз рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдЕрд░реНрде рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдордиреЗ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдЯреВрдЯреЗ рд╣реБрдП рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред"</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЯреВрдЯ рдЧрдпрд╛ рдерд╛?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">print_summary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдВрд╕реНрдХрд░рдг 4.16.0 рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slabstat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдлреЛрди рдХрд░рдХреЗ рднрд░рд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_slabstat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдЕрдЧрд░ рд╣рдо get_slabstat рдХреЙрд▓ рдХреЛ рд╢реЗрд▓ рдХрдорд╛рдВрдб рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рд▓реЗрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд┐рд▓рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># egrep '^(sock|tcp_bind_bucket|tcp_tw_bucket|tcp_open_request|skbuff_head_cache)' /proc/slabinfo | awk '{ print $1, $2; }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрд╣рд╛рдВ "/ proc / slabinfo" рд╕реЗ рдХреБрдВрдЬрд┐рдпрд╛рдБ "slabstat" рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрддреА рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">slabstat</span> {</span>
	<span class="hljs-keyword">int</span> socks;       <span class="hljs-comment">// sock, net/core/sock.c:sk_init,   2.6.12</span>
	<span class="hljs-keyword">int</span> tcp_ports;   <span class="hljs-comment">// tcp_bind_bucket, net/ipv4/tcp.c:tcp_init</span>
	<span class="hljs-keyword">int</span> tcp_tws;     <span class="hljs-comment">// tcp_tw_bucket, net/ipv4/tcp.c:tcp_init,   2.6.14</span>
	<span class="hljs-keyword">int</span> tcp_syns;    <span class="hljs-comment">// tcp_open_request, net/ipv4/tcp.c:tcp_init,   2.6.13</span>
	<span class="hljs-keyword">int</span> skbs;        <span class="hljs-comment">// skbuff_head_cache, net/core/skbuff:skb_init,  </span><font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЖрдЬ "/ proc / slabinfo" рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╕рднреА рдореВрд▓реНрдпреЛрдВ рдХрд╛ рдХреЗрд╡рд▓ "tcp_bind_bucket" рдореВрд▓реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ "рдкреЛрд░реНрдЯ" рдлрд╝реАрд▓реНрдб рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореИрдВ рд▓рд┐рдирдХреНрд╕ рдореЗрдВ тАЬрдЯреАрд╕реАрдкреА / рдЖрдИрдкреА рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░, рдбрд┐рдЬрд╝рд╛рдЗрди, рдФрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдитАЭ рдкреБрд╕реНрддрдХ рд╕реЗ рдЕрдкрдирд╛ рд╡рд┐рд╡рд░рдг рджреВрдВрдЧрд╛ред </font><font style="vertical-align: inherit;">рдПрд╕ред рд╕реЗрда рдФрд░ рдПрдордП рд╡реЗрдВрдХрдЯреЗрд╢реБрд▓реБ 2008 рджреНрд╡рд╛рд░рд╛ IEEE рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЛрд╕рд╛рдпрдЯреА ":</font></font><br>
<blockquote>This structure keeps information about the port number usage by sockets and the way the port number is being used. The information is useful enough to tell the new binding socket whether it can bind itself to a particular port number that is already in use. The data structure also keeps track of all the socketтАЩs that are associated with this port number.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдм рдлрд┐рд░ рд╕реЗ рд╡рд╣реА рдмрд╛рдд, рд▓реЗрдХрд┐рди рдПрдХ рддрд╕реНрд╡реАрд░ рдХреЗ рд░реВрдк рдореЗрдВ (рдореЗрд░реЗ рд╕реЗ рдХрд▓рд╛рдХрд╛рд░ рдРрд╕рд╛ рд╣реИ): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/do/ym/nhdoym9qq9nhakjcq0qs8pubpuu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрдпрд╛ рдЖрдкрдХреЛ рдХреБрдЫ рдЕрдЬреАрдм рд▓рдЧрддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рд╕реНрд▓реИрдм "рдЬреБрд░реНрд░рд╛рдм" (2.6.12 рдореЗрдВ рд╣рдЯрд╛рдпрд╛ рдЧрдпрд╛) рдХрд╛ рдПрдХ рдЧреИрд░-рдореВрд▓реНрдп рд╣реИред </font><font style="vertical-align: inherit;">рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдЯреНрд░рд┐рдВрдЧ рддреБрд▓рдирд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдЦрд╝рд╛рд╕рд┐рдпрдд рдХреЗ</font></a><font style="vertical-align: inherit;"> рдХрд╛рд░рдг </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> рдХрд┐рд╕реА рднреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕рдХреА рдХреБрдВрдЬреА "рдЬреБрд░реНрд░рд╛рдм" рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рд╡рд╣ рдХреНрд╖реЗрддреНрд░ рдореВрд▓реНрдп рдореЗрдВ рдорд┐рд▓ рдЬрд╛рдПрдЧреАред </font><font style="vertical-align: inherit;">рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ "рдиреЗрдЯ / рд╕реЙрдХреЗрдЯ.c: init_inodecache" рд╕реЗ "sock_inode_cache" "sockfs" рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ - "рдЗрдирдХреЛрдб" рдХреА рдПрдХ рд╕реВрдЪреА рдЬрд┐рд╕рдореЗрдВ "рд╕реЙрдХреЗрдЯ рд╕реНрдЯреНрд░рдХреНрдЪрд░" рд╣реИ (рд╢рд╛рдпрдж рдпрд╣ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рд▓реЗрдЦрдХ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдирд╣реАрдВ рд╣реИ):</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># egrep '^sock' /proc/slabinfo | awk '{ print $1, $2; }'</span><font></font>
sock_inode_cache 16739<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХ рд╣реИ, "tcp_bind_bucket" рдХрд░реНрдиреЗрд▓ рдмрд┐рд▓реНрдб рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдХрд╛рд░рдг рд╣реА рдЧрд╛рдпрдм рд╣реИ (рдФрд░, рддрджрдиреБрд╕рд╛рд░, "рдкреЛрд░реНрдЯ" рдлрд╝реАрд▓реНрдб рдореЗрдВ рд╣рдореЗрд╢рд╛ "0" рдорд╛рди рд╣реЛрддрд╛ рд╣реИ)ред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдЙрдЯрдкреБрдЯ рд╡рд┐рд╡рд░рдг "ss -s"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрд╖реЗрддреНрд░ рдЧрдгрдирд╛ рдХреА рдкреЗрдЪреАрджрдЧрд┐рдпреЛрдВ рдореЗрдВ рдЧреЛрддрд╛ рд▓рдЧрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рдореЗрдореЛрд░реА рдореЗрдВ рд╕реЙрдХреЗрдЯреНрд╕ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рддрд╛рдЬрд╝рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ (ESTABLISHED, CLOSE-WAIT, TIME-WAIT, рдЖрджрд┐)ред </font><font style="vertical-align: inherit;">рдЬреЛ рд▓реЛрдЧ рднреВрд▓ рдЧрдП рд╣реИрдВ, рд╡реЗ рд╡рд┐рдХрд┐ рдХреА рдорджрдж рдХрд░рддреЗ рд╣реИрдВ: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд░рдпреВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдлрд╛рдЗрд▓реЛрдВ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдореВрд▓реНрдпреЛрдВ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># cat /proc/net/sockstat</span><font></font>
sockets: used 15046<font></font>
TCP: inuse 1205 orphan 111 tw 24952 alloc 14368 mem 5890<font></font>
UDP: inuse 5 mem 86<font></font>
UDPLITE: inuse 0<font></font>
RAW: inuse 0<font></font>
FRAG: inuse 0 memory 0<font></font>
<font></font>
<span class="hljs-comment"># cat /proc/net/sockstat6</span><font></font>
TCP6: inuse 13000<font></font>
UDP6: inuse 10<font></font>
UDPLITE6: inuse 0<font></font>
RAW6: inuse 0<font></font>
FRAG6: inuse 0 memory 0<font></font>
<font></font>
<span class="hljs-comment"># egrep '^Tcp:' /proc/net/snmp</span><font></font>
Tcp: RtoAlgorithm RtoMin RtoMax ... AttemptFails EstabResets CurrEstab ...<font></font>
Tcp: 1 200 120000 ... 1348218 4095008 11458 ...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"рдиреЗрдЯ / рд╕реЛрдХрд╕реНрдЯреИрдЯ" рдХреА рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдореВрд▓реНрдпреЛрдВ (рдЪрд┐рддреНрд░реЛрдВ рдореЗрдВ рдзрд╛рд░рдгрд╛ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/y9/r_/lly9r_hmfcfhkf1-tyu0opkbyg8.png"><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреБрд▓</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - TIME_WAIT рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдХрд┐рд╕реА рднреА рд░рд╛рдЬреНрдп рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕реЙрдХреЗрдЯ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ (рдпреВрдирд┐рдХреНрд╕ рд╕реЙрдХреЗрдЯ рд╕рд╣рд┐рдд);</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреАрд╕реАрдкреА:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдХрд┐рд╕реА рднреА рд░рд╛рдЬреНрдп рдореЗрдВ TCP рд╕реЙрдХреЗрдЯ (IPv6 рд╕рд╣рд┐рдд) рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tw</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЙрдХреЗрдЯ рд╕реЗ рдЕрд▓рдЧ рд╣реЛрддреА рд╣реИ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alloc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддрдерд╛рдХрдерд┐рдд рдХреЗ рдХрд╛рд░рдг рд╕реЙрдХреЗрдЯред </font><font style="vertical-align: inherit;">" </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрде рд░реЛ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " - рдЗрдирдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рддрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рдЬрдм рддрдХ рдХрд┐ рдмрдВрдж рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рд╕рдВрдХреНрд░рдордг рди рд╣реЛ рдЬрд╛рдПред</font></font><br>
 <ul>
<li><b>orphaned</b> тАФ   ┬л┬╗ TCP  (,       );</li>
<li><b>timewait</b> тАФ   TCP    TIME_WAIT;</li>
<li><b>inuse TCP, UDP, RAW</b> тАФ   <b>v4</b>         CLOSED  TIME_WAIT;</li>
<li><b>inuse FRAG</b> (bool) тАФ   , <b>memory</b> тАФ       (   <b>mem</b>,    ).</li>
</ul></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"рдиреЗрдЯ / рд╕реЙрдХрд╕реНрдЯреИрдЯ 6" рдХреА рд╕рд╛рдордЧреНрд░реА рджреНрд╡рд╛рд░рд╛ рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдорд╛рди: рдпрд╣рд╛рдВ </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/i7/ja/oqi7jaqtagey4sy-kkgkejirudw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ - " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ / рдЯреЛрдЯрд▓</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдИрдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рдФрд░ " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдИрдкреАрд╡реА 6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">рдорд╛рдиреЛрдВ рдХрд╛ рдХреБрд▓ рдпреЛрдЧ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдорд╛рдиреЛрдВ рдХреА рдЧрдгрдирд╛ "рдиреЗрдЯ / рд╕реНрдиреИрдореНрдк" рдХреА рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдХреА рдЬрд╛рддреА рд╣реИред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFC-4022 рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдиреБрд╕рд╛рд░ </font><font style="vertical-align: inherit;">, " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcpCurrEstab</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " "рдЯреАрд╕реАрдкреА рдХрдиреЗрдХреНрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдпрд╛ рддреЛ рд╕реНрдерд╛рдкрд┐рдд рдпрд╛ рдмрдВрдж рд╣реИ"ред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/2x/as/qo2xascklqre17kvzw9yxktyo-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рдЕрдВрддрд┐рдо " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрдВрдж</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">рдлрд╝реАрд▓реНрдб </font><font style="vertical-align: inherit;">TIME_WAIT рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЖрд╡рдВрдЯрд┐рдд рд╕реЙрдХреЗрдЯреНрд╕ рдФрд░ рд╕реЙрдХреЗрдЯреНрд╕ рдХрд╛ рдпреЛрдЧ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ TCPv4 рдФрд░ TCPv6 рд╕реЙрдХреЗрдЯреНрд╕ рдХрд╛ рдпреЛрдЧ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1_/sp/oa/1_spoafqh2_qydt6jxtrsszmf_s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS рдФрд░ рдЧреНрд░рд╛рдлрд╝ рдкрд░ рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВред</font></font><br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi503632/index.html">1000 рдФрд░ 1 рдкрдж: рдЬрдиреНрдорджрд┐рди рдореБрдмрд╛рд░рдХ рд╣реЛ, рд╣рдмрд░ happy</a></li>
<li><a href="../hi503634/index.html">5 рджрд┐рд▓рдЪрд╕реНрдк рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ Vue рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ</a></li>
<li><a href="../hi503636/index.html">рд╕рд░реНрд╡рд░ рдкрд░ рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рд▓реЛрдб рдиреЗрдЯрд╡рд░реНрдХ рддрдВрддреНрд░ рдмрдирд╛рддрд╛ рд╣реИ?</a></li>
<li><a href="../hi503638/index.html">6 рдЙрдкрдпреЛрдЧреА рдЖрджрддреЗрдВ, рдЬреЛ рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рд░реВрдк рд╕реЗ, рдХреЗрд╡рд▓ рдХреБрдЫ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЗ рдкрд╛рд╕ рд╣реИрдВ</a></li>
<li><a href="../hi503642/index.html">рд╕рд┐рд▓рд┐рдХреЙрди рд╡реИрд▓реА рдореЗрдВ рд▓рд┐рдВрдХреНрдбрдЗрди, рдлреЗрд╕рдмреБрдХ, рдЧреВрдЧрд▓ рдкрд░ рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi503650/index.html">VKCup 2020 рд╕реНрдЯреЗрдЬ I рдП рд▓реЙрдиреНрдЧ рд╡реЗ</a></li>
<li><a href="../hi503652/index.html">25 рдордИ рд╕реЗ 31 рдордИ рддрдХ рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдбрд┐рдЬрд┐рдЯрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi503654/index.html">рд╡реЗрдм рд╕реЗрд╡рд╛ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рд╕рдВрдЪрд╛рд░ рдХреА рд╕рдВрд╕реНрдХреГрддрд┐ рдХреЛ рдСрдирд▓рд╛рдЗрди рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ</a></li>
<li><a href="../hi503656/index.html">рдЯреЛрдореЛрдЧреНрд░рд╛рдлрд┐рдХ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЫрд╡рд┐ рдореЗрдВ рдмреИрдВрдб рджрдорди рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо</a></li>
<li><a href="../hi503660/index.html">рдмрд┐рдирд╛ рджрд░реНрдж рдХреЗ рдЯреЗрд╕реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯред рдпреИрдВрдбреЗрдХреНрд╕ рд░рд┐рдкреЛрд░реНрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>