<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÜ üçº üèÖ OVirt in 2 Stunden. Teil 4. Grundlegende Operationen üë©üèª‚Äçü§ù‚Äçüë®üèæ üï§ ‚òØÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute betrachten wir eine Reihe grundlegender Vorg√§nge, die der Administrator der Virtualisierungsumgebung regelm√§√üig ausf√ºhren muss. Der Artikel ist ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>OVirt in 2 Stunden. Teil 4. Grundlegende Operationen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503192/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heute betrachten wir eine Reihe grundlegender Vorg√§nge, die der Administrator der Virtualisierungsumgebung regelm√§√üig ausf√ºhren muss. </font><font style="vertical-align: inherit;">Der Artikel ist eine Fortsetzung der oVirt-Reihe: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inhalt</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer VM und einer Vorlage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM-Migration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Live-Migration);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichermigration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Speichermigration);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benennen Sie VM und Festplatte um</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update oVirt-Host</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Hypervisor);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update oVirt-Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Manager);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM importieren</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgabenverwaltung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation des Managers (Ovirt-Engine) und der Hypervisoren (Hosts) </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zus√§tzliche Einstellungen</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlegende Operationen - Wir sind hier</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation finden Sie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informationen zu Verwaltungsaufgaben </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Betreten von oVirt sehen Sie 2 Portale:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administrationsportal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM Portal</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste ist f√ºr Administrator- und Verwaltungsaufgaben vorgesehen, die zweite - f√ºr Kunden von Maschinen, kann aber auch vom Administrator verwendet werden - einige Funktionen sind dort sogar noch bequemer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am oberen Rand des Fensters jeder Sammlung von oVirt-Objekten befindet sich ein leistungsstarkes Suchfeld mit kontextbezogenen Eingabeaufforderungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Auswahl von Problemhosts in der Systemsteuerung f√ºhrt beispielsweise zu einem Filter:</font></font><br>
<br>
<pre><code class="plaintext hljs">status = unassigned or status = maintenance or status = installing or status = reboot or status = preparingformaintenance or status = pendingapproval or status = connecting or status = installingos or status = kdumping</code></pre><br>
<a name="vm-pool"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie eine VM und eine Vorlage</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, Sie haben bereits in Teil 2 eine einfache VM erstellt. Jetzt lernen wir andere oVirt-Entit√§ten kennen, die in direktem Zusammenhang mit virtuellen Maschinen stehen - virtuelle Maschinen selbst, Vorlagen und Pools. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Vorlage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist eine Kopie einer Maschine (normalerweise vorbereitet), mit der identische Maschinen erstellt werden sollen (Klonen). Die Vorlage hat m√∂glicherweise eine Version. Dies ist praktisch, da Es ist nicht erforderlich, nach jeder Aktualisierung des Referenzcomputers eine neue separate Vorlage zu erstellen. Weitere Details in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Pool</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist eine Gruppe identischer Maschinen, die aus einer einzelnen Vorlage generiert werden. Praktisch f√ºr VDI (Virtual Desktop Infrastructure), wenn Dutzende oder Hunderte von Benutzern eine identische Arbeitsumgebung bereitstellen m√ºssen und dies buchst√§blich im Handumdrehen erfolgt. Weitere Informationen zu Pools finden Sie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns eine Vorlage erstellen, f√ºr die wir eine zuvor erstellte Maschine klonen k√∂nnen, aber zur Demonstration gehen wir in die andere Richtung - importieren Sie eine Vorlage aus der externen Sammlung </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fx/gg/lt/fxggltgss5p9llxyplgghxmpbsg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. 1 - Import des Fedora 32-Bildes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wir markieren "Als Vorlage importieren" (3, Als Vorlage importieren) und geben der Vorlage einen Namen (4). Es wird dringend empfohlen, der Festplatte einen Anzeigenamen zu geben (5, Festplattenalias). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Fortschritt der Aufgaben liegt in dem √ºberwachten </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tasks</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abschnitt </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/p6/co/cjp6cor50gw2euzkgnf_vl-lc24.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 2 - Fortschritte bei der Erledigung von Aufgaben in oVirt.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nach erfolgreichem Upload wird die Vorlage zur Liste hinzugef√ºgt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/_n/o3/cg_no3kzfukaodkzouox0q2bt3q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 3 - Vorlagen.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Erstellen Sie anhand der geladenen Vorlage einen Pool: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/qk/aj/fnqkajhsx4hrbzr_wc8jozs9zua.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 4 - Erstellen eines Pools.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir gehen zu Compute -&gt; Pools (1), New (2), w√§hlen die Fedora32 (3) -Vorlage, die Version - latests (4), weisen den Namen "myPoolA- ??" zu. (5). Die Felder Anzahl der VM und vorgestartete VM werden noch nicht ber√ºhrt. Wir werden im n√§chsten Schritt darauf zur√ºckkommen. Schalten Sie als N√§chstes die erweiterten Einstellungen (6) ein und fahren Sie mit dem Einrichten des Erstlaufs fort. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/m5/dj/zxm5djt-ud05hne1hyahor2nluo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 4 - Konfigurieren Sie den Erststart.</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
weil Von Glance Images haben wir Cloud Image heruntergeladen. Wir m√ºssen die Authentifizierung konfigurieren. √úberpr√ºfen Sie, ob "Cloud-Init / Sysprep verwenden" (1) aktiviert ist, √∂ffnen Sie die Authentifizierung (2) und geben Sie den Benutzernamen an, z. B. root oder user (3). Um ein eindeutiges Kennwort f√ºr den Pool zu erstellen, deaktivieren Sie "Bereits konfiguriertes Kennwort verwenden" (4) und geben Sie Ihr Kennwort ein (5). Klicken Sie auf "OK" - der Pool wird erstellt, identische Maschinen werden unter "Berechnen -&gt; Virtuelle Maschinen" angezeigt (achten Sie auf das entsprechende Symbol, es unterscheidet sich von einer separat arbeitenden Maschine). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinweis zum Namen des Pools. Wie Sie bemerkt haben, steht am Ende "- ??". Dies schlie√üt die "normalisierte" Nummerierung von Maschinen ein (erg√§nzt durch Nullen - 01, 02, ..., 09, 10 usw.). Andernfalls handelt es sich bei der Nummerierung um nat√ºrliche Nummern ohne Ausrichtung (1, 2, ..., 9, 10, ...)</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor wir fortfahren, kehren wir zu den Pooleinstellungen zur√ºck. </font><font style="vertical-align: inherit;">Beachten Sie, dass das Feld "Anzahl der VMs" in "Anzahl der VMs im Pool erh√∂hen um" ge√§ndert wurde. </font><font style="vertical-align: inherit;">Wir geben hier 31 an und die Anzahl der Computer im Pool wird fast sofort 32. Jetzt geben wir im Feld "Vorgestartete VM" 16 ein. Dadurch wird oVirt gezwungen, die angegebene Anzahl von Computern vorab zu starten und bereit zu sein, Benutzer zu verbinden. </font><font style="vertical-align: inherit;">Hier werden wir uns mit Maschinen, Vorlagen und Pools befassen und mit der Migration fortfahren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wichtige VM-Symbole:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rack-Einheit - Server;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitor - Desktop;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 T√ºrme - Server aus dem Pool;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 Monitore - Desktop aus dem Pool;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zur√ºckspulen (Zur√ºckspulen) - zustandslos (die Maschine setzt ihren Zustand nach dem Herunterfahren auf den urspr√ºnglichen Zustand zur√ºck; alle √Ñnderungen werden zur√ºckgesetzt);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dreieck im orangefarbenen Monitor - Die angeforderte Konfigurations√§nderung erfordert einen Neustart.</font></font></li>
</ul><br>
<a name="live-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM-Migration (Live-Migration)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Migration des Status des eingeschalteten Computers ist einfach - klicken Sie mit der rechten Maustaste auf einen Computer oder eine Gruppe von Computern. </font><font style="vertical-align: inherit;">Das Verfahren √§hnelt dem von vMotion in vSphere. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/ne/dz/zmnedzcid6vyhsgubvv95u6cnsy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. </font><font style="vertical-align: inherit;">5 - Starten Sie die Migration. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berechnen -&gt; Virtuelle Maschine, w√§hlen Sie eine oder mehrere Maschinen aus, Migrieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8v/bp/9h/8vbp9hslgmoa_n_v3ltlmuxfknw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. </font><font style="vertical-align: inherit;">6 - Der Migrationsprozess kann auf Hosts beobachtet werden (Compute -&gt; Hosts). </font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu einer Zeit bewegen sich nicht mehr als 2 Autos.</font></font><br>
<a name="storage-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichermigration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den VMware vSphere-Benutzer kann dieses Verfahren jedoch ungew√∂hnlich erscheinen, da </font><font style="vertical-align: inherit;">Die Ans√§tze zum Speichern von Disk-Images und Maschinenkonfigurationen in Systemen unterscheiden sich. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um VM-Speicher zu √ºbertragen, wechseln Sie zu den Datentr√§gern (Speicher -&gt; Datentr√§ger) oder Dom√§nen (Speicher -&gt; Dom√§nen -&gt; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{Dom√§nenname}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt; Datentr√§ger). </font><font style="vertical-align: inherit;">W√§hlen Sie Laufwerk (e) und dr√ºcken Sie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verschieben</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das war's, die Laufwerke werden an einen anderen Speicher gesendet. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis: Aufgrund der internen Organisation gibt es Einschr√§nkungen f√ºr die Migration des Vorlagenspeichers und des Pools. </font><font style="vertical-align: inherit;">Die Vertrautheit mit der Speichermigration erfolgt am besten auf einem separaten Computer au√üerhalb des Pools. </font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Kopieren von Datentr√§gern erfolgt in denselben Men√ºs wie das manuelle Laden / Entladen.</font></font><br>
<a name="rename"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benennen Sie VM und Festplatte um</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das √Ñndern des Namens einer Maschine oder Vorlage ist sehr einfach - Bearbeiten Sie einen neuen Namen und geben Sie ihn ein. </font><font style="vertical-align: inherit;">Um einen Pool umzubenennen, m√ºssen seine Computer gel√∂scht und neu erstellt werden </font><font style="vertical-align: inherit;">basierend darauf werden VMs mit den entsprechenden Namen und Konfigurationen generiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Umbenennen einer Festplatte ist ebenfalls m√∂glich, der Pfad ist jedoch l√§nger als </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e: Compute -&gt; Virtuelle Maschine -&gt; {VM-Name} -&gt; Festplatten -&gt; {VM-Festplatten-Alias} -&gt; Bearbeiten, Alias. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interne Objektkennungen basieren auf UUIDs. </font><font style="vertical-align: inherit;">Beim Umbenennen √§ndern wir tats√§chlich die Aliase. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Abschnitt befasst sich mit dem Update, bei dem es sich um ein Update (Minor) und nicht um ein Upgrade (Major) handelt, wenn sich die Versionsnummer √§ndert (dies ist ein komplizierteres Verfahren und geh√∂rt nicht zu den t√§glichen Aufgaben).</font></font><br>
<a name="update-host"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update oVirt-Host (Hypervisor)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Host-Updates sind einfacher als in vSphere. Der Update-Manager in oVirt ist organisch in die Plattform integriert und erfordert keine Einstellungen. Offizielle </font><font style="vertical-align: inherit;">Update- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/we/j1/fjwej1ph06a03bqpfx2ye6ijeny.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 7 - Wenn Updates vorhanden sind, meldet der Manager diese mit einem CD-Symbol. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ww/vw/rn/wwvwrnz9q9hizaqo3mfndfihp_m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 8 - Bevor Sie mit dem Update beginnen, m√ºssen Sie den Wartungsmodus aktivieren (Verwaltung -&gt; Wartung). Dadurch wird automatisch die VM-Migration auf andere Hosts gestartet (siehe Abb. 6) und das Update vorbereitet. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ol/ry/fw/olryfwdduor2j39tr47n8zlnpew.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 9 - Das Schraubenschl√ºsselsymbol zeigt an, dass der Host betriebsbereit ist. </font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ov/rt/ta/ovrttawkmmi6fkfp-wic5_mpy00.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 10 - Installation -&gt; Upgrade startet den Upgrade-Vorgang. </font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/8z/ch/7s/8zch7sdgo_plq5suw8yevk8nzz8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. 11 - Wir k√∂nnen den Manager bitten, dem Host einen Befehl zum Neustart zu geben, nachdem das Update abgeschlossen ist, damit es wirksam wird.</font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ze/dg/kb/zedgkbmmuxxm7kvy6qoxhh-bvza.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. </font><font style="vertical-align: inherit;">12 - Nach dem Neustart wird der Hypervisor au√üer Betrieb gesetzt (Management -&gt; Aktivieren). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir gehen alle Hosts durch und aktualisieren sie.</font></font><br>
<a name="update-engine"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update oVirt-Engine (Manager)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies kann zun√§chst verwirrend sein, aber das Manager-Update wird mithilfe des Engine-Setups mit zus√§tzlichen Schritten durchgef√ºhrt, wie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation beschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie nach M√∂glichkeit ein Archiv oder eine Momentaufnahme des Computers, und stellen Sie sicher, dass die letzte geplante Sicherung erfolgreich war.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir √ºberpr√ºfen und aktualisieren Installationspakete:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo engine-upgrade-check<font></font>
$ sudo update ovirt\*setup\*</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Hauptteil des Updates wird vom Motor-Setup-Programm ausgef√ºhrt. </font><font style="vertical-align: inherit;">Sie wird eine Reihe von Konfigurationsfragen stellen, dann den ovirt-engine-Dienst beenden, aktualisierte Pakete herunterladen und installieren, ein Archiv erstellen und die Datenbank aktualisieren, die aktualisierte Konfiguration anwenden und den ovirt-engine-Dienst starten.</font></font><br>
 <br>
<pre><code class="bash hljs">$ sudo engine-setup</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nach erfolgreichem Update erhalten wir folgende Nachricht:</font></font><br>
 <br>
<pre><code class="plaintext hljs">Execution of setup completed successfully</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispielausgabe aus dem Engine-Setup-Skript</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">$ sudo engine-setup</code></pre><br>
<pre><code class="plaintext hljs">[ INFO  ] Stage: Initializing<font></font>
[ INFO  ] Stage: Environment setup<font></font>
          Configuration files: ['/etc/ovirt-engine-setup.conf.d/10-packaging-jboss.conf', '/etc/ovirt-engine-setup.conf.d/10-packaging.conf', '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf']<font></font>
          Log file: /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
          Version: otopi-1.8.2 (otopi-1.8.2-1.el7)<font></font>
[ INFO  ] Stage: Environment packages setup<font></font>
[ INFO  ] Stage: Programs detection<font></font>
[ INFO  ] Stage: Environment setup (late)<font></font>
[ INFO  ] Stage: Environment customization<font></font>
         <font></font>
          --== PRODUCT OPTIONS ==--<font></font>
         <font></font>
         <font></font>
          --== PACKAGES ==--<font></font>
         <font></font>
[ INFO  ] Checking for product updates...<font></font>
          Setup needs to install or update the following packages:<font></font>
          [updated] ovirt-engine-4.3.5.5-1.el7.noarch will be updated<font></font>
...<font></font>
          [update] ovirt-engine-wildfly-overlay-17.0.1-1.el7.noarch is an update<font></font>
          Replying "No" will abort Setup. You can pass the option "--offline" to prevent installing or updating packages.<font></font>
          Do you wish to update them now? (Yes, No) [Yes]: <font></font>
[ INFO  ] Checking for an update for Setup...<font></font>
         <font></font>
          --== NETWORK CONFIGURATION ==--<font></font>
         <font></font>
          Setup can automatically configure the firewall on this system.<font></font>
          Note: automatic configuration of the firewall may overwrite current settings.<font></font>
          NOTICE: iptables is deprecated and will be removed in future releases<font></font>
          Do you want Setup to configure the firewall? (Yes, No) [Yes]: <font></font>
[ INFO  ] firewalld will be configured as firewall manager.<font></font>
         <font></font>
          --== DATABASE CONFIGURATION ==--<font></font>
         <font></font>
          The detected DWH database size is 439 MB.<font></font>
          Setup can backup the existing database. The time and space required for the database backup depend on its size. This process takes time, and in some cases (for instance, when the size is few GBs) may take several hours to complete.<font></font>
          If you choose to not back up the database, and Setup later fails for some reason, it will not be able to restore the database and all DWH data will be lost.<font></font>
          Would you like to backup the existing database before upgrading it? (Yes, No) [Yes]: <font></font>
          Perform full vacuum on the oVirt engine history<font></font>
          database ovirt_engine_history@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== OVIRT ENGINE CONFIGURATION ==--<font></font>
         <font></font>
          Perform full vacuum on the engine database engine@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== STORAGE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== PKI CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== APACHE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== SYSTEM CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== MISC CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== END OF CONFIGURATION ==--<font></font>
         <font></font>
[ INFO  ] Stage: Setup validation<font></font>
          During execution engine service will be stopped (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning stale zombie tasks and commands<font></font>
         <font></font>
          --== CONFIGURATION PREVIEW ==--<font></font>
         <font></font>
          Default SAN wipe after delete           : False<font></font>
          Firewall manager                        : firewalld<font></font>
          Update Firewall                         : True<font></font>
          Host FQDN                               : ovirt.example.com<font></font>
          Upgrade packages                        : True<font></font>
          Set up Cinderlib integration            : False<font></font>
          Engine database secured connection      : False<font></font>
          Engine database user name               : engine<font></font>
          Engine database name                    : engine<font></font>
          Engine database host                    : localhost<font></font>
          Engine database port                    : 5432<font></font>
          Engine database host name validation    : False<font></font>
          Engine installation                     : True<font></font>
          PKI organization                        : JSC Open Lab<font></font>
          Set up ovirt-provider-ovn               : False<font></font>
          Configure WebSocket Proxy               : True<font></font>
          DWH installation                        : True<font></font>
          DWH database secured connection         : False<font></font>
          DWH database host                       : localhost<font></font>
          DWH database user name                  : ovirt_engine_history<font></font>
          DWH database name                       : ovirt_engine_history<font></font>
          Backup DWH database                     : True<font></font>
          DWH database port                       : 5432<font></font>
          DWH database host name validation       : False<font></font>
          Configure Image I/O Proxy               : True<font></font>
          Configure VMConsole Proxy               : True<font></font>
         <font></font>
          Please confirm installation settings (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning async tasks and compensations<font></font>
[ INFO  ] Unlocking existing entities<font></font>
[ INFO  ] Checking the Engine database consistency<font></font>
[ INFO  ] Stage: Transaction setup<font></font>
[ INFO  ] Stopping engine service<font></font>
[ INFO  ] Stopping ovirt-fence-kdump-listener service<font></font>
[ INFO  ] Stopping dwh service<font></font>
[ INFO  ] Stopping Image I/O Proxy service<font></font>
[ INFO  ] Stopping vmconsole-proxy service<font></font>
[ INFO  ] Stopping websocket-proxy service<font></font>
[ INFO  ] Stage: Misc configuration (early)<font></font>
[ INFO  ] Stage: Package installation<font></font>
[ INFO  ] Yum Status: Downloading Packages<font></font>
...<font></font>
[ INFO  ] Stage: Misc configuration<font></font>
[ INFO  ] Upgrading CA<font></font>
[ INFO  ] Not rewriting /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
[ INFO  ] Backing up database localhost:ovirt_engine_history to '/var/lib/ovirt-engine-dwh/backups/dwh-20200522233531.6LDItj.dump'.<font></font>
[ INFO  ] Creating/refreshing DWH database schema<font></font>
[ INFO  ] Configuring Image I/O Proxy<font></font>
[ INFO  ] Configuring WebSocket Proxy<font></font>
[ INFO  ] Backing up database localhost:engine to '/var/lib/ovirt-engine/backups/engine-20200522233538.LZCwME.dump'.<font></font>
[ INFO  ] Creating/refreshing Engine database schema<font></font>
[ INFO  ] Creating/refreshing Engine 'internal' domain database schema<font></font>
          Unregistering existing client registration info.<font></font>
[ INFO  ] Generating post install configuration file '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf'<font></font>
[ INFO  ] Stage: Transaction commit<font></font>
[ INFO  ] Stage: Closing up<font></font>
[ INFO  ] Starting engine service<font></font>
[ INFO  ] Starting dwh service<font></font>
[ INFO  ] Restarting ovirt-vmconsole proxy service<font></font>
         <font></font>
          --== SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Restarting httpd<font></font>
          Web access is enabled at:<font></font>
              http://ovirt.example.com:80/ovirt-engine<font></font>
              https://ovirt.example.com:443/ovirt-engine<font></font>
          SSH fingerprint: SHA256:JvilhbwRuMjBCJEjQVPlFQgk0aLaKz7Od0WzsZtx4j4<font></font>
          Did not update /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
         <font></font>
          --== END OF SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Stage: Clean up<font></font>
          Log file is located at /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
[ INFO  ] Generating answer file '/var/lib/ovirt-engine/setup/answers/20200522233608-setup.conf'<font></font>
[ INFO  ] Stage: Pre-termination<font></font>
[ INFO  ] Stage: Termination<font></font>
[ INFO  ] Execution of setup completed successfully</code></pre></div>
                    </div><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir aktualisieren das Betriebssystem und andere zus√§tzliche Pakete:</font></font><br>
 <pre><code class="bash hljs">$ sudo yum update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Bei Bedarf (Aktualisierung des Kernels oder seiner Komponenten) starten wir den Computer neu.</font></font></li>
</ol><br>
<a name="import-vm"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM importieren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen aus VMware, Export Domain (eine spezielle Entit√§t f√ºr den Austausch von Bildern zwischen dem Rechenzentrum), Virtual Appliance (OVA), XEN, KVM importieren. </font><font style="vertical-align: inherit;">Alle offiziell unterst√ºtzten Optionen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM von VMware importieren ESXi / VSPHERE wird auf Host + Authentifizierung auf dem Host ausgef√ºhrt, auf dem ESXi / VSPHERE ausgef√ºhrt wird</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KVM / Xen-VM aus Libvirt importieren: Der Benutzer gibt die URL + Authentifizierung f√ºr den Host an, auf dem Libvirt ausgef√ºhrt wird</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KVM / Xen-VM aus einem bestimmten Pfad importieren: Der Benutzer gibt den Pfad nfs / posix zur VM-Konfiguration und zu den Festplatten an</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM importieren, die aus VMware exportiert wurde: Der Benutzer gibt den Pfad nfs / posix zur ova-Datei an</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KVM / Xen-VM hochladen: Der Benutzer gibt Dateien der Konfiguration und der Festplatten an</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hochladen einer VM, die aus VMware exportiert wurde: Der Benutzer gibt die Eizellendatei an</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM aus Ordner importieren: Der Benutzer gibt den Pfad zu einem Ordner an, der KVM / Xen-VMs oder aus VMware exportierte VM enth√§lt</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns auf zwei Optionen eingehen - den Import aus vSphere und einen eigenst√§ndigen Computer mit KVM. </font><font style="vertical-align: inherit;">Um den Import unter Compute -&gt; Virtual Machines zu starten, dr√ºcken Sie die Taste f√ºr weitere Men√ºpunkte (3 vertikale Punkte, siehe Abb. 13). </font><font style="vertical-align: inherit;">Der Quellcomputer muss ausgeschaltet sein.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importieren Sie Computer aus vCenter</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Assistenten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenquelle: VMware;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Externer Anbieter: Unter Administration -&gt; Anbieter k√∂nnen Sie eine Vorlage f√ºr h√§ufige Vorg√§nge konfigurieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCenter: Name oder Adresse des vCenter-Servers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESXi: Von welchem ‚Äã‚ÄãHypervisor werden wir das Auto abholen?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Ceter: vollst√§ndiger Pfad zum Cluster;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster: enth√§lt einen Hypervisor-Cluster;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzername / Passwort: Benutzername und Passwort f√ºr die Verbindung zu vCenter;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberpr√ºfen Sie das SSL-Zertifikat des Servers: Wenn Sie selbstsignierte Zertifikate verwenden, m√ºssen Sie deren √úberpr√ºfung deaktivieren.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/g9/0i/4b/g90i4btxfdhaz_ji-bntbutlaei.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feige. </font><font style="vertical-align: inherit;">13 - Importieren Sie VMs aus VMware vSphere.</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maschinen aus KVM importieren</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Details zum Importieren aus KVM finden Sie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst m√ºssen Sie die Verbindung zur KVM von au√üen aktivieren, sofern dies noch nicht konfiguriert wurde.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erlaubnis zum Exportieren von Maschinen nach KVM</font></font></b>
                        <div class="spoiler_text">        ,      .       ! ,      ,        ,       .     , .,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">ArchLinux</a>.<br>
<br>
 ,   libvirtd<br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/sysconfig/libvirtd</code></pre><br>
 <br>
<br>
<pre><code class="plaintext hljs">LIBVIRTD_ARGS="--listen"</code></pre><br>
      <br>
<br>
<pre><code class="bash hljs">$ sudo cp /etc/libvirt/libvirtd.conf /etc/libvirt/libvirtd.conf.`date +%F`<font></font>
$ sudo vim /etc/libvirt/libvirtd.conf</code></pre><br>
  :<br>
<br>
<pre><code class="plaintext hljs">listen_tls = 0<font></font>
listen_tcp = 1<font></font>
listen_addr = "0.0.0.0"<font></font>
auth_tcp = "none"</code></pre><br>
     <br>
<br>
<pre><code class="plaintext hljs">log_outputs="3:syslog:libvirtd"</code></pre><br>
    libvirtd.    ,    libvirtd &gt; 0.6 (  libvirtd --version),   .<br>
<br>
<pre><code class="bash hljs">$ sudo service libvirtd restart</code></pre><br>
     tcp:16509.<br>
<br>
 CentOS 7     (  permanent):<br>
<br>
<pre><code class="bash hljs">$ sudo firewall-cmd --add-rich-rule=<span class="hljs-string">'rule family="ipv4" source address="172.17.71.32/30" port port="16509" protocol="tcp" accept'</span></code></pre><br>
 :<br>
<br>
<pre><code class="bash hljs">$ virsh -r -c <span class="hljs-string">'qemu+tcp://mgmt@kvm46.example.com/system'</span> list --all</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au√üerdem ist der Import selbst sehr einfach: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berechnen -&gt; Virtuelle Maschinen -&gt;: (zus√§tzliches Men√º, 3 vertikale Punkte) -&gt; Importieren -&gt; Quelle (KVM √ºber libvirt) -&gt; URI (qemu + tcp: //kvm46.example.com / system) -&gt; Authentifizierung erforderlich (Deaktivieren) -&gt; Laden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir markieren die erforderlichen Maschinen, w√§hlen die Zuordnungsrichtlinie (Zuordnungsrichtlinie). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuweisungsrichtlinie - Vorbelegt wird f√ºr Speichervolumes mit Hardware-Nullerkennung, f√ºr Volumes mit hoher E / A, Volumes mit hoher Belegung usw. bevorzugt, andernfalls kann Thin Provisioning erfolgen. In jedem Fall betrachten wir die Situation und analysieren sie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das markierte "Klonen" markiert, kopiert aber das Auto nicht. Beispielsweise wird eine neue MAC-Adresse f√ºr die Netzwerkschnittstelle zugewiesen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Registerkarte Allgemein ist es wichtig, den richtigen Betriebssystemtyp anzugeben, und auf der Registerkarte Netzwerkschnittstellen k√∂nnen Sie das gew√ºnschte Netzwerk angeben. </font><font style="vertical-align: inherit;">Als n√§chstes "importieren" und abh√§ngig von der Geschwindigkeit der Ausr√ºstung erhalten wir die importierte Maschine. </font><font style="vertical-align: inherit;">Vergessen Sie nach dem Import (oder vorher) nicht, ovirt-guest-agent zu installieren.</font></font><br>
<br>
<a name="task-mgmt"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgabenmanagement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Aufgaben einfrieren, beginnen schwierige ‚ÄûT√§nze‚Äú, von denen ich einige zu ber√ºhren versuchen werde. </font><font style="vertical-align: inherit;">Bei regelm√§√üigem Verhalten kann man sie in Abb. 1 beobachten. </font><font style="vertical-align: inherit;">2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Aufgabe mehr oder weniger normal ausgef√ºhrt wird, reichen regul√§re Werkzeuge aus. </font><font style="vertical-align: inherit;">Mit Pimern und Bildern k√∂nnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier sehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgaben werden auf dem oVirt-Host ausgef√ºhrt.</font></font><br>
<br>
<pre><code class="plaintext hljs">[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task getStatus taskID=&lt;TASKID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task stop taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task clear taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus versucht vdsm-client m√∂glicherweise, die Aufgabe mit allen unterst√ºtzten Methoden zur√ºckzusetzen:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vdsm-client Task -h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgabenmethoden: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Methode [arg = Wert] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 getStatus Informationen zum Aufgabenstatus abrufen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Rollback einer Aufgabe, um den vorherigen Systemstatus wiederherzustellen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 clear Informationen zu einer abgeschlossenen Aufgabe verwerfen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 getInfo Informationen zu einer Aufgabe abrufen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 stop Stoppt eine aktuell ausgef√ºhrte Aufgabe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bewegungen werden jedoch komplizierter, wenn die Aufgabe nicht mit Standardmethoden gestoppt werden kann. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offiziell wird hierf√ºr das Taskcleaner-Tool verwendet:</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo /usr/share/ovirt-engine/setup/dbutils/taskcleaner.sh --<span class="hljs-built_in">help</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In noch schwereren F√§llen ist eine direkte Bearbeitung der Datenbank erforderlich. </font><font style="vertical-align: inherit;">Diese Methode sollte nur als letzter Ausweg verwendet werden, da neue Archive von oVirt und den betroffenen Maschinen vorhanden sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also verbinden wir die Software-Sammlung</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo scl <span class="hljs-built_in">enable</span> rh-postgresql10 <span class="hljs-string">"psql -d engine -U postgres"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie als N√§chstes eine Verbindung zur Datenbank her</font></font><br>
<br>
<pre><code class="plaintext hljs">su postgres<font></font>
psql -d engine -U postgres<font></font>
select * from job order by start_time desc;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und direktes Entfernen - Ausf√ºhren der DeleteJob-Prozedur f√ºr die problematische Aufgabe:</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('UUID_HERE');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel:</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('ed0127c7-b052-4ec2-a67c-8b3a65d55e19');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles f√ºr heute und ich hoffe, Sie m√ºssen eine Datenbank nie manuell bearbeiten!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503172/index.html">C #: Einf√ºhrung in Quellcode-Generatoren</a></li>
<li><a href="../de503176/index.html">Implementierung eines Algorithmus zur Bestimmung der Breite eines Objekts mit einem Ultraschall-Entfernungsmesser und Encodern in RobotC-Sprache</a></li>
<li><a href="../de503178/index.html">Apple Mac und ausgefallene Ger√§te. LTO, SAS, Fibre Channel, eSATA</a></li>
<li><a href="../de503182/index.html">"Ich bin der erste blinde Entwickler in meinem Unternehmen." Teil 1</a></li>
<li><a href="../de503184/index.html">Wir laden Sie zum Online-Meeting Zabbix ein</a></li>
<li><a href="../de503194/index.html">ISA vergibt keine Fehler</a></li>
<li><a href="../de503196/index.html">450 kostenlose Kurse aus der Ivy League</a></li>
<li><a href="../de503200/index.html">YOLOv4 - das genaueste neuronale Echtzeitnetzwerk im Microsoft COCO-Dataset</a></li>
<li><a href="../de503204/index.html">So flashen Sie Xiaomi Redmi 4 Prime / Pro / Premium auf Android 10</a></li>
<li><a href="../de503208/index.html">Wann ist der beste Zeitpunkt f√ºr eine Investition?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>