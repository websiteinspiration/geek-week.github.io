<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§µüèΩ üë©üèΩ‚Äçüåæ üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® Client-server architecture in pictures üî≤ üë®üèø‚Äçüè´ üå∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A familiar picture? But you are constantly confronted with this architecture - when you buy a movie ticket online, book a ticket to the sea or make an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Client-server architecture in pictures</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495698/"><img src="https://habrastorage.org/webt/yt/ym/f1/ytymf18shc3tzim_vdvpocuq8qy.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A familiar picture? </font><font style="vertical-align: inherit;">But you are constantly confronted with this architecture - when you buy a movie ticket online, book a ticket to the sea or make an appointment with a doctor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the client-server architecture all sites and Internet services are built. </font><font style="vertical-align: inherit;">It is also used by desktop programs that transmit data over the Internet. </font><font style="vertical-align: inherit;">Therefore, IT professionals need to understand what it is and how it works. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will talk about this in the article. </font><font style="vertical-align: inherit;">I‚Äôll explain on fingers, with examples and funny pictures =) If you like video format more, you can watch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my youtube video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on the same topic.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is it and how it works</font></font></a><br>
 <ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do I need a client</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do we need a server</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do we need a base</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture advantages</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cons of architecture</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What to test</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></a></li>
</ul><a name="habracut"></a><br>
<a name="wtf"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is it and how it works</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we have a certain Vasya who decided to buy a car. Such as in advertising - fast, powerful, beautiful! She just stands like the tail of an airplane, Vasya does not have that kind of money. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2e/00/gj/2e00gj3webo3wp6l8wpb2iehgjm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, Vasya can dig up for several years, and then buy a car. But you want to here and now! Yes, and a vehicle is needed ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And Vasya does not know how to save - received a salary, bought the main one, paid for housing, that's all! The rest can be spent. For such people, there are banks where you can come and take money on credit. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/b8/n9/qs/b8n9qss1praiqxr3k4ugxqjr-pe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, then you will overpay, returning them back. Interest is horse. But now you can already afford to buy something expensive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vasya thought, estimated and said: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Yes, I want it that way! I can pay 100 rubles from my salary to the bank, but I can‚Äôt save it. I will spend it.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, Vasya goes to the bank and says: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- I am Vasily Ivanov, I want a car loan for 1000 rubles. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/pa/yr/cx/payrcxhy17thnygvgnjr9nuhd_w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clerk Katya has to check his credit history. </font><font style="vertical-align: inherit;">Suddenly he can‚Äôt be given a loan, does he have a bad story? </font><font style="vertical-align: inherit;">Maybe he already scored 10 credits and not one pays? </font><font style="vertical-align: inherit;">Or maybe he is a terrorist at all ?! </font><font style="vertical-align: inherit;">It is necessary to check that the operators do not know black lists by heart. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/fo/uf/otfoufn62f1yv3lujpbmgpxf_e0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya has a special program for checking customer data. </font><font style="vertical-align: inherit;">This program can be either web or desktop:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - open in browser like google or facebook</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desktop</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - on a computer, like a word or calculator</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It doesn‚Äôt matter if Katya is looking at the browser or just at the program. In any case, it will be a client. The client is your application. The one with which our operator is working. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/vp/uw/6g/vpuw6ggltwq_ioccgbhm2kmnbcc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya drives the program ‚ÄúVasily Ivanov‚Äù and receives information on the client - is he on the black lists? Was there a credit history before? Etc. But what happens in the giblets of the application? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wk/c7/op/wkc7opsymnp5tkbzd7dtzo3o53i.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya entered the data on the client. But when she clicked "check", the client sent a request to the server: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Give me information on Vasya Ivanov! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7l/ot/q1/7lotq1brsfgwm_9py7iljzyxibg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The server sent a request to the database, database: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Select * from clients where fio = 'Vasily Ivanov'. (Give me all the information on the name 'Vasily Ivanov') </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1i/wm/_j/1iwm_jm15bkgqczdnzvdzp9z7xc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The base replied: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Here you have everything I found. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/xw/ub/ooxwubcnze1b6xwtnvwp-xkl7lk.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The server returned this information to the client:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/95/w6/35/95w635ditc6a1dkqnwixg9nhbra.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the client has already drawn it for Katya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xh/t9/y2/xht9y24ecaeyh5hugzcrd19zgew.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya looks: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Yeah, the credit history is good. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v3/cr/0u/v3cr0uhpczy4_aq_okf0qe-5tvc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And he proposes to Vasya: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Please, if you want to take a loan, we are ready to allocate 1000 rubles for 12 years at 80% per annum. </font><font style="vertical-align: inherit;">Arranged? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ek/6j/bn/ek6jbnvr1zmsfvb2wnbl8xjwq4s.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vasya is pleased: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Yes, everything suits me, give me more money, and I ran after the car! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everyone is happy, everyone is happy. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jn/hv/eb/jnhveb2c4oydita2mubvryheuci.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya doesn‚Äôt even know which way the data in the program did when she drove her client‚Äôs full name there. </font><font style="vertical-align: inherit;">But you and I must find out what kind of a path this is. </font><font style="vertical-align: inherit;">And why all these difficulties? </font><font style="vertical-align: inherit;">Why such a structure? </font><font style="vertical-align: inherit;">Why is there a client, why is there a server?</font></font><br>
 <br>
<a name="client"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do I need a client</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everything is simple here - the user is working with the client. </font><font style="vertical-align: inherit;">It is needed to turn the bytes of the program code into a beautiful and understandable picture. </font><font style="vertical-align: inherit;">The user is not a programmer, he does not understand the programming language or sql. </font><font style="vertical-align: inherit;">He understands molds and buttons. </font><font style="vertical-align: inherit;">We draw them in the client.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/cu/oe/nj/cuoenjcbgubnqz7es8ykoyopzhu.png"><br>
<br>
<a name="server"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do we need a server</font></font></h3><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">He is more powerful. There</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
can be many Clients. In the example with the bank, we can have 10 branches in 10 cities of Russia, and each branch has 10 operation agents. One thousand Katek, and each has a separate computer. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/11/rv/6z/11rv6zm-vr22tsqvhwqx7gimupw.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But we want the application to work quickly. So that it does not stupid and does not freeze, unnerving the operator and making the client wait. So, the car needs a powerful one. But if every operator‚Äôs computer is made powerful, you will have to invest a lot of money! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, we transfer all the basic logic to the server. And now we are doing it powerful! And client machines can be cheap, because they have only logic in the style of ‚Äúrequest information and beautifully render‚Äù. </font></font><br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No code duplication</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we had only client machines, each of them would have the same logic processing code, the entire database, all the terrorist directories and so on. </font><font style="vertical-align: inherit;">But since the server and the database are placed in separate links, a lot of space is freed from the client machine ... And the code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No need to duplicate the code, because all the main logic is taken out to a more powerful server. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ao/bk/if/aobkify_mbaqqrjh8kgjjfhiuia.png"><br>
 <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is safer.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
On the server and in the database information is stored that is inaccessible to a simple operator. </font><font style="vertical-align: inherit;">It:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer data</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information about his finances</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bank blacklists</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why show this information to everyone and everyone? </font><font style="vertical-align: inherit;">The operator sees only her interface. </font><font style="vertical-align: inherit;">I drove a full name - I got an answer whether to give a loan or not. </font><font style="vertical-align: inherit;">All. </font><font style="vertical-align: inherit;">She doesn't need anything else. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are clerks who are ready to merge customer information for denyushki. </font><font style="vertical-align: inherit;">There are dishonest people who are ready to accidentally look over their shoulders. </font><font style="vertical-align: inherit;">Or maybe the client himself is such a person. </font><font style="vertical-align: inherit;">Imagine, Vasya shoves the fragile Katya, sits down at her computer, and transfers millions to her account until it is tied up by guards.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_b/qr/kd/_bqrkd87kj6bwaez-crf5wrabga.png"> <br>
<br>
<a name="bd"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why do we need a base</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What does the database have to do with it? </font><font style="vertical-align: inherit;">Here we have our server, even if it stores all the information. </font><font style="vertical-align: inherit;">It happens, sometimes the database is simply not needed and we still have a two-tier client-server architecture. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r4/pj/dl/r4pjdljjkvbhpg43iavptmem3_0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, the server stores all the data in memory. </font><font style="vertical-align: inherit;">But only if the server crashes, or just reboots, all information will be lost. </font><font style="vertical-align: inherit;">Everything that was in memory is erased when the system is turned off. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DB (database) - a separate software product that allows you to:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quickly fetch information</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">save information even when restarting the system.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is, if the network suddenly disappears, the base freezes, the machine with the base reboots, or something else happens, our changes will not be lost. </font><font style="vertical-align: inherit;">This is called persistence. </font><font style="vertical-align: inherit;">It is achieved through transactions that roll back when something goes wrong. </font><font style="vertical-align: inherit;">But in this article we will not delve into this topic)) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, there may not be a base. </font><font style="vertical-align: inherit;">But when it is, we are confident in the safety of data and can easily search for it.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/zs/7g/fpzs7gt7yr1s7dw8mrfb1bxpvn8.png"> <br>
<br>
<a name="plus"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture advantages</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We summarize the advantages of architecture:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A powerful server is cheaper than 100+ powerful client machines</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - if we want the application to not slow down, we need a good machine. </font><font style="vertical-align: inherit;">You will have one. </font><font style="vertical-align: inherit;">Or a few, if the load is large, but clearly less than the number of customers.</font></font></li>
<li><b>  </b> ‚Äî     ,     ¬´ ¬ª      ¬´ ,     100 ¬ª.</li>
<li><b>   </b> ‚Äî     .      ,       .</li>
</ol><br>
<a name="minus"></a> <br>
<h2> </h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One link has</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
fallen </font><b><font style="vertical-align: inherit;">- everyone is resting.</font></b><font style="vertical-align: inherit;"> If the server has fallen or the base has fallen off, that is, one link has deteriorated - everything, everyone is in a stupor, everyone is resting. Hundreds, thousands, and even millions of customers, if any, no one can work. All the operation officers are sadly looking at the window ‚ÄúSorry, something went wrong‚Äù and shrug their hands in front of the client. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/jq/wo/j5jqwoptwokkl2ziabmqelvfrpc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is why in business critical software the architecture is complicated and even duplicated. A bank with thousands of tellers cannot afford a downtime. Therefore, they use a server cluster - one fell, the rest work. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l6/5x/c1/l65xc1e6xe_8nq1ohyypqu-fey4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How then does the client understand where to send the request to him? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A balancer is placed in front of the servers, and the client sends a request there. No matter how many servers are put in the cluster, the client is not interested. It has one URL - the address of the balancer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5p/co/zb/5pcozbl5eluv3yyd5oziwhxdzgm.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And now the client receives a request: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Give me all the information on Vasya Ivanov. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The balancer says: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Guys, a new request! Who is less loaded? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/gb/dh/zmgbdhbkfzfws_owj4i-vxzbkj0.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First server: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- I have 5 requests in the queue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Second: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- And I have 2. The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
balancer sends a request to the second server. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9s/3r/cj/9s3rcjvrkgzi7w_5beyi-uku3oc.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such a scheme is used for a highly loaded application - when there are so many requests that one server simply can not cope with them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facebook, amazon, google - millions of users go there. One server cannot handle them. Therefore, they put a cluster, and the balancer shares the load between them. And in this case, in the cluster there may be not 2 servers, but 10, 15, as long as we need, we set as many.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cb/10/bn/cb10bna08fzxfhecauszxkho2wu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In doing so, we can balance the database in the same way. We can have several copies of the databases on a variety of machines, and the balancer sends requests to either one or the other. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k1/zf/nw/k1zfnwjdu5mu4ee0jac0tzwypqe.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This scheme is called </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hot standby</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - when we have several servers running in parallel, and the balancer distributes the load between them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There may also be a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cold reserve</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> scheme </font><font style="vertical-align: inherit;">- when our second server is a backup ‚Äújust in case‚Äù. All requests go to the first server, the second rests. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mm/y7/7x/mmy77xouzawduu39ddk3b_tblfq.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But if something happens to the first server and it dies, the balancer will redirect the load to the second server: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/5v/ud/zc5vudgmhtierh9bxx1ysjtfo6m.png"><br>
<br>
<img src="https://habrastorage.org/webt/ve/q2/np/veq2npmjqk1_mn5bxyb0e4rs1t8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At this time, administrators will have time to deal with the problem on server 1.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The cold reserve scheme is used when one server is able to withstand the load and give a good speed. </font><font style="vertical-align: inherit;">But the application is business critical and simple unacceptable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can be simple not only because something bad happened. </font><font style="vertical-align: inherit;">There is also a regular application update. </font><font style="vertical-align: inherit;">Both backup schemes allow you to upgrade painlessly. </font><font style="vertical-align: inherit;">If there are two servers in the cluster, the update will look like this:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redirect all the load to server 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stop server 1 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Updating server 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We launch it and direct the entire load on it</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stop server 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update it</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We launch</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divide the load again (if it's a hot reserve)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is, the application does not stop working at all! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, redundancy schemes help us eliminate the problem of "1 link has fallen - everyone is resting." The client will never know that one or more servers in the cluster are dead, everything has worked for him, and it works. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/ck/r-/h5ckr-xnyp9wgnlfn5y-0znfkyc.png"><br>
<br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High cost</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Server </font><b><font style="vertical-align: inherit;">equipment is</font></b><font style="vertical-align: inherit;"> expensive. There you can not put a regular SSD for a home computer. Why? Because hardware requirements for servers are completely different for hardware + there is support for specific functions:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- HDD has a special controller firmware, which is optimized for disk operation in RAID, this is not necessary at home. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- SSD has the presence of a group of capacitors that store energy in case of power failure, so that there is enough time to throw data from the DDR cache into non-volatile memory and the data does not break. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSD - a fast-working disk, HDD - normal. </font><font style="vertical-align: inherit;">RAID - when we connected N disks together, and the DDR cache is RAM</font></font></i></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus, server solutions usually have a much longer warranty: 5 years, not a year. </font></font><br>
<br>
<br>
<img src="https://habrastorage.org/webt/b_/vy/sy/b_vysy4b7u488qnflfvc8djq5gw.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the price they differ by 2 times. </font><font style="vertical-align: inherit;">For example, SSD:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for a home gigabyte costs 16.53r</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for a server enterprise gig costs 32 rubles</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figures for December 2019. This is if not branded iron to take, but from the manufacturer.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
It seems not much different, right? But the point is that for a house 1 TB is enough for the eyes - and everything will fit in photos, and movies, and a bunch of applications ... And sometimes 10 TB will be not enough for a database. And if you make a cluster, then we multiply the cost by 2, if not more. Therefore, the price difference seems huge, but when converted to gigabytes, a small one comes out. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do not forget that at home you just need to keep your photos, and even those are usually in the cloud. And on the server is a business-critical functionality that eats up dofig of resources and which must be duplicated in case "suddenly the first dies." </font></font><br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Need to hire a system administrator</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„ÉÑ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We need to hire a system administrator who will monitor all our application servers and databases. </font><font style="vertical-align: inherit;">Add his salary to the cost of equipment!</font></font><br>
<br>
<br>
<a name="test"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What to test</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To understand what to test, you need to understand what a person is dealing with. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The user is working with a client. It can be a web or desktop application, not the point. The operator Kate was given a workplace, they showed which program to run and how to work with it. She does not know about the availability of servers and databases, she works only with the client. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cu/oe/nj/cuoenjcbgubnqz7es8ykoyopzhu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, the tester first checks the client! Because the server can work perfectly, you can even write tests at the API level and they will all be green, and it seems that everyone is hurt! And the user will download the report and see the error. Oh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The server is running, an error has occurred on the client. And do not care about hundreds of "green" autotests. The user still has an error. And our task is to look from his point of view.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ep/ry/wf/eprywff7betkgp7d3opgxcvake8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, if you have access to the application server and its database - it is worth checking them too! </font><font style="vertical-align: inherit;">So we can see the "future bug". </font><font style="vertical-align: inherit;">For instance:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We saved the product card - the system draws it and says that everything is fine. </font><font style="vertical-align: inherit;">Everything is fine on the client!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We checked the database - and there part of the fields remained empty, the developer incorrectly indicated the name of the field in the database. </font><font style="vertical-align: inherit;">And the information was lost.</font></font></li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What the user now sees in the client is just a cache, "what I entered is what I display." If you do not check the database, such a problem may not even open up right away. The user opens the product card - some of the fields are not filled: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Well, probably they were not filled. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And they were filled! Just saving crookedly worked. Therefore, if we only have a black box, then we need to check, "Is the data really saved?" Saved? Open the card in a new window or call the information through the API method. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you have access to the database - just check on it that everything is fine. If you have access to server logs, check them for errors.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/lq/2w/rnlq2wlri-mrrt7nzhhrj18gx8c.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to ordinary users, there are evil people who try to stick into our application and steal money / data. They do not use a client or server - they do not have access there. They try to intercept data from the client to the server, or from the server to the database. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c6/ty/sp/c6tyspax0sod7dglzygnmzbi9h8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, if bad people can do this, then the tester must be able to do it too! Because the tester provides information about our product. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/mn/8b/gcmn8bjeakajtdy0ftrntjozaam.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The tester examines the vulnerabilities and then tells the team: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Guys, so I checked, we have such and such potential holes. Let's think about whether we need to close them somehow or not.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is not the fact that they will fix the problem. </font><font style="vertical-align: inherit;">Maybe you have a non-critical application - the data will not leak, you do not store money. </font><font style="vertical-align: inherit;">Then nobody will bother once again, because testing for security is expensive, there are few specialists. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But some basic checks like sql injections or XSS attacks are worth exploring and checking on your application. </font><font style="vertical-align: inherit;">At least to understand their criticality. </font><font style="vertical-align: inherit;">After all, if the attack breaks the client - well, let himself be Pinocchio. </font><font style="vertical-align: inherit;">And if the attack puts the server, it is not very good. </font><font style="vertical-align: inherit;">And one must at least know what it happens from.</font></font><br>
<br>
<a name="itogo"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h2><br>
<img src="https://habrastorage.org/webt/b8/hj/-b/b8hj-bsbrdh9uaiclyakoe2afli.png"><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The client</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the program with which the user works. He doesn‚Äôt know whether this is the whole program on his computer, or somewhere a server with a base or even a whole RAID is hiding behind it. It works in a browser or with a desktop application. And all he needs to know is where to poke. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The client does not need a lot of memory, disk space and other resources. Therefore, jobs are relatively cheap. And this is exactly what we need, especially if we need to purchase equipment for thousands of bank operating officers. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a computer on which the application itself is stored. All code, all logic, all additional materials and reference books. For example, the FIAS address directory or the legal entities directory of the register of legal entities - they also occupy a place, both on their own and in the application memory.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes they say ‚Äúapplication server‚Äù and ‚Äúdatabase server‚Äù. This is normal, because in fact the server is just a machine, a computer. And the database and application server are usually stored on different machines, for the sake of security. In this case, if they say "application server" - we are talking about the second link of our scheme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Applications are very different. There are resource-intensive, they need a lot of memory and disk space. There are "lungs" that can be deployed even on a home computer. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB (database)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - data warehouse. Here you can easily search for information + are sure that it will remain, even if something breaks in the application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How much space is needed for the database depends on the amount of data. There are huge bases in banks, where 1tb will be few. And there are very small ones that you can install on your machine. For instance,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XAMPP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be supplied. </font><font style="vertical-align: inherit;">And it‚Äôs unlikely that you cram so much data into it that you won‚Äôt have a place for them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There may not be a separate base, then the structure will become two-tier: client-server. </font><font style="vertical-align: inherit;">And that‚Äôs all! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The scheme is conditional, in real life we ‚Äã‚Äãwill at least have more customers. </font><font style="vertical-align: inherit;">And if the application is heavily loaded, then there will be several servers and several databases: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/oz/ka/uzozka32wtzwyf9tr4rkwv-vgac.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS - look for more useful articles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in my blog under the tag ‚Äúuseful‚Äù</font></font></a></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495688/index.html">Active Directory Based Zimbra Collaboration OSE User Synchronization</a></li>
<li><a href="../en495690/index.html">Web Audio API Concepts</a></li>
<li><a href="../en495692/index.html">DIY and Open Source to help doctors</a></li>
<li><a href="../en495694/index.html">Mobile application reference service</a></li>
<li><a href="../en495696/index.html">How Prince of Persia Creator Overcomes Apple II's Memory Limits</a></li>
<li><a href="../en495700/index.html">Doom Boy ESP32</a></li>
<li><a href="../en495702/index.html">We study the Mediastreamer2 VoIP engine. Part 1</a></li>
<li><a href="../en495704/index.html">Monitoring network equipment over SNMPv3 in Zabbix</a></li>
<li><a href="../en495706/index.html">News from the world of OpenStreetMap No. 505 (03.17.2020-23.03.2020)</a></li>
<li><a href="../en495708/index.html">Openconnect emergency VPN server with two-factor authorization on Centos 8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>