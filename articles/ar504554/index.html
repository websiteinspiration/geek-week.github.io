<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚔 ⤵️ 🍯 الوحدة والخلط الشبكي 🤠 🤛🏾 🤽🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحباً بالجميع ، في يونيو ستطلق OTUS دورة مطوري Unity Games مرة أخرى . تحسبًا لبدء الدورة ، قمنا بإعداد ترجمة لمواد مثيرة للاهتمام حول هذا الموضوع.
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>الوحدة والخلط الشبكي</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/504554/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مرحباً بالجميع ، في يونيو ستطلق OTUS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">دورة مطوري Unity Games</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مرة أخرى </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">تحسبًا لبدء الدورة ، قمنا بإعداد ترجمة لمواد مثيرة للاهتمام حول هذا الموضوع.</font></font></b></i><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
سنتحدث اليوم عن كيفية مزج شبكة التضاريس (أو شبكة أخرى) في Unity. </font><font style="vertical-align: inherit;">هذا الدليل متقدم جدًا ، لكنني حاولت تقسيمه إلى خطوات منفصلة. </font><font style="vertical-align: inherit;">يفترض أن لديك مهارات الوحدة العامة والمعرفة الأساسية C #. </font><font style="vertical-align: inherit;">تم تصميم الدليل للتضخيم ، ولكن أعتقد أنه يمكن تطبيقه أيضًا على Shader Graph. </font><font style="vertical-align: inherit;">هذا هو دليلي الأول ، لذلك آمل أن يكون واضحًا بما فيه الكفاية. </font><font style="vertical-align: inherit;">إذا كنت تريد إضافة شيء ما ، فأخبرني بذلك. </font><font style="vertical-align: inherit;">لقد قمت بتضمين مجموعة بداية هنا ، والتي تحتوي على بعض التظليل الإضافي لهذا المشروع ، بالإضافة إلى مجموعة أساسية للبدء. </font><font style="vertical-align: inherit;">جميع ملفات المشاريع من دليل اليوم متاحة للمستفيدين مقابل 5 دولارات ، ولكن في المستقبل القريب ، ستكون متاحة للجميع.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مجموعة المبتدئين</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المشروع بأكمله</font></font></a><br>
<br>
<blockquote><i><b>:</b>    ,    ,         .       .      ,        ,  ,      .                (      )     unity    .       ,       ,      .</i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لذا ، لنبدأ. </font><font style="vertical-align: inherit;">في البداية ، سوف أذكر المشكلة وأتعمق في النظرية التي سيبنى عليها الحل. </font><font style="vertical-align: inherit;">لجعل المزج بين الأرض والشبكات الأخرى ، تحتاج إلى إخبار التظليل بطريقة أو بأخرى عن مكان حدوث التقاطع مع الأرض. </font><font style="vertical-align: inherit;">القول أسهل من الفعل ، لكن هناك طريقة. </font><font style="vertical-align: inherit;">وماذا يتكون؟ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> سيساعدنا </font><font style="vertical-align: inherit;">!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ما هو نسيج تقديم؟</font></font></h3><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، في الواقع ، هو موضع الكاميرا ، والذي يتم حفظه في ملف الأصول. </font><font style="vertical-align: inherit;">غالبًا ما يتم استخدام </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> في الألعاب لأشياء مثل إنشاء شاشات المراقبة بالفيديو. </font><font style="vertical-align: inherit;">يمكننا استخدام </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لحفظ عرض الكاميرا في المحرر بحيث يمكن بعد ذلك استخدام هذا النسيج كظليل. </font><font style="vertical-align: inherit;">هذا مفيد لأنه يمكننا خبز معلومات حول تضاريسنا ، مثل الارتفاع والمعايير والألوان ، في نسيج يمكن استخدامه بعد ذلك في وقت التشغيل للمزج بين الشبكات والتضاريس.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/iw/e8/hviwe8looo3tctln-egumqcolwu.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يتم استخدام عرض الأنسجة لعرض صور الأوزة على أجهزة التلفزيون في لعبة الأوز غير المعنونة</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التخصيص</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
للبدء ، لنقم بإنشاء مشهد وتضاريس جديدة. حدد حجمًا مناسبًا للعمل ، على سبيل المثال ، 200x200. الآن يمكنك ترتيب التضاريس كما تريد. ثم قم بإنشاء </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">طبقة جديدة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> واسمها "تضاريس" وقم بتعيين تضاريس لهذه الطبقة. يعد ذلك ضروريًا حتى يتمكن قناع الكاميرا من تسجيل التضاريس في </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مادة التقديم</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2u/h9/gt/2uh9gtaovl48lp8cvi2sswsnvc8.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أرضي الرائعة الخاصة بي</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
تحتوي ملفات مصدر المشروع على إعداد </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مسبق</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يسمى </font><i><font style="vertical-align: inherit;">"BlendBakingCamera"</font></i><font style="vertical-align: inherit;"> - اسحبه إلى الجزء الرئيسي. </font><font style="vertical-align: inherit;">سوف تحصل على كاميرا إملائية بسيطة. </font><font style="vertical-align: inherit;">على الكاميرا ، تحتاج إلى وضع </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">قناع إعدام</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> على طبقة جديدة من التضاريس. </font><font style="vertical-align: inherit;">ضع الكاميرا في وسط الأرض أعلى قليلاً من أعلى نقطة على التضاريس. </font><font style="vertical-align: inherit;">ثم اضبط مستوى </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المشبك البعيد</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بحيث ترى الكاميرا أرضية التضاريس. </font><font style="vertical-align: inherit;">في النهاية ، يجب أن يبدو المشهد كالتالي:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5b/u_/kr/5bu_krp8iertv5bgpzy0vtsuki4.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تظليل بديل</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 الآن بعد أن تم إعداد الكاميرا ، تحتاج إلى إيجاد طريقة لتسجيل بيانات التضاريس. لهذا نحن بحاجة إلى </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تظليل الاستبدال.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يبدو </font><i><font style="vertical-align: inherit;">استبدال Shader</font></i><font style="vertical-align: inherit;"> وكأنه احتمال مشبوه ؛ أنا نفسي لم أفهم كيف يعمل لفترة طويلة. ولكن في الواقع ، كل شيء بسيط وفعال للغاية. </font><font style="vertical-align: inherit;">يعني </font><font style="vertical-align: inherit;">استخدام </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shader البديل بشكل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> أساسي عرض كل كائن في مجال رؤية الكاميرا باستخدام جهاز تظليل واحد ، بغض النظر عن أي جهاز تظليل متراكب على الكائنات. نتيجة لذلك ، سيتم تقديم كل الكائنات باستخدام </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تظليل الاستبدال</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> المحدد </font><font style="vertical-align: inherit;">، والذي هو في الواقع مجرد تظليل عادي.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
التظليل الذي نحتاجه للمزج هو تظليل العمق. </font><font style="vertical-align: inherit;">إنه يجعل عمق المشهد ومكونًا رئيسيًا في إنشاء تأثير المزج الخاص بنا ، حيث يكتب قيم عمق الكاميرا إلى النسيج حتى نتمكن من قراءتها لاحقًا. </font><font style="vertical-align: inherit;">لمعرفة المزيد حول هذا التظليل و </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shader البديل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بشكل عام ، أوصي بقراءة </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هذا الدليل من Make Stuff تبدو جيدة في الوحدة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/71/5e/rc715exr4enoh7vf-lmhx3b9oei.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مثال على تظليل العمق</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لنبدأ الخبز</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 لنقم بإنشاء فئة جديدة واسمها </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"TerrainBlendingBaker"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">لنبدأ بتطبيق قناع عمق لتضاريس القاعدة. </font><font style="vertical-align: inherit;">سنعود لاحقًا إلى هذا النص البرمجي لإضافة الألوان والمعايير. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
حدد عدة متغيرات.</font></font><br>
 <br>
<pre><code class="cs hljs"><span class="hljs-comment">//Shader that renders object based on distance to camera</span>
<span class="hljs-keyword">public</span> Shader depthShader;
<span class="hljs-comment">//The render texture which will store the depth of our terrain</span>
<span class="hljs-keyword">public</span> RenderTexture depthTexture;
<span class="hljs-comment">//The camera this script is attached to</span>
<span class="hljs-keyword">private</span> Camera cam;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 الآن دعنا ننشئ طريقة جديدة ونطلق عليها </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"UpdateBakingCamera"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">في هذه الطريقة ، سنحدد بيانات الكاميرا التي قد يحتاجها جهاز التظليل لتقديم المزج في المتغيرات العالمية.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateBakingCamera</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-comment">//if the camera hasn't been assigned then assign it</span>
        <span class="hljs-keyword">if</span> (cam == <span class="hljs-literal">null</span>)<font></font>
        {<font></font>
            cam = GetComponent&lt;Camera&gt;();<font></font>
        }<font></font>
 <font></font>
        <span class="hljs-comment">//the total width of the bounding box of our cameras view</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_SCALE"</span>, GetComponent&lt;Camera&gt;().orthographicSize * <span class="hljs-number">2</span>);
        <span class="hljs-comment">//find the bottom corner of the texture in world scale by subtracting the size of the camera from its x and z position</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_X"</span>, cam.transform.position.x - cam.orthographicSize);<font></font>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_Z"</span>, cam.transform.position.z - cam.orthographicSize);
        <span class="hljs-comment">//we'll also need the relative y position of the camera, lets get this by subtracting the far clip plane from the camera y position</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_Y"</span>, cam.transform.position.y - cam.farClipPlane);
        <span class="hljs-comment">//we'll also need the far clip plane itself to know the range of y values in the depth texture</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_FARCLIP"</span>, cam.farClipPlane);<font></font>
 <font></font>
        <span class="hljs-comment">//<span class="hljs-doctag">NOTE:</span> some of the arithmatic here could be moved to the shader but keeping it here makes the shader cleaner so ¯\_(ツ)_/¯</span>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 الآن دعنا نخبز عمق الأرض في الملمس.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">// The context menu tag allows us to run methods from the inspector (https://docs.unity3d.com/ScriptReference/ContextMenu.html)</span>
[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"Bake Depth Texture"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BakeTerrainDepth</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//call our update camera method </span><font></font>
    UpdateBakingCamera();<font></font>
 <font></font>
    <span class="hljs-comment">//Make sure the shader and texture are assigned in the inspector</span>
    <span class="hljs-keyword">if</span> (depthShader != <span class="hljs-literal">null</span> &amp;&amp; depthTexture != <span class="hljs-literal">null</span>)<font></font>
    {<font></font>
        <span class="hljs-comment">//Set the camera replacment shader to the depth shader that we will assign in the inspector </span>
        cam.SetReplacementShader(depthShader, <span class="hljs-string">"RenderType"</span>);
        <span class="hljs-comment">//set the target render texture of the camera to the depth texture </span><font></font>
        cam.targetTexture = depthTexture;<font></font>
        <span class="hljs-comment">//set the render texture we just created as a global shader texture variable</span>
        Shader.SetGlobalTexture(<span class="hljs-string">"TB_DEPTH"</span>, depthTexture);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
        Debug.Log(<span class="hljs-string">"You need to assign the depth shader and depth texture in the inspector"</span>);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ستصبح القيم أكثر وضوحًا عندما نبدأ العمل مع جهاز تظليل. </font><font style="vertical-align: inherit;">هذه صورة صغيرة قد تلقي بعض الضوء:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pm/hj/i2/pmhji2hicayyxh7plycoopbx1x4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">سنقوم بنقل التضاريس إلى نسيج العمق من أجل قراءتها لاحقًا وفهم مكان مزجها.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
الآن لدينا كل ما نحتاجه لإنشاء تأثير المزج الأساسي في التظليل. عند هذه النقطة ، يبدو النص كما يلي: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pastebin.com/xNusLJfh</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
حسنًا ، بعد أن أصبح لدينا النص البرمجي ، يمكننا إضافته إلى كاميرا الخبز التي أضفناها سابقًا. تحتوي الأصول الأولية على تظليل يسمى </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"DepthShader" (Inresin / Shaders / DepthShader)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> و </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يسمى </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"DepthTerrainRT" (Inresin / RenderTextures / DepthTextureRT)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، تحتاج إلى وضعها في الحقول المناسبة في المفتش.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بعد ذلك ، قم ببساطة بتشغيل الطريقة من خلال قائمة السياق لخبز عمق التضاريس في </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مادة التقديم</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qh/dl/tm/qhdltmjap9-flgdtvl0twazylyi.gif"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">شادر</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 دعونا في النهاية إنشاء تظليل للمزج. قم بإنشاء معيار جديد </font><i><font style="vertical-align: inherit;">لتضليل </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التظليل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> وافتحه ، واسمه </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`` TerrainBlending ''</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> أو نحو ذلك. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
الآن نحن بحاجة إلى إنشاء الأشعة فوق البنفسجية </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لنسيج التجسيد</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . سيكون هذا هو الفرق بين النقطة التي يتم تقديمها وموضع </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كاميرا الخبز</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> المقاسة بالنسبة إلى المساحة الإجمالية. المتغيرات العالمية الثلاثة هنا هي تلك التي أعلنا عنها للتو في الكود. قمنا أيضًا بتعيين </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worldY</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> كمتغير محلي ، وسوف نحتاجه لاحقًا. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ei/ml/lm/eimllmdyi94c2_9tdwv_8orv9u8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لنأخذ نسيج العمق ، الذي قمنا بتعيينه كمتغير عام (لهذه </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العقدة</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لإضافة </font><i><font style="vertical-align: inherit;">عينة نسيج</font></i><font style="vertical-align: inherit;"> ، </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">اجعلها عامة واسمها "TB_DEPTH"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ، إذا وضعنا الإخراج في </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التصحيح تضخيم تظليل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> حقل </font><font style="vertical-align: inherit;">، يمكننا أن نرى ما يحدث. قم بإنشاء طائرة بالمواد التي سيتم تطبيق تظليلها الجديد عليها.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pz/hu/_i/pzhu_i59oxdberrgviej7cvbvci.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 لذا ، في التظليل ، لدينا معلومات حول العمق ، والآن نحتاج إلى إضافة تعويض في y للحصول على المزج. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ly/jy/lf/lyjylfsocd6cjfm46nu0z1xmjvg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تقوم هذه الكتلة بقياس الموضع y لقناع </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مستوى المشبك البعيد</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، وطرح هذه القيمة من الموضع العالمي على طول المحور y للنقطة التي يتم تقديمها ، ثم تقوم في النهاية بتحويلها إلى الجانب السفلي من المربع المحيط بالكاميرا (موضع y للكاميرا مطروحًا من مستوى </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">farclip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
شيء بالفعل! نرى كيف تندمج حواف الطائرة مع الأرض. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/fv/zu/rbfvzuc3sccy_dtknu6uitu-wns.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 حسنًا ، لنجعل المزج أكثر تحكمًا. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uq/0o/1p/uq0o1prljhkkeiuxii5xmsnk5hm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 يمكننا الآن التحكم في سمك ومساحة أرض المزج. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/tv/_b/zctv_bwpjihiwxpehsdokdbidry.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 أعتقد أنه يمكننا حتى إضافة القليل من الضوضاء. دعونا نستخدم </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الموقع العالمي</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لتوليد ضوضاء من الملمس.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xk/cv/po/xkcvpov6owwyfc7nxehrcmtyhiq.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 توجد مواد الضجيج في مجلد النسيج في مشروع بدء التشغيل ، ويمكن تعيينها في المفتش أو كثابت في التظليل نفسه. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
أخيرا حان الوقت لإضافة بعض القوام! للبدء ، دعنا نستخدم بعض الأنسجة البسيطة ذات اللون الواحد ، أضفت نسيجين إلى المجلد بأصول نسيج. اجعل </font><font style="vertical-align: inherit;">نسيج </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"SingleColorGrass"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> نسيجًا أرضيًا. ثم في التظليل ، تحتاج إلى إنشاء نسيج أرضي </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وعقدة نسيج كائن</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . سنقوم بالتبديل بينهما على القناة الحمراء للقناع الذي أنشأناه للتو. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/ny/8d/4fny8dg2v4godrj_khbragcc62s.png"><br>
<img src="https://habrastorage.org/webt/mw/6a/_v/mw6a_vyko0crhqvwgmqodlk46xa.png"><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وها هو التظليل الكامل ،</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/cf/lr/ut/cflrutnc9-qxa2e9v3kpxnidta0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 إن إضافة إضاءة </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تون</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مخصصة </font><font style="vertical-align: inherit;">أو نماذج </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إضاءة غير مضاءة</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ستوفر أفضل النتائج لهذا التظليل. أنا تحولت </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مضاءة</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تيران شادر وإصدار </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">غير مظلل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> من تظليل في الحزمة الكاملة المتاحة للرعاة.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/vn/to/17/vnto17ss8bwcmfk3o_e0iguuxh8.png"></div> <br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unlit Terrane and Meshes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
أوصي أيضًا بإضافة تظليل ثلاثي إلى الأرض وربما شبكات أخرى. </font><font style="vertical-align: inherit;">يمكنني النظر في هذه المشكلة في الدليل التالي. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
حسنًا ، لقد انتهينا تقريبًا من الموضوع الرئيسي لدليل اليوم. </font><font style="vertical-align: inherit;">لقد أضفت بعض الأقسام التي يمكن أن تساعد في تمديد تظليل.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تمديد شادر - عادي</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 أضفت تظليلًا منتظمًا إلى الملفات ، يمكنك استخدامه لكتابة عاديات على سطح الأرض وكذلك استخدام المزج. بالنسبة إلى لعبتي ، لا أحتاج إلى المزج العادي ، لذا جربت قليلاً ويبدو أن التجربة كانت ناجحة ، وفكرتي تعمل بشكل جيد مع التضاريس دون درجة عالية من تغير الارتفاع. قمت بتضمين تظليل تعيين عادي في الدليل مع تظليل مجموعة البداية. هنا يمكنك أن ترى تنفيذي الأساسي للخريطة العادية: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/lt/l1/vwltl1vedanxqwo5w0ofn4puf7k.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 الرمز هو تقريبًا كما هو الحال مع خريطة العمق ، ولكن هذه المرة سنستخدم الخريطة العادية </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كخلايا بديلة</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . أضفت أيضًا مجموعة من نسيج التجسيد للتسجيل العادي (هنا قد تحتاج إلى تكوين إضافي).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لكي تعمل المعايير الطبيعية بشكل جيد ، قد يستغرق الأمر مزيدًا من الجهد المرتبط بالتوليف ، وقد يكون هناك أيضًا قيود مرتبطة بالأرض ذات المستوى المنخفض (لكنني لم أجري اختبارات كافية لتأكيد ذلك).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تمديد شادر - جميع الألوان</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 لن أتعمق في تفاصيل هذا الموضوع ، لأنه يتجاوز ما هو مطلوب للعبتي ، لكنني فكرت في ذلك أثناء كتابة هذا الدليل. لإضافة مزج للعديد من الألوان ، يمكننا تحديد </font><font style="vertical-align: inherit;">ألوان </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">غير مضاءة</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> وحفظها كأنسجة. في هذه الحالة ، نحن مقيدون بدقة منخفضة إلى حد ما ، ولكن هذه الطريقة تعمل بشكل جيد عند استخدام مواد التضاريس أحادية اللون والأنسجة ذات الدقة المنخفضة ، أو عند استخدام </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تجاوز الهوامش</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . مع تعديلات طفيفة ، يمكن أيضًا تطبيقها على شبكات التضاريس. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هنا هو رمز الخيار متعدد الألوان:</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Header(<span class="hljs-meta-string">"The following settings are only if using the multi-color terrain shader"</span>)</span>]
<span class="hljs-comment">//Shader that renders the unlit terraom of an object</span>
<span class="hljs-keyword">public</span> Shader unlitTerrainShader;
<span class="hljs-comment">//The render texture which will store the normals of our terrain</span>
<span class="hljs-keyword">public</span> RenderTexture surfaceTexture;
<span class="hljs-comment">//An unlit terrain material used to capture the texture of our terrain without any lighting</span>
<span class="hljs-keyword">public</span> Material unlitTerrainMaterial;
<span class="hljs-comment">//The terrain you want to capture the textures of</span>
<span class="hljs-keyword">public</span> Terrain yourTerrain;<font></font>
 <font></font>
[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"Bake Surface Texture"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BakeTerrainSurface</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    UpdateBakingCamera();<font></font>
 <font></font>
    <span class="hljs-comment">//return if there is no terrain assigned</span>
    <span class="hljs-keyword">if</span> (yourTerrain == <span class="hljs-literal">null</span>)<font></font>
    {<font></font>
        Debug.Log(<span class="hljs-string">"You need to assign a terrain to capture surface texture"</span>);
        <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
 <font></font>
    StartCoroutine(BakeColors());<font></font>
}<font></font>
 <font></font>
<span class="hljs-function">IEnumerator <span class="hljs-title">BakeColors</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    Material tempTerrainMaterial = yourTerrain.materialTemplate;<font></font>
 <font></font>
    yourTerrain.materialTemplate = unlitTerrainMaterial;<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
 <font></font>
    cam.SetReplacementShader(unlitTerrainShader, <span class="hljs-string">"RenderType"</span>);<font></font>
    cam.targetTexture = surfaceTexture;<font></font>
    Shader.SetGlobalTexture(<span class="hljs-string">"TB_SURFACE"</span>, surfaceTexture);<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
 <font></font>
    cam.targetTexture = <span class="hljs-literal">null</span>;<font></font>
    yourTerrain.materialTemplate = tempTerrainMaterial;<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
 <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 التغيير الوحيد في التظليل هو أنه بدلاً من استخدام نسيج محدد مسبقًا ، نستخدم نسيج سطح تضاريس محدد عالميًا والذي سيستخدم الموضع النسبي مثل الأشعة فوق البنفسجية. </font><font style="vertical-align: inherit;">يتيح لك الامتداد الإضافي الحصول على مزيج أكثر متعة من القوام. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wl/ts/xe/wltsxewq-f-2ymxewxjfuew5wk4.png"> <br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مزج مواد متعددة </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هنا رسم بياني متعدد الألوان كامل مع تظليل مزج عادي:</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/jw/bx/vp/jwbxvprh_o3wt9iaw7mmh6vjufa.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">استنتاج</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 تهانينا إذا كنت قد قرأت حتى هذه اللحظة! </font><font style="vertical-align: inherit;">كما قلت ، هذا هو دليلي الأول ، لذا سأكون ممتنًا حقًا للتعليقات. </font><font style="vertical-align: inherit;">إذا كنت تريد مساعدتي في إنشاء الألعاب والبرامج التعليمية ، فألق نظرة </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> أو اشترك في </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تويتر الخاص</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بي </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تعلم المزيد عن الدورة</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar504510/index.html">برمجة نفسك. كيفية العثور على وظيفة في مجال تكنولوجيا المعلومات</a></li>
<li><a href="../ar504516/index.html">تكتيكات القراصنة المفضلة</a></li>
<li><a href="../ar504520/index.html">كيفية عمل 70 منشورًا مجانيًا حول مشروع غير معروف في الأسبوع</a></li>
<li><a href="../ar504522/index.html">ماذا ترى في الحجر الصحي؟ مجموعة مختارة من المواد من Technostream (الجزء 6)</a></li>
<li><a href="../ar504524/index.html">نموذج COVID-19 النموذجي لتنمية الوباء</a></li>
<li><a href="../de486176/index.html">Corporate Email Correspondence Memo</a></li>
<li><a href="../de486178/index.html">FOSS News Nr. 1 - Überprüfung der kostenlosen und Open Source-Nachrichten vom 27. Januar bis 2. Februar 2020</a></li>
<li><a href="../de486180/index.html">Tipps und Quellen zum Erstellen von Anwendungen ohne Server</a></li>
<li><a href="../de486184/index.html">So nutzen Sie die Suche effektiv</a></li>
<li><a href="../de486186/index.html">Katastrophale Wolke: Wie es funktioniert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>