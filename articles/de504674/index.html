<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏻 💓 👩🏽‍🤝‍👨🏿 Basis für ein großes modulares SPA auf Laravel + Vue + ElementUI mit CRUD-Generator ☝🏻 🧑🏿‍🤝‍🧑🏼 🤟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In den letzten Jahren habe ich es geschafft, an mehreren großen und nicht sehr großen Projekten mit unterschiedlichen Back-End- und Front-End-Framewor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Basis für ein großes modulares SPA auf Laravel + Vue + ElementUI mit CRUD-Generator</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504674/"><img src="https://habrastorage.org/webt/h7/m7/kt/h7m7kt-cpub7kcte0htso38oqio.jpeg" alt="Bild" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den letzten Jahren habe ich es geschafft, an mehreren großen und nicht sehr großen Projekten mit unterschiedlichen Back-End- und Front-End-Frameworks zu arbeiten. Konfrontiert mit verschiedenen Problemen, die auftraten, als die Anwendung wuchs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt kann ich schließen, welche Lösungen erfolgreich und welche nicht sehr erfolgreich waren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der gesammelten Erfahrung machte ich mich daran, meiner Meinung nach die besten Lösungen zu sammeln und meine eigene Grundlage für SPA zu schaffen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie man eine Site auf Laravel erstellt oder was SPA ist, werde ich nicht sagen. </font><font style="vertical-align: inherit;">Es gibt genug solche Informationen im Internet. </font><font style="vertical-align: inherit;">Dieser Artikel richtet sich an mehr oder weniger erfahrene Entwickler, daher werde ich einige Details vermissen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wer nicht warten kann, am Ende des Artikels befindet sich ein Link zu meinem Github-Repository. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Haupttechnologien wurden von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laravel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuex ausgewählt,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da dies mein Hauptstapel ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für eine schnelle Entwicklung habe ich das UI Kit - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ElementUI genommen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptziel</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So schaffen Sie eine Grundlage für ein mittleres und großes Projekt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird dazu beitragen, einen starren Zusammenhalt der Module zu vermeiden</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verständlich für einen Programmierer mit wenig Erfahrung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vermeiden Sie Codeduplikationen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird leicht zu erweitern sein</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektstartzeit reduzieren</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzieren Sie die Zeit für Projektunterstützung und Code-Navigation</font></font></li>
<li>     </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Leben so einfach wie möglich zu gestalten und nicht im Projekt verwirrt zu werden, müssen Sie Ihr Ego richtig strukturieren. Zu Beginn sollte die Anwendung in Verantwortungsebenen wie Benutzeroberfläche, Datenbank und Geschäftslogik unterteilt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ferner sollte jede Schicht zuerst durch die Funktionalität unterteilt werden, und dann sollte jedes Funktionsmodul gemäß dem ausgewählten Muster unterteilt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inspiriert von der DDD-Philosophie habe ich beschlossen, das Front-End und das Back-End in semantische Module aufzuteilen. Dies sind jedoch nicht die klassischen Domänen, die Evans beschreibt. Sein Modell ist auch nicht perfekt. In jeder Anwendung werden im Laufe der Zeit immer Beziehungen zwischen Komponenten angezeigt - dieselben Beziehungen zwischen Modellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Er verließ die Modelle als separate Ebene, da sie die Datenbank mit all ihren Verbindungen zu duplizieren schienen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellt ein Verzeichnis an der Vorderseite</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressourcen / js / Module</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in denen sich verschiedene Module befinden. Jedes verfügt über </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Methoden für die Arbeit mit dem Back-End, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponenten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allen Komponenten und Seiten, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speicher</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Speicher und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Routen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <br>
<pre><code class="bash hljs">{moduleName}/<font></font>
│<font></font>
├── routes.js<font></font>
│<font></font>
├── api/<font></font>
│   └── index.js<font></font>
│<font></font>
├── components/<font></font>
│   ├── {ModuleName}List.vue<font></font>
│   ├── {ModuleName}View.vue<font></font>
│   └── {ModuleName}Form.vue<font></font>
│<font></font>
└── store/<font></font>
    ├── store.js<font></font>
    ├── types.js<font></font>
    └── actions.js<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resources / js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kern</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird Ordner erstellt </font><font style="vertical-align: inherit;">, in </font><font style="vertical-align: inherit;">dem die Hauptkomponenten des Systems befinden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt auch Bootstrap und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enthält</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ordner </font><font style="vertical-align: inherit;">zum Konfigurieren zusätzlicher Bibliotheken bzw. Dienstprogramme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Projekt verwendet das dynamische Laden von Modellen. </font><font style="vertical-align: inherit;">In </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Core / Routen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Core / States</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> laden wir nämlich die entsprechenden Routing- und Speicherdateien automatisch (es muss nichts registriert werden). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel dafür, wie store.js </font><font style="vertical-align: inherit;">automatisch aus verschiedenen Modulen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geladen wurde</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Load store modules dynamically.</span>
<span class="hljs-keyword">const</span> requireContext = <span class="hljs-built_in">require</span>.context(<span class="hljs-string">'../../modules'</span>, <span class="hljs-literal">true</span>, /store\.js$/) <font></font>
 <font></font>
<span class="hljs-keyword">let</span> modules = requireContext.keys() <font></font>
    .map(<span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> 
        [file.replace(<span class="hljs-regexp">/(^.\/)|(\.js$)/g</span>, <span class="hljs-string">''</span>), requireContext(file)] <font></font>
    )<font></font>
    .reduce(<span class="hljs-function">(<span class="hljs-params">modules, [path, <span class="hljs-built_in">module</span>]</span>) =&gt;</span> { 
        <span class="hljs-keyword">let</span> name = path.split(<span class="hljs-string">'/'</span>)[<span class="hljs-number">0</span>] 
        <span class="hljs-keyword">return</span> { ...modules, [name]: <span class="hljs-built_in">module</span>.store } <font></font>
    }, {})<font></font>
 <font></font>
modules = {...modules, core} <font></font>
 <font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Vuex.Store({<font></font>
    modules<font></font>
})<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Backend im App-Verzeichnis befinden sich ähnliche Module. </font><font style="vertical-align: inherit;">Jedes Modul enthält Ordner </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller, Anforderungen, Ressourcen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Datei mit den Routen wurde ebenfalls hierher verschoben - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">route_api.php</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <br>
<pre><code class="bash hljs">{ModuleName}/<font></font>
│<font></font>
├── routes_api.php<font></font>
│<font></font>
├── Controllers/<font></font>
│   └──{ModuleName}Controller.php<font></font>
│<font></font>
├── Requests/<font></font>
│   └──{ModuleName}Request.php<font></font>
│<font></font>
└── Resources/<font></font>
    └── {ModuleName}Resource.php<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andere Entwurfsmuster wie Ereignisse, Jobs, Richtlinien usw. werden nicht in die Module aufgenommen, da sie seltener verwendet werden und es logischer ist, sie in einer separaten Ebene zu speichern. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Manipulationen mit dem dynamischen Laden der Module werden so durchgeführt, dass ein minimales Eingreifen zwischen ihnen schlägt. Auf diese Weise können Sie Module ohne Konsequenzen hinzufügen und entfernen. Jetzt können Sie den handwerklichen Befehl make erstellen, um ein solches Modul zu erstellen. Mit seiner Hilfe können wir das Projekt schnell mit den erforderlichen Entitäten und der CRUD-Funktionalität füllen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie den Befehl ausgeführt haben </font></font><code>php artisan make:module {ModuleName}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, verfügen wir über alle erforderlichen Dateien, einschließlich des Modells und der Migrationen, damit die vollständige CRUD funktioniert. Sie müssen nur die Migration abschließen</font></font><code>php artisan migrate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und alles wird funktionieren. Höchstwahrscheinlich müssen Sie zusätzliche Felder hinzufügen. Vergessen Sie daher nicht, diese vor der Migration dem Modell, der Migration und der Ausgabe an vue hinzuzufügen.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0qKNlrmhgNg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Vorlage wurde die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JWT-Auth-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Technologie zur Authentifizierung verwendet </font><font style="vertical-align: inherit;">, sie ist jedoch möglicherweise redundant und sollte für Laravel Sanctum neu erstellt werden. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue-auth wird</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wiederum im Front-End verwendet </font><font style="vertical-align: inherit;">und erleichtert die Verwaltung von Benutzerberechtigungen und -rollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Zukunft möchte ich das System verbessern. </font><font style="vertical-align: inherit;">Fügen Sie einen globalen Ereignisbus hinzu und verbinden Sie Websockets. </font><font style="vertical-align: inherit;">Tests hinzufügen. </font><font style="vertical-align: inherit;">Es ist möglich, eine Rollenverwaltungsoption in separaten Zweigen zu erstellen oder Zweige mit einem anderen UI-Kit zu erstellen. </font><font style="vertical-align: inherit;">Es wäre schön, Empfehlungen und Kommentare zu hören. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ursprünglich wurde diese Vorlage für Ihre Bedürfnisse entwickelt, aber jetzt hoffe ich, dass sie für andere Benutzer nützlich sein wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der gesamte Code kann in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meinem Github-Repository angezeigt werden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504662/index.html">Musik zeichnen: Sargtanz in Pure Data</a></li>
<li><a href="../de504664/index.html">Intelligentes Hinzufügen von Musikgruppen zu Google Sheets über VK API, Tampermonkey und Telegram Bot</a></li>
<li><a href="../de504668/index.html">Die Zusammenfassung interessanter Materialien für den mobilen Entwickler # 346 (vom 25. bis 31. Mai)</a></li>
<li><a href="../de504670/index.html">Einheitliches Staatsexamen in Informatik oder Leiden</a></li>
<li><a href="../de504672/index.html">DEVOXX UK. Kubernetes in der Produktion: Blau / Grün-Bereitstellung, automatische Skalierung und Bereitstellungsautomatisierung. Teil 2</a></li>
<li><a href="../de504676/index.html">Fügen Sie Ihrem Spiel eine Prise Zufälligkeit hinzu</a></li>
<li><a href="../de504678/index.html">ITMO Research_ Podcast: Wie man die Synchronisation von AR-Inhalten mit der Show auf der Skala des gesamten Stadions angeht</a></li>
<li><a href="../de504680/index.html">Übersicht über die NLP-Bibliothek von SpaL</a></li>
<li><a href="../de504682/index.html">Nostalgie Post: j2me, Schwerkraft trotzt, 64kb</a></li>
<li><a href="../de504686/index.html">Wie zeichnet man eine Katze?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>