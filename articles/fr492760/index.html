<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüíª üë©‚Äç‚ù§Ô∏è‚Äçüë© üß† Grille CSS: saisie d'une mise en page de magazine r√©active de 20 lignes üë¶üèΩ üëµüèª üé¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, j'ai travaill√© sur une impl√©mentation moderne d'un blog roll (une liste de blogs externes utiles / int√©ressants). L'id√©e √©tait de fournir a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Grille CSS: saisie d'une mise en page de magazine r√©active de 20 lignes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492760/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/vy/fm/invyfmr9wggf_x3z20znmwfyn8y.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©cemment, j'ai travaill√© sur une impl√©mentation moderne d'un blog roll (une liste de blogs externes utiles / int√©ressants). L'id√©e √©tait de fournir aux lecteurs une s√©lection des derniers articles de ces blogs, regroup√©s dans une pr√©sentation de magazine, plut√¥t qu'une liste s√®che de liens dans la barre lat√©rale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie la plus simple de la t√¢che consiste √† obtenir une liste des articles et de leurs extraits (extrait - texte d'introduction avant le kat) √† partir de nos flux RSS pr√©f√©r√©s. Pour ce faire, nous avons utilis√© le plugin WordPress </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feedzy lite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui peut regrouper plusieurs flux en une seule liste, tri√©s par heure - la solution id√©ale dans notre cas. La partie difficile est de tout rendre beau.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interface de liste standard du plugin est probablement insipide, donc je voulais le styliser comme un site Web de journal ou de magazine avec un m√©lange de grands et de petits blocs ¬´s√©lectionn√©s¬ª. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela semble √™tre l'occasion id√©ale d'utiliser CSS Grid! Cr√©ez une disposition de grille pour diff√©rentes dispositions, disons, une √† cinq colonnes et une √† trois colonnes, puis basculez entre elles √† l'aide de requ√™tes multim√©dias sur diff√©rentes tailles d'√©cran. Droite? Mais avons-nous vraiment besoin de ces requ√™tes multim√©dias, et de tous ces probl√®mes avec la d√©finition des points de contr√¥le, si vous pouvez simplement utiliser le param√®tre Grid </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui fera la grille adaptative pour nous? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette id√©e m'a sembl√© tentante, mais quand j'ai commenc√© √† ajouter des √©l√©ments couvrant plusieurs colonnes de la grille ( </font></font><em><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trav√©es</font></font></b></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), la grille a commenc√© √† sortir de la page sur des √©crans √©troits. </font><font style="vertical-align: inherit;">Les requ√™tes des m√©dias semblaient √™tre la seule solution. </font><font style="vertical-align: inherit;">Mais j'ai trouv√© quelque chose de mieux! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir √©tudi√© un certain nombre d'articles sur CSS Grid, j'ai constat√© qu'ils sont principalement divis√©s en deux types:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment cr√©er une mise en page int√©ressante avec des √©tendues, mais avec un nombre donn√© de colonnes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment cr√©er une </font><font style="vertical-align: inherit;">mise en page </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptative</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur une grille, mais avec des colonnes de m√™me largeur (c'est-√†-dire sans trav√©es).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux que la grille impl√©mente ceci et cela: une mise en page enti√®rement adaptative utilisant des √©l√©ments multi-colonnes de redimensionnement adaptatif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La beaut√© est que d√®s que vous commencez √† comprendre les limites des grilles adaptatives et pourquoi et quand les port√©es cassent l'adaptabilit√©, il est facile de cr√©er une mise </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> page de magazine </font><b><font style="vertical-align: inherit;">avec des dizaines de lignes de code</font></b><font style="vertical-align: inherit;"> et une requ√™te multim√©dia (ou m√™me sans elles si vous souhaitez limiter la vari√©t√© des port√©es). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une comparaison claire du plugin RSS de la bo√Æte et du r√©sultat de notre travail (cliquable):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/vy/fm/invyfmr9wggf_x3z20znmwfyn8y.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'une mise en page de magazine enti√®rement adaptative avec des blocs ¬´s√©lectionn√©s¬ª color√©s qui s'adaptent dynamiquement √† la mise en page en fonction du nombre de colonnes. La page affiche environ 50 articles, mais le code de mise en page ne d√©pend pas du nombre d'√©l√©ments. Vous pouvez facilement augmenter le nombre de messages √† 100 dans les param√®tres du plugin, et la mise en page restera int√©ressante tout en bas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela est r√©alis√© exclusivement via CSS et en utilisant une seule requ√™te multim√©dia pour afficher le contenu dans une colonne sur les √©crans les plus √©troits (moins de 460 pixels). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce qui est le plus incroyable, la mise en page enti√®re n'a pris que 21 lignes de CSS (sans compter les styles g√©n√©raux du site). Cependant, afin d'obtenir une telle flexibilit√© en utilisant si peu de code, j'ai d√ª plonger profond√©ment dans les profondeurs les plus sombres de la grille CSS et apprendre √† contourner certaines de ses limites.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code sur lequel repose toute la mise en page est incroyablement court, et tout cela gr√¢ce √† la splendeur de la grille CSS:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, minmax(<span class="hljs-number">210px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">32px</span>;
  <span class="hljs-attribute">grid-auto-flow</span>: dense;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*    */</span>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(31n</span> + 1) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 2) {
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 10) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">2</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*     */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">459px</span>) {
  <span class="hljs-selector-class">.archive</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La technique d√©crite dans cet article peut √™tre utilis√©e en toute s√©curit√© pour styliser tout contenu g√©n√©r√© dynamiquement, que ce soit la sortie du widget de publications r√©centes, de pages d'archives ou de r√©sultats de recherche.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er un maillage adaptatif</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai cr√©√© 17 √©l√©ments pour mettre en valeur la diversit√© du contenu futur - titres, images et extraits, et envelopp√© dans </font></font><code>&lt;div&gt;&lt;/div&gt;</code><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"archive"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"article"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--  --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-comment">&lt;!--  16  --&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code pour transformer ces √©l√©ments en une grille adaptative est particuli√®rement compact:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-comment">/*     - */</span>
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-comment">/*        ,       180 . */</span>
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, minmax(<span class="hljs-number">180px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-comment">/*     */</span>
  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">1em</span>;<font></font>
}<font></font>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí D√©mo sur CodePen</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Notez comment la hauteur de la ligne s'ajuste automatiquement au bloc de contenu le plus √©lev√© de la ligne. </font><font style="vertical-align: inherit;">Si vous modifiez la largeur dans la d√©mo √† partir du lien ci-dessus, vous verrez que les √©l√©ments augmentent et diminuent automatiquement et le nombre de colonnes passe de 1 √† 5, respectivement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, en action, nous voyons la magie de la grille CSS appel√©e</font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ce mot-cl√© fonctionne conjointement avec la fonction</font></font><code>minmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appliqu√©e √†</font></font><code>grid-template-columns</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment √ßa fonctionne</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La disposition √† cinq colonnes elle-m√™me peut √™tre obtenue comme ceci:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">5</span>, <span class="hljs-number">1</span>fr);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, cela cr√©e une disposition √† cinq colonnes qui s'√©tire et se contracte √† diff√©rentes largeurs d'√©cran, mais reste toujours √† cinq colonnes, ce qui conduit √† des colonnes terriblement √©troites sur les petits √©crans. La premi√®re chose qui me vient √† l'esprit est d'√©crire un tas de requ√™tes multim√©dias et de red√©finir une grille avec un nombre diff√©rent de colonnes. Cela fonctionnerait, mais le mot </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">cl√© </font><font style="vertical-align: inherit;">fait tout automatiquement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utiliser la fonction dont nous avons besoin </font></font><code>minmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ainsi, nous indiquons en quelque sorte au navigateur combien vous pouvez compresser les colonnes et combien vous pouvez √©tirer. Lorsque l'une des limites est atteinte, le nombre de colonnes augmente ou diminue, respectivement.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">grid-template-columns</span>: repeat (auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">180px</span>, <span class="hljs-number">1</span>fr));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, le navigateur tentera de prendre en charge autant de colonnes que 180 pixels de large. </font><font style="vertical-align: inherit;">S'il y a un exc√®s d'espace, toutes les colonnes se d√©velopperont, le r√©partissant √©galement entre elles. </font><font style="vertical-align: inherit;">C'est ce qui dicte le sens </font></font><code>1fr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: rendre les tailles de colonnes √©gales aux fractions ( </font><font style="vertical-align: inherit;">actions </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) de la largeur disponible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √©tirez la fen√™tre du navigateur, toutes les colonnes augmenteront de mani√®re √©gale avec l'augmentation de l'espace libre. </font><font style="vertical-align: inherit;">D√®s que le nouvel espace atteint 180 pixels, une nouvelle colonne appara√Æt √† sa place. </font><font style="vertical-align: inherit;">Et si vous r√©duisez la fen√™tre du navigateur, tout se passe dans l'autre sens, ajustant parfaitement la grille jusqu'√† ce qu'elle se transforme en une disposition √† une seule colonne. </font><font style="vertical-align: inherit;">La magie! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí D√©mo vid√©o</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Et toute cette adaptabilit√© gr√¢ce √† une seule ligne de code. </font><font style="vertical-align: inherit;">Eh bien cool?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation de port√©es avec ¬´autoflow: dense¬ª</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, pour le moment, nous avons d√©j√† une grille adaptative, c'est juste tous ses √©l√©ments - la m√™me largeur. </font><font style="vertical-align: inherit;">La mise en page d'un journal ou d'un magazine implique la pr√©sence de blocs s√©lectionn√©s, dans ce contexte, ceux qui couvriraient deux, trois, voire toutes les colonnes disponibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er des √©tendues √† plusieurs colonnes, nous pouvons utiliser la propri√©t√© </font></font><code>grid-column: span</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans les √©l√©ments qui devraient occuper plus d'espace. </font><font style="vertical-align: inherit;">Supposons que nous voulons que le troisi√®me √©l√©ment de la liste ait deux colonnes de large:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(3)</span> {
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">2</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, apr√®s l'ajout de port√©es, de nombreux probl√®mes peuvent appara√Ætre. </font><font style="vertical-align: inherit;">Premi√®rement, des trous peuvent se former dans la grille dans les cas o√π l'√©l√©ment large ne tient pas sur sa ligne et le </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transf√®re comme suit:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tg/xl/8i/tgxl8iziz5_tm6pnng4wpnbbghm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est facilement r√©solu en ajoutant une propri√©t√© </font></font><code>grid-auto-flow: dense</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† la grille. </font><font style="vertical-align: inherit;">En raison de cette propri√©t√©, le navigateur comprend que les trous doivent √™tre remplis avec d'autres √©l√©ments. </font><font style="vertical-align: inherit;">Cela cr√©e un flux autour des √©l√©ments plus larges et plus √©troits:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/j9/hn/ttj9hndgzfsxehzxw1iqdxz4fa4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attention: l'ordre des √©l√©ments est cass√©, maintenant le quatri√®me √©l√©ment est devant le troisi√®me. </font><font style="vertical-align: inherit;">Pour autant que je sache, cela ne peut pas √™tre contourn√©, c'est l'une des limitations de CSS Grid qui doit √™tre accept√©e.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fa√ßons d'identifier les trav√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs fa√ßons de sp√©cifier le nombre de colonnes qu'un √©l√©ment doit occuper. </font><font style="vertical-align: inherit;">Il est plus facile de l'appliquer </font></font><code>grid-columns: span [n]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† l'un des √©l√©ments, o√π </font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est le nombre de colonnes que l'√©l√©ment occupera. </font><font style="vertical-align: inherit;">Le troisi√®me √©l√©ment de notre mise en page a une propri√©t√© enregistr√©e </font></font><code>grid-column: span 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui explique pourquoi sa largeur est deux fois plus grande que les autres √©l√©ments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour utiliser d'autres m√©thodes, vous devez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©cifier les lignes de la grille</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les lignes de la grille sont num√©rot√©es comme suit:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xg/za/yn/xgzaynnxcflkzedtleek72epqcs.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les lignes de la grille peuvent √™tre indiqu√©es de gauche √† droite avec des nombres positifs (par exemple, 1, 2, 3) ou de droite √† gauche avec des nombres n√©gatifs (-1, -2, -3). </font><font style="vertical-align: inherit;">Ils peuvent √™tre utilis√©s pour placer des √©l√©ments dans la grille √† l'aide d'une propri√©t√© </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, comme ceci:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.grid-item</span> {
  <span class="hljs-attribute">grid-column</span>: ( ) / ( );<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, les lignes de la grille √©largissent notre capacit√© √† d√©finir des port√©es. </font><font style="vertical-align: inherit;">La flexibilit√© est ajout√©e par la possibilit√© de remplacer la valeur initiale ou finale par un mot-cl√© </font></font><code>span</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par exemple, le bloc bleu √† trois colonnes dans l'exemple ci-dessus peut √™tre cr√©√© en appliquant l'une de ces propri√©t√©s au huiti√®me √©l√©ment de grille:</font></font><br>
<br>
<ul>
<li><code>grid-column: 3 / 6</code></li>
<li><code>grid-column: -4 / -1</code></li>
<li><code>grid-column: 3 / span 3</code></li>
<li><code>grid-column: -4 / span 3</code></li>
<li><code>grid-column: span 3 / -1</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans une grille non adaptative (c'est-√†-dire avec un nombre fixe de colonnes), chacune de ces propri√©t√©s donne le m√™me r√©sultat (comme dans l'exemple avec le bloc bleu ci-dessus). </font><font style="vertical-align: inherit;">Mais si la grille est adaptative et que le nombre de colonnes change, la diff√©rence devient tr√®s sensible. </font><font style="vertical-align: inherit;">Certaines plages cassent la mise en page avec le retour automatique activ√©, ce qui donne √† penser que ces deux solutions sont incompatibles. </font><font style="vertical-align: inherit;">Heureusement, certaines astuces nous permettront de les combiner en toute s√©curit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais d'abord, nous devons comprendre le probl√®me.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes de d√©filement horizontal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici quelques ¬´√©l√©ments en vedette¬ª cr√©√©s √† l'aide de la m√©thode de la ligne de grille (cliquable):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/9m/uq/nz9muqk1spn-eujmvhwutl9rblm.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur toute la largeur (cinq colonnes), tout semble bien, mais si vous r√©duisez l'√©cran √† une taille √† laquelle il devrait y avoir deux colonnes, la disposition se rompt de cette fa√ßon:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/oh/uu/bbohuutkvjhpbtv4ocjhmx0uodu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, notre grille a perdu son adaptabilit√© et, bien que le conteneur ait r√©tr√©ci, la grille essaie de prendre en charge les cinq colonnes. Pour ce faire, elle continue d'essayer la m√™me largeur de colonne et d√©passe √©ventuellement les limites de son conteneur √† droite. De l√†, un d√©filement horizontal appara√Æt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi √ßa arrive? Le probl√®me est que le navigateur essaie de se conformer √† nos directions exactes pour les lignes de la grille. √Ä cette largeur, la </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grille ne devrait afficher que deux colonnes, mais notre syst√®me de num√©rotation des lignes de pile contredit cela, se r√©f√©rant sp√©cifiquement √† la cinqui√®me ligne. Cette contradiction m√®ne au d√©sordre. Pour afficher correctement notre grille implicite √† deux colonnes, seuls les nombres 1, 2, 3 et -3, -2, -1 peuvent √™tre utilis√©s, comme ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s3/7t/1q/s37t1qfemvneeuufd7jvsantkz4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si l'un des √©l√©ments de notre grille contient des instructions en </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dehors de ces limites, disons 4, 5 ou -6, le navigateur re√ßoit des instructions ambigu√´s. D'une part, nous vous demandons de cr√©er automatiquement des colonnes flexibles (qui devraient - implicitement - rester deux √† cette largeur d'√©cran). D'autre part, nous avons explicitement fait r√©f√©rence aux lignes de grille, qui ne peuvent pas exister dans un format √† deux colonnes. En cas de contradiction entre les colonnes implicites (automatiques) et leur nombre explicitement d√©fini, la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grille pr√©f√®re toujours une d√©finition explicite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . C'est ainsi que les colonnes ind√©sirables et le d√©bordement horizontal apparaissent (ce qu'ils appellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la perte de donn√©es CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Les √©tendues, comme les num√©ros de ligne de grille, peuvent cr√©er des d√©finitions de colonnes explicites. </font><font style="vertical-align: inherit;">grid-column: span 3 (le huiti√®me √©l√©ment de la grille dans la d√©mo) force la grille √† avoir explicitement au moins trois colonnes, malgr√© le fait que nous voulons deux implicites. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il peut sembler que la seule option consiste √† utiliser des requ√™tes multim√©dias pour modifier les valeurs </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† la largeur souhait√©e ... mais ne vous pr√©cipitez pas! </font><font style="vertical-align: inherit;">Je le pensais aussi au d√©but. </font><font style="vertical-align: inherit;">Mais, apr√®s un peu de r√©flexion et de jouer avec diff√©rents param√®tres, j'ai trouv√© qu'il existe quelques fa√ßons de contourner ce probl√®me, gr√¢ce auxquelles nous n'avons toujours qu'une seule demande de support pour les appareils les plus √©troits.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solutions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'est av√©r√© que l'astuce consiste √† d√©terminer les √©tendues en utilisant uniquement les num√©ros de ligne disponibles pour la grille la plus √©troite de celles planifi√©es pour l'affichage. </font><font style="vertical-align: inherit;">Dans ce cas, nous parlons d'une grille √† deux colonnes (rappel, nous utilisons une requ√™te m√©dia pour l'affichage sur une seule colonne). </font><font style="vertical-align: inherit;">Ainsi, vous pouvez utiliser en toute s√©curit√© les nombres 1, 2, 3 et leurs paires n√©gatives sans casser la grille. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, je pensais que je me limiterais √† la largeur de la trav√©e en deux colonnes en utilisant ces combinaisons de nombres:</font></font><br>
<br>
<ul>
<li><code>grid column: span 2</code></li>
<li><code>grid-column: 1 /3</code></li>
<li><code>grid-column: -3 / -1</code></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m5/q5/q8/m5q5q8beij-uiipgfasj_cndegy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qui restent parfaitement adaptables jusqu'√† deux enceintes:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m0/ln/xb/m0lnxbx2i2axufbbyde7nusr-v4.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que cela fonctionne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , du point de vue de la conception, c'est une limitation s√©rieuse et pas trop brillante. Je voulais faire des port√©es de trois, quatre ou m√™me cinq colonnes sur des √©crans larges. Mais comment? Ma premi√®re pens√©e a √©t√© de revenir aux questions des m√©dias (omg, il est difficile de se d√©barrasser des anciennes habitudes), mais j'ai quand m√™me essay√© d'√©viter cette approche et de regarder le design r√©actif sous un angle diff√©rent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En regardant √† nouveau la liste des nombres disponibles, je me suis soudain rendu compte que les nombres positifs et n√©gatifs dans les valeurs initiales et finales </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent √™tre combin√©s, par exemple </font></font><code>1/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>2/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela ne semble rien d'int√©ressant. Mais cela ne semble plus comme √ßa lorsque vous comprenez la position des lignes apr√®s avoir chang√© la taille de la grille: les port√©es changent la largeur en fonction de la largeur de l'√©cran. Un tas de nouvelles opportunit√©s pour les √©tendues adaptatives ouvrent, en particulier, des √©l√©ments qui s'√©tendent sur un nombre diff√©rent de colonnes avec un changement de la largeur de l'√©cran, sans aucune interrogation multim√©dia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier exemple que j'ai d√©couvert est </font></font><code>grid-column: 1/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cette propri√©t√© transforme l'√©l√©ment en banni√®re en pleine largeur, remplissant toutes les colonnes de la premi√®re √† la derni√®re, m√™me lorsqu'il n'y a qu'une seule colonne! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant</font></font><code>grid-column: 1/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez cr√©er une plage "presque pleine largeur", qui remplit toutes les colonnes de gauche √† droite, sauf la derni√®re. Dans une disposition √† deux colonnes, une telle √©tendue se transforme de mani√®re adaptative en un √©l√©ment ordinaire dans une colonne. √âtonnamment, cela fonctionne m√™me lors de la compression de la mise en page sur une colonne. (Il semble que la raison soit que la grille ne r√©duira pas l'√©l√©ment √† une largeur nulle et qu'il reste donc la largeur d'une colonne, comme dans le cas avec </font></font><code>grid-column: 1/1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.) J'ai suppos√© que cela </font></font><code>grid-column: 2/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devrait fonctionner de la m√™me mani√®re, ne laisser qu'une colonne intacte √† gauche, et non √† droite . Il s'est av√©r√© √™tre presque √† droite, lors de la compression de la mise en page sur une colonne, un d√©bordement se produit toujours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai ensuite essay√© une combinaison</font></font><code>1/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela a bien fonctionn√© sur des √©crans larges - remplissant au moins trois colonnes - et sur des √©crans √©troits - n'en remplissant qu'une seule. Je pensais qu'avec une grille √† deux colonnes, quelque chose d'√©trange se produirait, car puisque la premi√®re ligne de la grille est la m√™me que la ligne sous le num√©ro </font></font><code>-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. √Ä ma grande surprise, l'article s'affiche correctement dans une colonne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s de nombreuses exp√©riences, j'ai d√©couvert qu'il existe 11 valeurs appropri√©es </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parmi celles disponibles dans une grille √† deux colonnes. Trois d'entre eux fonctionnent m√™me dans une disposition √† une seule colonne. Sept autres fonctionnent correctement jusqu'√† deux colonnes, et pour un affichage correct dans une colonne, ils n'auront besoin que d'une seule requ√™te m√©dia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici la liste compl√®te:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_t/dv/bd/_tdvbd8_atfcs8y8us61wq3xzws.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©monstration de valeurs adaptatives grille-colonne sur diff√©rentes tailles d'√©cran dans une grille √† ajustement automatique. </font><font style="vertical-align: inherit;">( </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©mo</font></font></a></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, malgr√© un sous-ensemble plut√¥t limit√© de plages adaptatives, il existe de nombreuses opportunit√©s.</font></font><br>
<br>
<ul>
<li><code>2/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Une combinaison int√©ressante, cr√©e une port√©e centr√©e qui fonctionne jusqu'√† la grille √† une seule colonne!</font></font></li>
<li><code>3/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - moins utile car elle conduit √† un d√©bordement m√™me sur deux colonnes.</font></font></li>
<li><code>3/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une agr√©able surprise.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En raison de la vari√©t√© des valeurs </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de cette liste, il est possible de cr√©er une mise en page int√©ressante et enti√®rement r√©active. </font><font style="vertical-align: inherit;">En utilisant une seule requ√™te multim√©dia pour l'affichage sur une seule colonne le plus √©troit, nous pouvons g√©rer dix mod√®les diff√©rents </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette m√™me requ√™te m√©dia est assez simple, m√™me disons simple. </font><font style="vertical-align: inherit;">Dans notre exemple, il est responsable de la commutation de l'affichage de la grille sur flexbox:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">680px</span>) {
  <span class="hljs-selector-class">.archive</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-selector-class">.article</span> {
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2em</span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici la grille finale qui, comme vous l'avez peut-√™tre remarqu√©, est enti√®rement r√©active - d'une √† cinq colonnes (cliquable):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/939/9aa/ad0/9399aaad0e89f01d46745aae0efaa928.gif"></div></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation: nth-child () pour r√©p√©ter la largeur dynamique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©duire mon code √† deux douzaines de lignes, j'ai appliqu√© une autre astuce. Le s√©lecteur </font></font><code>:nth-child(n)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m'a permis de styliser un grand nombre d'√©l√©ments √† la fois. Toute mon id√©e avec les √©tendues devait √™tre appliqu√©e √† de nombreux messages dans le flux afin que les blocs s√©lectionn√©s apparaissent r√©guli√®rement sur la page. Tout d'abord, j'ai √©crit une liste de s√©lecteurs s√©par√©s par des virgules avec un num√©ro d'√©l√©ment clairement d√©fini:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(2)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(18)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(34)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(50)</span>  {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>,<span class="hljs-number">0</span>,<span class="hljs-number">64</span>,<span class="hljs-number">0.8</span>);
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En vitesse, j'ai r√©alis√© que c'est un processus tr√®s long, surtout quand vous devez copier toute cette liste de conditions pour chaque √©l√©ment enfant qui doit √™tre modifi√© dans l'article - en-t√™te, liens, etc. Pendant le prototypage, j'ai √©t√© forc√© de changer manuellement les num√©ros dans chacune de ces listes chaque fois que je voulais jouer avec la position des trav√©es. Un processus ennuyeux et sujet aux erreurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est alors que j'ai r√©alis√© que vous pouvez profiter de la fonctionnalit√© int√©ressante du pseudo-s√©lecteur </font></font><code>:nth-child</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: au lieu d'une valeur enti√®re, entrez une expression, par exemple </font></font><code>:nth-child(2n+ 2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui signifie chaque deuxi√®me √©l√©ment enfant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici comment j'ai utilis√© </font></font><code>:nth-child([])</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour cr√©er un bloc bleu pleine largeur dans ma grille qui appara√Æt en haut de la page, puis √† mi-chemin dans la liste:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(31n</span> + 1) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">11</span>, <span class="hljs-number">111</span>, <span class="hljs-number">222</span>, <span class="hljs-number">0.5</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un morceau de code entre parenth√®ses ( </font></font><code>31n + 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) est responsable du choix du 1er, 32e, 63e, etc. √©l√©ment enfant. Le navigateur d√©marre la boucle en commen√ßant par n = 0 ( </font></font><code>31 * 0 + 1 = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), puis </font></font><code>n=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>31 * 1 + 1 = 32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et enfin </font></font><code>n=2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>31 * 2 + 1 = 63</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Dans ce dernier cas, le navigateur comprend qu'il n'y a pas de 63e √©l√©ment enfant, ignore la r√®gle, arr√™te le cycle et applique la r√®gle aux 1er et 32e √©l√©ments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je fais quelque chose de similaire pour les blocs violets qui apparaissent √† gauche ou √† droite sur toute la page:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 2) {
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 10) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">2</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier s√©lecteur est pour les blocs violets de gauche. L'expression </font></font><code>16n + 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est responsable de l'application de styles √† chaque 16e √©l√©ment de grille, en commen√ßant par le second. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxi√®me s√©lecteur est pour les blocs violets de droite. L'intervalle est le m√™me ( </font></font><code>16n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), mais le d√©calage est diff√©rent ( </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). En cons√©quence, ces blocs se retrouvent r√©guli√®rement sur le c√¥t√© droit de la grille, dans les √©l√©ments num√©rot√©s 10, 26, 42, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les styles visuels de ces √©l√©ments, j'ai utilis√© une autre astuce pour √©viter la r√©p√©tition du code. Pour les styles courants de blocs violets (pour √©vidents </font></font><code>background-color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, par exemple), vous pouvez utiliser un s√©lecteur:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(8n</span> + 2) {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);
  <span class="hljs-comment">/* Other shared syling */</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce s√©lecteur s√©lectionne les √©l√©ments 2, 10, 18, 26, 34, 42, 50 et plus. </font><font style="vertical-align: inherit;">En d'autres termes, il s√©lectionne les blocs gauche et droit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela fonctionne parce que </font></font><code>8n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- c'est exactement la moiti√© </font></font><code>16n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et la diff√©rence de d√©calage dans les deux s√©lecteurs est √©galement de 8.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le dernier mot</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CSS Grid peut d√©sormais √™tre utilis√© pour cr√©er des maillages flexibles et r√©actifs avec un minimum de code. Cependant, si vous √©vitez d'utiliser des requ√™tes de m√©dias r√©trogrades, il existe des restrictions importantes sur le positionnement des √©l√©ments dans la grille. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce serait tr√®s cool de pouvoir cr√©er des port√©es qui n'entra√Æneraient pas de d√©filement horizontal et de d√©bordement sur de petits √©crans. Maintenant, nous pouvons dire au navigateur: ¬´Faites une grille adaptative, s'il vous pla√Æt¬ª, et il le fait tr√®s bien. Mais il vous suffit d'ajouter: "Oh, et cet √©l√©ment de la grille est √©tir√© en quatre colonnes, s'il vous pla√Æt", et il agite la poign√©e vers des √©crans √©troits, donnant la pr√©f√©rence √† la demande d'une √©tendue de quatre colonnes, plut√¥t qu'√† une grille adaptative. Il serait possible de faire faire le contraire √† la grille, par exemple comme ceci:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span> {
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">3</span>, autofit;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre probl√®me avec les grilles r√©actives est la derni√®re ligne. </font><font style="vertical-align: inherit;">La modification de la largeur de l'√©cran peut souvent la rendre vierge. </font><font style="vertical-align: inherit;">J'ai essay√© pendant longtemps de trouver un moyen d'√©tirer le dernier √©l√©ment de la grille aux colonnes restantes (respectivement, remplir la ligne), mais cela semble impossible. </font><font style="vertical-align: inherit;">Au moins pour l'instant. </font><font style="vertical-align: inherit;">Ce serait bien d'avoir la possibilit√© de d√©finir la position initiale de l'√©l√©ment avec un mot-cl√©, comme </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pour ainsi dire, dire "Remplissez la ligne jusqu'√† la fin, en commen√ßant par le bord gauche". </font><font style="vertical-align: inherit;">Quelque chose comme √ßa:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span> {
  <span class="hljs-attribute">grid-column</span>: auto, -<span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... qui √©tirerait la port√©e sur le bord gauche de la grille jusqu'√† la fin de la ligne.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492744/index.html">Quel syst√®me sera le plus bruyant et qui donnera le silence ¬´absolu¬ª: deux projets scientifiques int√©ressants</a></li>
<li><a href="../fr492746/index.html">Comment √©viter l'indignation de la programmation? Conseils d'int√©gration</a></li>
<li><a href="../fr492748/index.html">Profession DevOps-engineer: une vue de l'administrateur syst√®me</a></li>
<li><a href="../fr492754/index.html">Pourquoi JavaScript d√©vore le HTML: exemples de code</a></li>
<li><a href="../fr492758/index.html">Podcasts pour les d√©veloppeurs</a></li>
<li><a href="../fr492762/index.html">Alphabet des investisseurs: qu'est-ce qu'un appel de marge et comment l'√©viter</a></li>
<li><a href="../fr492766/index.html">Nous pompons le travail avec des √©v√©nements dans Angular</a></li>
<li><a href="../fr492768/index.html">Greybox Fuzzing par l'exemple d'AFLSmart</a></li>
<li><a href="../fr492770/index.html">Apprendre, n√©gocier, consulter √† distance - Partie 1: Mind Server et sa version gratuite</a></li>
<li><a href="../fr492772/index.html">Comment Amazon tente de poursuivre les produits les plus risqu√©s du site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>