<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧒🏾 👂🏻 👨🏿‍🤝‍👨🏻 Classer des images sur Android à l'aide de TensorFlow Lite et Azure Custom Vision ✌🏻 🛃 📭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La classification des images permet à nos applications Xamarin de reconnaître les objets sur les photographies. 
 
 La possibilité de prendre une phot...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Classer des images sur Android à l'aide de TensorFlow Lite et Azure Custom Vision</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/494782/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La classification des images permet à nos applications Xamarin de reconnaître les objets sur les photographies. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La possibilité de prendre une photo et de reconnaître son contenu est de plus en plus courante. Nous pouvons l'observer dans nos applications bancaires lors d'un dépôt mobile, dans les applications photo lors de l'ajout de filtres et dans les applications HotDog pour déterminer si notre nourriture est un hot dog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grâce au service Azure Custom Vision, nous n'avons pas besoin d'apprendre des algorithmes d'apprentissage machine complexes pour implémenter la classification d'images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, nous verrons comment implémenter la classification d'images à l'aide du service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Custom Vision</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (plateforme d'apprentissage machine open source) et</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/w6/7s/is/w67sispgfa1h0zaexrrmfixvnjm.jpeg"></div><a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.iOS,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous pouvons également utiliser le service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Custom Vision</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoreML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais nous ferions mieux de l'enregistrer pour un autre article.</font></font><br>
<br>
<div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/ki/tc/xd/kitcxdmde-k-718arxf4blrp8dw.gif" alt="image"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliothèques de classification d'images</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utiliserons le service Azure Custom Vision et TensorFlow Lite pour implémenter notre classification d'images.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Service de vision personnalisée Azure</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le service Azure Custom Vision</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simplifie la création et la formation d'un modèle d'apprentissage automatique - aucune expérience avec Artificail Intelligence (AI) ou Machine Learning (ML) n'est requise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portail Web du service Custom Vision</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous pouvons effectuer les opérations suivantes sans écrire de code AI / ML:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Télécharger l'image d'entraînement </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marquer les balises / balises des objets dans l'image </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Répéter (le modèle s'améliore avec plus de données d'entraînement) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est tout - Custom Vision s'occupe du reste! </font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. TensorFlow Lite</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une plate-forme d'apprentissage automatique open source qui nous permet d'utiliser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans l'IoT et les appareils mobiles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TensorFlow Lite et TensorFlow sont disponibles en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open source sur GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implémentation d'une classification d'images à l'aide d'Azure + Xamarin.Android</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple complet d'application de classification d'images est disponible sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Formation modèle</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À l'aide du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portail Web du service Custom Vision</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous formons d'abord des modèles de classification d'images. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portail Web du service Custom Vision,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cliquez sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouveau projet</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sx/qn/kh/sxqnkh76fpwunev5ap2ez-9mjj8.png" alt="image"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un nouveau projet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">définissez les paramètres suivants:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XamarinImageClassification</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> identifier les objets dans les images</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressource:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Créer une nouvelle ressource]</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type de projet:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Classification</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de classification:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Multilabel (plusieurs balises par image)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domaines:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Général (compact)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capacités d'exportation:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plates-formes de base</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un nouveau projet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">cliquez sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un projet </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassification,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cliquez sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter des images </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sélectionnez les images contenant l'objet pour identification </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Téléchargement d'image</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">ajoutez une balise </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans cet exemple, nous travaillons avec des images de champignons </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image télécharger</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cliquez sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Télécharger </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> continuez à télécharger des images jusqu'à ce que vous ayez au moins 5 images pour chaque balise</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/fd/4m/cffd4muzbpg6s4htghxencupfvw.png" alt="image"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassification</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le coin supérieur droit de la fenêtre, cliquez sur le bouton </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Train Model</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (image verte des engrenages) </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la </font><font style="vertical-align: inherit;">fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choose Training Type</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quick Training </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la </font><font style="vertical-align: inherit;">fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choose Training Type</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Train</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/2w/az/tq2waz6v9a7tvsvxwbaqfdszdbk.png" alt="image"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Exportation d'un modèle formé à partir du service Azure Custom Vision</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons formé notre modèle, exportons-le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour l'utiliser dans notre application mobile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela nous permettra d'utiliser le modèle sans connexion Internet, ce qui garantira la meilleure confidentialité pour l'utilisateur, car ses photos ne quitteront jamais l'appareil mobile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour exporter notre modèle, </font><b><font style="vertical-align: inherit;">procédons comme</font></b><font style="vertical-align: inherit;"> suit: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassifcation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en haut de la page, sélectionnez l'onglet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performances </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans l' </font><font style="vertical-align: inherit;">onglet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performace</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cliquez sur le bouton </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exporter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (flèche vers le bas) </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la </font><font style="vertical-align: inherit;">fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez votre plateforme</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jr/xg/in/jrxginpgpbnk3sswvxexoli9a60.png" alt="image"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la liste déroulante </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez votre plateforme</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la </font><font style="vertical-align: inherit;">fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez votre plateforme</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Télécharger</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mb/hr/qg/mbhrqg-c8m1d2cngmz2dylwuamk.png" alt="image"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Importez TensorFlow Lite dans notre application Xamarin.Android</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installez le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">package NuGet approprié</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans notre projet Xamarin.Android </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ce package NuGet est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">projet open source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> créé par l'équipe Xamarin de Microsoft. </font><font style="vertical-align: inherit;">Il contient des liaisons C # pour la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliothèque TensorFlow Lite d'origine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui peut être utilisée dans notre application Xamarin.Android </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Décompressez le modèle exporté que nous avons téléchargé à partir du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portail Web du service Custom Vision </font></font></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à l'intérieur du fichier zip se trouvent </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model.tflite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient des balises d'image créées lors de la préparation de la formation sur le site Web de Custom Vision</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models.tflite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le modèle d'apprentissage automatique que nous utilisons pour nos prévisions.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans Visual Studio, dans le projet Xamarin.Android, cliquez avec le bouton droit sur le dossier </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assets </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans le menu contextuel, sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Élément existant ... </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans le </font><font style="vertical-align: inherit;">menu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un élément existant</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sélectionnez les deux fichiers récemment décompressés:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models.tflite</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></b> </li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans Visual Studio, dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actifs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cliquez avec le bouton droit sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans le menu contextuel, sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propriétés </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propriétés</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Asset </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans Visual Studio, dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actifs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cliquez avec le bouton droit sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models.tflite </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans le menu contextuel, sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propriétés </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propriétés</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Asset</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xx/ez/af/xxezafr-mncdulrowkqnxwlhymm.png" alt="image"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Implémentation du code de classification d'image pour Xamarin.Android</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons importé le modèle, il est temps de faire de l'écriture de code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour rappel, une application de classification d'images échantillon entièrement finie est disponible sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projet </font><font style="vertical-align: inherit;">, ajouter </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassifcationModel.cs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.cs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassificationModel.cs</font></font></h4><br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ImageClassificationModel</span> <font></font>
{ <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ImageClassificationModel</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> tagName, <span class="hljs-keyword">float</span> probability</span>)</span> <font></font>
    { <font></font>
        TagName = tagName; <font></font>
        Probability = probability; <font></font>
    } <font></font>
   <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> Probability { <span class="hljs-keyword">get</span>; } 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> TagName { <span class="hljs-keyword">get</span>; } <font></font>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.cs</font></font></h4><br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> System.Linq;
<span class="hljs-keyword">using</span> Android.App;
<span class="hljs-keyword">using</span> Android.Graphics;
<span class="hljs-keyword">using</span> Java.IO;
<span class="hljs-keyword">using</span> Java.Nio;
<span class="hljs-keyword">using</span> Java.Nio.Channels;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TensorflowClassifier</span><font></font>
{<font></font>
    <span class="hljs-comment">//FloatSize     4,        4 </span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> FloatSize = <span class="hljs-number">4</span>;
    <span class="hljs-comment">//PixelSize -     3,        : ,   .</span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> PixelSize = <span class="hljs-number">3</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;ImageClassificationModel&gt; <span class="hljs-title">Classify</span>(<span class="hljs-params"><span class="hljs-keyword">byte</span>[] image</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> mappedByteBuffer = GetModelAsMappedByteBuffer();
        <span class="hljs-keyword">var</span> interpreter = <span class="hljs-keyword">new</span> Xamarin.TensorFlow.Lite.Interpreter(mappedByteBuffer);<font></font>
<font></font>
        <span class="hljs-comment">//   ,       </span>
        <span class="hljs-keyword">var</span> tensor = interpreter.GetInputTensor(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">var</span> shape = tensor.Shape();<font></font>
<font></font>
        <span class="hljs-keyword">var</span> width = shape[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">var</span> height = shape[<span class="hljs-number">2</span>];<font></font>
<font></font>
        <span class="hljs-keyword">var</span> byteBuffer = GetPhotoAsByteBuffer(image, width, height);<font></font>
<font></font>
        <span class="hljs-comment">// StreamReader    labels.txt</span>
        <span class="hljs-keyword">var</span> streamReader = <span class="hljs-keyword">new</span> StreamReader(Application.Context.Assets.Open(<span class="hljs-string">"labels.txt"</span>));<font></font>
<font></font>
        <span class="hljs-comment">// labels.txt  List&lt;string&gt;</span>
        <span class="hljs-keyword">var</span> labels = streamReader.ReadToEnd().Split(<span class="hljs-string">'\n'</span>).Select(s =&gt; s.Trim()).Where(s =&gt; !<span class="hljs-keyword">string</span>.IsNullOrEmpty(s)).ToList();<font></font>
<font></font>
        <span class="hljs-comment">//     Java.Lang.Object,    Xamarin.TensorFlow.List.Interpreter.</span>
        <span class="hljs-keyword">var</span> outputLocations = <span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[<span class="hljs-number">1</span>][] { <span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[labels.Count] };
        <span class="hljs-keyword">var</span> outputs = Java.Lang.Object.FromArray(outputLocations);<font></font>
<font></font>
        interpreter.Run(byteBuffer, outputs);<font></font>
        <span class="hljs-keyword">var</span> classificationResult = outputs.ToArray&lt;<span class="hljs-keyword">float</span>[]&gt;();<font></font>
<font></font>
        <span class="hljs-comment">// classificationResult     ,  ,     </span>
        <span class="hljs-keyword">var</span> classificationModelList = <span class="hljs-keyword">new</span> List&lt;ImageClassificationModel&gt;();<font></font>
<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.Count; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> label = labels[i]; classificationModelList.Add(<span class="hljs-keyword">new</span> ImageClassificationModel(label, classificationResult[<span class="hljs-number">0</span>][i]));<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> classificationModelList;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// model.tflite  Java.Nio.MappedByteBuffer,    Xamarin.TensorFlow.Lite.Interpreter.</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> MappedByteBuffer <span class="hljs-title">GetModelAsMappedByteBuffer</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> assetDescriptor = Application.Context.Assets.OpenFd(<span class="hljs-string">"model.tflite"</span>);
        <span class="hljs-keyword">var</span> inputStream = <span class="hljs-keyword">new</span> FileInputStream(assetDescriptor.FileDescriptor);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> mappedByteBuffer = inputStream.Channel.Map(FileChannel.MapMode.ReadOnly, assetDescriptor.StartOffset, assetDescriptor.DeclaredLength);<font></font>
<font></font>
        <span class="hljs-keyword">return</span> mappedByteBuffer;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//     TensorFlow</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> ByteBuffer <span class="hljs-title">GetPhotoAsByteBuffer</span>(<span class="hljs-params"><span class="hljs-keyword">byte</span>[] image, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> bitmap = BitmapFactory.DecodeByteArray(image, <span class="hljs-number">0</span>, image.Length);
        <span class="hljs-keyword">var</span> resizedBitmap = Bitmap.CreateScaledBitmap(bitmap, width, height, <span class="hljs-literal">true</span>);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> modelInputSize = FloatSize * height * width * PixelSize;
        <span class="hljs-keyword">var</span> byteBuffer = ByteBuffer.AllocateDirect(modelInputSize);<font></font>
        byteBuffer.Order(ByteOrder.NativeOrder());<font></font>
<font></font>
        <span class="hljs-keyword">var</span> pixels = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[width * height];<font></font>
        resizedBitmap.GetPixels(pixels, <span class="hljs-number">0</span>, resizedBitmap.Width, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, resizedBitmap.Width, resizedBitmap.Height);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> pixel = <span class="hljs-number">0</span>;<font></font>
<font></font>
        <span class="hljs-comment">//     Java.Nio.ByteBuffer</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; width; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; height; j++)<font></font>
            {<font></font>
                <span class="hljs-keyword">var</span> pixelVal = pixels[pixel++];<font></font>
<font></font>
                byteBuffer.PutFloat(pixelVal &gt;&gt; <span class="hljs-number">16</span> &amp; <span class="hljs-number">0xFF</span>);<font></font>
                byteBuffer.PutFloat(pixelVal &gt;&gt; <span class="hljs-number">8</span> &amp; <span class="hljs-number">0xFF</span>);<font></font>
                byteBuffer.PutFloat(pixelVal &amp; <span class="hljs-number">0xFF</span>);<font></font>
            }<font></font>
        }<font></font>
<font></font>
        bitmap.Recycle();<font></font>
<font></font>
        <span class="hljs-keyword">return</span> byteBuffer;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout! </font><font style="vertical-align: inherit;">Maintenant, nous pouvons transmettre l'image à </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.Classify</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour obtenir </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassificationModel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matériaux pour étude ultérieure</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consultez les liens ci-dessous:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code github complet</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service de vision personnalisée Azure</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Cognitive Services</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Community AI Show: Custom Vision, Xamarin et Simpsons</font></font></a> </li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494762/index.html">50 applications pour une organisation efficace du travail à distance</a></li>
<li><a href="../fr494766/index.html">Tendances des technologies des communications dans un avenir proche</a></li>
<li><a href="../fr494772/index.html">Comment la lutte contre les appels robotiques se développe aux États-Unis - sur les mesures des politiciens et des entreprises de télécommunications</a></li>
<li><a href="../fr494776/index.html">PostgreSQL Antipatterns: calcul des conditions en SQL</a></li>
<li><a href="../fr494780/index.html">Révélations et craintes d'un employé d'Amazon à l'ère du coronavirus</a></li>
<li><a href="../fr494784/index.html">DBLog - un cadre commun pour la capture de données modifiées</a></li>
<li><a href="../fr494786/index.html">Prise en charge RTOS de type MitM dans GDB</a></li>
<li><a href="../fr494788/index.html">Fonctionnement du courrier électronique</a></li>
<li><a href="../fr494792/index.html">Yandex.Routing: comment nous avons plongé dans la logistique et décidé de changer l'avenir</a></li>
<li><a href="../fr494794/index.html">Nous avons les bras longs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>