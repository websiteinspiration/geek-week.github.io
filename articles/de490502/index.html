<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌋 🎪 🌇 Ansible vs Puppet 👩🏼‍🎤 🆔 👩🏽‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ansible und Puppet sind die Konfigurationsmanagementsysteme (SCM), die zum Aufbau sich wiederholender Infrastrukturen erforderlich sind. 
 
 Ansible i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ansible vs Puppet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/490502/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible und Puppet sind die Konfigurationsmanagementsysteme (SCM), die zum Aufbau sich wiederholender Infrastrukturen erforderlich sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible ist einfach zu bedienen, verfügt über eine agentenlose Architektur (erfordert keine Installation eines Agenten / Clients auf dem Zielsystem) und eine YAML-ähnliche DSL, die in Python geschrieben und einfach durch Module erweitert werden kann. Verwaltet normalerweise Linux-Konfigurationen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppet verfügt über eine Client-Server-Architektur (fragt den Server regelmäßig ab, um Änderungen an der vom Netzwerkadministrator vorgenommenen Konfiguration vorzunehmen), ist in Ruby geschrieben und verfügt über ein Ruby-ähnliches DSL. Mit dieser Anwendung können Sie die Konfiguration von Software, die auf mehreren Computern installiert ist, zentral verwalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Artikel vergleicht die Vor- und Nachteile dieser SCMs.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x1/ic/q3/x1icq3wsfkfmjfv3iqhkfc9nqh8.jpeg"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Vergleich zu den 90er Jahren müssen Systemadministratoren und Entwickler heutzutage eine wesentlich größere Anzahl von Servern verwalten, auf denen viel mehr Anwendungen gehostet werden. Der Grund dafür ist das exponentielle Wachstum des Computing für Organisationen und Unternehmen, das mit dem Aufkommen neuer Technologien wie Virtualisierung und Cloud Computing verbunden ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So werden Tools wie Puppet und Ansible schnell zu notwendigen Komponenten für die Verwaltung einer großen Anzahl von Servern, beispielsweise in Rechenzentren. </font><font style="vertical-align: inherit;">Sie werden als Configuration Management Tools (CM) und Remote Execution (RE) bezeichnet und häufig mit Software-Update-Tools verwendet. </font><font style="vertical-align: inherit;">Mit diesen nützlichen Anwendungen kann beispielsweise ein Netzwerkadministrator Aktionen auf mehreren Servern gleichzeitig ausführen und mehrere Anwendungen mit einem Klick bereitstellen, was die Konfiguration und Wartung von zehn, Hunderten oder sogar Tausenden von Servern erheblich vereinfacht.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet: Ein kurzer Rückblick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppet ist eine der bekanntesten Marken auf dem CM-Markt. Es existiert seit 2005, was für CM-Werkzeuge gleichbedeutend ist mit der Existenz seit der Gründung der Menschheit. Viele große Namen wie Google, Reddit, Dell, PayPal, Oracle, Los Alamos Labs und die Stanford University verwalten ihre Rechenzentren mit Puppet. Solche Kunden an Bord zu haben, gibt dem Produkt immer ein gewisses Maß an Vertrauen. Puppet bietet außerdem die ausgereifteste Benutzeroberfläche und funktioniert unter allen gängigen Betriebssystemen - Linux, Windows, Unix und sogar Mac OS X. Nach dem Vorbild verschiedener Linux-Versionen wurde diese Open Source-Anwendung in Ruby entwickelt. Es gibt jedoch eine solide, gut etablierte PuppetLabs Support- und Sponsoring-Firma.bietet professionellen Support und eine kommerzielle Unternehmensversion der Software.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppet bietet außerdem ein einfaches Installationsverfahren und verschiedene Tools für Aufgaben wie die schnelle Bereitstellung auf Client-Servern. Zusätzlich zur GUI gibt es eine Ruby-basierte CLI. Tatsächlich müssen Sie für die meisten fortgeschrittenen Aufgaben höchstwahrscheinlich von der CLI abhängig sein, und die GUI ist die Schnittstelle zum Anzeigen, Verwalten und Überwachen. Dies bedeutet, dass Sie nicht nur als Systemadministrator arbeiten, sondern auch Ruby lernen müssen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hu/9v/wc/hu9vwcjf6nwscjrgdyfpxfgtfjq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie könnten denken: „Es klingt alles großartig! Gibt es Nachteile oder lohnt es sich, Puppet jetzt zu kaufen? “Die Debatte über die Verwendung dieses SCM in spezialisierten CM-Foren ist, dass Puppet wie viele andere Software-Giganten ein Opfer seines eigenen Erfolgs und seiner Größe geworden ist. "Flink" und "agil" sind keine Worte, mit denen Puppets Arbeit beschrieben werden kann. Benutzer melden Fehler, deren Behebung und Ignorieren neuer Anforderungen zu lange dauert. Es gibt auch einige Unzufriedenheit mit der Tatsache, dass PuppetLabs seine Kunden beharrlich dazu drängt, die kommerzielle Version zu akzeptieren. Obwohl Puppet sowohl reines Ruby als auch das konfigurierte DSL in der CLI unterstützt, ist die Unterstützung für Ruby allein veraltet. Dies sind schlechte Nachrichten für diejenigen, die nur Ruby und nicht DSL studiert haben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible umging Puppet und eroberte mit </font><font style="vertical-align: inherit;">26,5% </font><font style="vertical-align: inherit;">den größten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marktanteil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der Konfigurationsmanagementbranche. Es folgen Microsoft System Center CM (21,8%) und Puppet (12%). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/b2/tm/cmb2tmfw7wmtdruecpelzl7snkc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist auch ein Open Source-Produkt, das 2012 veröffentlicht wurde und seitdem von AnsibleWorks unterstützt wird. Es wurde eher in Python als in Ruby entwickelt, wodurch es Salt (einem anderen neuen CM-Tool) spirituell näher kommt als Puppet. Ein weiterer Vorteil von Python ist, dass es in die meisten Unix- und Linux-Anwendungen integriert ist, sodass in dieser Sprache geschriebenes SCM schneller installiert wird und funktioniert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einzigartige Marketingtrick von Ansible liegt in der einfachen und schnellen Bereitstellung. Tatsächlich verwendet dieses System nicht einmal bereitgestellte Agenten, um mit dem Master-Client zu kommunizieren. Stattdessen werden alle Funktionen über SSH ausgeführt. Für Konfigurationen, die Root-SSH nicht unterstützen, kann Ansible "sudo" als Root ausführen. Ansible kann über die CLI gestartet werden, ohne Konfigurationsdateien für einfache Aufgaben wie das Überprüfen des Betriebs des Dienstes oder das Starten von Updates und Neustarts zu verwenden. Bei komplexeren Aufgaben wird die Ansible-Konfiguration mithilfe der YAML-Syntax in Konfigurationsdateien behandelt, die als „Playbooks“ bezeichnet werden. Ansible-Befehle können in nahezu jeder Programmiersprache geschrieben und als universelle JSON-Module verteilt werden. Dies ist eindeutig ein Vorteil gegenüber der Auswahl einer bestimmten Sprache.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible ist mit einem neuen Ansatz für herkömmliche Konfigurationsaufgaben immer beliebter geworden, und viele Unternehmen verwenden ihn zur Bereitstellung großer Rechenzentren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ansible-Community von Enthusiasten arbeitet hart daran, auf ihrem Erfolg aufzubauen, indem sie die Anzahl der unterstützten Geräte erhöht, eine bessere Windows-Unterstützung integriert, das Ökosystem verbessert und so weiter.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet: Installationsunterschied</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Unterschiede zwischen Ansible und Puppet werden ab dem Zeitpunkt der Installation der Systeme deutlich. </font><font style="vertical-align: inherit;">Da sie unterschiedlichen architektonischen Paradigmen folgen, unterscheidet sich ihre Umgebung erheblich. </font><font style="vertical-align: inherit;">Ansible hat daher das explizite Ziel, den Einrichtungsprozess so einfach wie möglich zu gestalten, was sich in der Benutzererfahrung widerspiegelt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gq/hr/me/gqhrmedn8unjfxxq3tcdsjfzrtw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Ansible zu konfigurieren, müssen Sie zunächst einen Knoten als Steuerknoten festlegen. Tatsächlich kann jeder Ihrer Knoten ein Verwaltungsknoten sein. Sie können Ansible auf diesem Knoten mit dem neuesten Ansible-Paket aus den Paketrepositorys Ihrer Distribution installieren, ohne die Client-Software auf anderen Knoten konfigurieren zu müssen. Erstellen Sie einfach ein SSH-Schlüsselpaar auf Ihrem Verwaltungsknoten und kopieren Sie sie auf die anderen Knoten. Erstellen Sie als Nächstes eine Inventardatei für Ansible-Knoten - normalerweise unter Linux-Betriebssystemen wie Red Hat Linux, Ubuntu und Debian in / etc / ansible / hosts. Sie können jetzt Ansible verwenden, um das PlayBook sowohl auf Ihrem Host als auch auf dem Rest der Netzwerkinfrastruktur zu starten.Ansible verwendet SSH-Verbindungen mit Ihrem Steuerknoten, um die PlayBook-basierte Konfigurationsverwaltung auszulösen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Einrichten von Puppet sieht etwas komplizierter aus, aber im Internet gibt es viele Dokumentationen, die in schwierigen Fällen hilfreich sind. Zunächst müssen Sie den Master- und den Agentenknoten so konfigurieren, dass sie dieselbe Zeit und Zeitzone haben. Anschließend müssen Sie mit Root-Rechten zum Master-Server wechseln und die Puppet-Server-Software installieren. Als Nächstes müssen Sie die Puppet-Assistentendatei / etc / hosts konfigurieren, um alle verwalteten Clients zu verbinden, den PuppetServer-Dienst starten und in den Aktivierungsmodus versetzen, um Clientverbindungen an Port 8140 zu empfangen. Da Puppet auf Client-Software angewiesen ist, müssen Sie Puppet-Software-Agenten installieren auf jedem von ihnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem müssen Sie die IP-Adresse des Master-Servers in / etc / hosts hinzufügen, damit der Client eine Verbindung herstellen kann. </font><font style="vertical-align: inherit;">Dazu müssen Sie den Puppet-Agentendienst auf jedem Client starten und aktivieren und anschließend SSL-Zertifikate generieren, da dieses CM-System HTTPS für die Master-Client-Kommunikation verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In beiden Fällen muss die Sicherheit des Servers erhöht werden, um die Möglichkeit nicht autorisierter Verbindungen auszuschließen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet: Skalierbarkeits- und Konfigurationstransportmechanismus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beide SCMs lassen sich gut skalieren, verwenden jedoch unterschiedliche Konfigurationstransportmechanismen, um dies zu erreichen. Unabhängig davon, ob Sie mehrere hundert oder zehntausend Knoten verwalten müssen, gibt es Tricks und Strategien, die Sie auf jeder Plattform verwenden können, um bequem auf das gewünschte Niveau zu skalieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3y/pe/u6/3ypeu6xorodq8eixu9xnnqbvtvc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible verwendet standardmäßig den intelligenten Transportmechanismus, der auf vertrauenswürdigen SSH-Zertifikaten basiert. Ansible analysiert zunächst PlayBooks und identifiziert betroffene Infrastrukturelemente. Sie öffnet dann eine SSH-Verbindung und erstellt ein temporäres Verzeichnis. Nach dem Schließen dieser Verbindung öffnet Ansible eine zweite Verbindung, um den Ansible-Modulcode und den Ansible-Vorlagencode zu kopieren. Ansible schließt diese Verbindung, bevor die dritte, letzte Verbindung geöffnet wird, um den Code auszuführen. Diese Einstellung dient den meisten Zwecken, kann jedoch geändert werden, wenn die Infrastruktur skaliert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Funktion, die Ansible verwenden kann, heißt ControlPersist und basiert auf dauerhaften, dauerhaften Sockets, um die Zeit für den Austausch von Handshakes zu verkürzen, die für mehrere Verbindungen erforderlich sind. Ansible unterstützt auch Pipelining, eine Konfiguration, die die Anzahl der erforderlichen Verbindungen von drei auf eins reduziert. Schließlich kann Ansible so konfiguriert werden, dass mehrere Inventarknoten gleichzeitig verarbeitet werden, indem die Gabelvariable in der Konfiguration dieses Systems eingerichtet wird. Standardmäßig ist dieser Wert 5, Sie können jedoch einen höheren Wert festlegen, um die Verarbeitung zu beschleunigen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/du/wz/kwduwz2vqawecyp_530h99vo-o0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Puppet-Transportmechanismus ist HTTPS, der mithilfe von SSL-Zertifikaten verwaltet wird. Ein Puppet-Server verarbeitet Konfigurationsanforderungen für eine gesamte Liste von Puppet-Clients. Jeder Client sendet Puppet-Fakten zusammen mit einer Anforderung an das Puppet-Verzeichnis an den Master-Server. Anschließend sendet der Master-Server dieses Verzeichnis als Antwort. Der Client verarbeitet dann das Verzeichnis und überprüft jede Softwareressource mit dem im Verzeichnis angegebenen erforderlichen Konfigurationsstatus. Wenn sich die Ressource nicht im gewünschten Status befindet, aktualisiert der Puppet-Client die Ressource auf diesem Computer und sendet nach Abschluss der Aktualisierung einen Bericht über die abgeschlossene Konfigurationsänderung an den Puppet-Server.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kx/_7/nz/kx_7nzpnuvxgislidrtlelkp1s4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insbesondere weist das Puppet-Verarbeitungsmodell einen JRuby-Thread aus dem Thread-Pool zu, um jede eingehende Client-Verbindung zu verarbeiten. Wenn die Anzahl der Knoten zunimmt, kann die Puppet-Skalierung optimiert werden, indem die Anzahl der im Pool verfügbaren JRuby-Threads erhöht wird. Dies kann erreicht werden, indem der Wert des Puppet-Konfigurationsparameters "max-active-instance" höher als der Standardwert 1 eingestellt wird. In der Regel wird angenommen, dass dieser Wert der Anzahl der Prozessorkerne Ihres Computers entspricht. Beachten Sie jedoch, dass hierfür mehr erforderlich sind CPU-Speicher verwendet RAM RAM. In der Regel müssen Sie auch eine höhere „maximale Heap-Größe“ für die JVM Ihres Puppet-Servers festlegen, um dies sicherzustellendass Ihre zusätzlichen JRuby-Threads ohne Java-Speicherfehler zugewiesen werden können. Bei dieser Einstellung ist Vorsicht geboten, da dies zu Leistungseinbußen führen kann.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CM Ansible Code Beispiel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die tägliche Konfigurationsarbeit ist das Schreiben von Ansible-Code aufgrund einer Kombination aus zwei Faktoren überraschend einfach: der Verwendung des YAML-Formats für PlayBooks und dem deklarativen Stil des Konfigurationsmanagements, der „scharfe Ecken“ abschneidet. </font><font style="vertical-align: inherit;">Dies ist wichtig, um die Leistung von DevOps-Befehlen schnell zu verbessern und sicherzustellen, dass Ihr Code auch für komplexe Konfigurationsaufgaben verwaltbar ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible Code ist idempotent. Dies bedeutet, dass Sie PlayBook für Systemkomponenten immer wieder sicher ausführen können, ohne Ihre Server zu beschädigen. Ansible ändert die Konfiguration von Softwareressourcen nur auf Servern, auf denen sie sich außerhalb des gewünschten Status befinden. Wenn Ihr PlayBook beispielsweise ein Paket installieren und eine bestimmte Konfigurationsdatei auf der Festplatte erstellen muss, installiert Ansible nur dieses Paket und erstellt die Konfigurationsdatei, die beim ersten Start des PlayBook auf dem Host angegeben wurde. Bei späteren Starts des PlayBook bleibt das Paket automatisch intakt, bis Änderungen vorgenommen werden, durch die die angegebene Datei- oder Paketkonfiguration entfernt oder geändert wird. Dies hält Ihre Knoten in einem vorhersehbaren, deterministischen Zustand mit sehr geringer oder keiner Wahrscheinlichkeit einer Konfigurationsdrift.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das folgende Beispiel zeigt einen Ansible PlayBook-Code, mit dem der Tomcat-Webserver auf Ihren Websites installiert wird. </font><font style="vertical-align: inherit;">Dieses Beispiel stammt aus dem offiziellen </font><font style="vertical-align: inherit;">Ansible-Beispiel- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das Sie durchsehen sollten, um sich besser mit dem idiomatischen Ansible-Stil vertraut zu machen:</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- name: Install Java 1.7<font></font>
yum: name=java-1.7.0-openjdk state=present<font></font>
<font></font>
- name: add group "tomcat"<font></font>
group: name=tomcat<font></font>
<font></font>
- name: add user "tomcat"<font></font>
user: name=tomcat group=tomcat home=/usr/share/tomcat createhome=no<font></font>
become: True<font></font>
become_method: sudo<font></font>
<font></font>
- name: Download Tomcat<font></font>
get_url: url=http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.61/bin/apache-tomcat-7.0.61.tar.gz dest=/opt/apache-tomcat-7.0.61.tar.gz<font></font>
<font></font>
- name: Extract archive<font></font>
command: chdir=/usr/share /bin/tar xvf /opt/apache-tomcat-7.0.61.tar.gz -C /opt/ creates=/opt/apache-tomcat-7.0.61<font></font>
<font></font>
- name: Symlink install directory<font></font>
file: src=/opt/apache-tomcat-7.0.61 path=/usr/share/tomcat state=link<font></font>
<font></font>
- name: Change ownership of Tomcat installation<font></font>
file: path=/usr/share/tomcat/ owner=tomcat group=tomcat state=directory recurse=yes<font></font>
<font></font>
- name: Configure Tomcat server<font></font>
template: src=server.xml dest=/usr/share/tomcat/conf/<font></font>
notify: restart tomcat<font></font>
<font></font>
- name: Configure Tomcat users<font></font>
template: src=tomcat-users.xml dest=/usr/share/tomcat/conf/<font></font>
notify: restart tomcat<font></font>
<font></font>
- name: Install Tomcat init script<font></font>
copy: src=tomcat-initscript.sh dest=/etc/init.d/tomcat mode=0755<font></font>
<font></font>
- name: Start Tomcat<font></font>
service: name=tomcat state=started enabled=yes<font></font>
<font></font>
- name: deploy iptables rules<font></font>
template: src=iptables-save dest=/etc/sysconfig/iptables<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '6'"<font></font>
notify: restart iptables<font></font>
<font></font>
- name: insert firewalld rule for tomcat http port<font></font>
firewalld: port=/tcp permanent=true state=enabled immediate=yes<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '7'"<font></font>
<font></font>
- name: insert firewalld rule for tomcat https port<font></font>
firewalld: port=/tcp permanent=true state=enabled immediate=yes<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '7'"<font></font>
<font></font>
- name: wait for tomcat to start<font></font>
wait_for: port=</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese spezielle Ansible-Aufgabe lädt Apache Tomcat zusammen mit dem abhängigen Java JDK 1.7 herunter und installiert es. Anschließend wird Tomcat konfiguriert, gestartet und installiert. </font><font style="vertical-align: inherit;">Wie Sie diesem Beispiel entnehmen können, können Ansible-gesteuerte Dateien Jinja-Vorlagen enthalten, was die Berechnung von Werten vereinfacht und Ihre Konfiguration flexibler macht. </font><font style="vertical-align: inherit;">YAML-Code ist sowohl für Systemadministratoren als auch für Entwickler leicht zu lesen und zu schreiben. </font><font style="vertical-align: inherit;">Dies führt dazu, dass Ansible zu einem erschwinglichen Konfigurationsmanagementsystem für fortgeschrittene und unerfahrene Benutzer wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CM Puppet Code Beispiel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die fachorientierte Sprache Puppet basiert auf Ruby, aber ihre Syntax ist den imperativen Sprachen im C-Stil wie Perl, Java und C ++ viel näher. </font><font style="vertical-align: inherit;">Dieser Ansatz ist ein Vermittler zwischen Entwicklern, die mit Ruby vertraut sind, und solchen, die mit dieser Sprache möglicherweise nicht vertraut sind. </font><font style="vertical-align: inherit;">Daher müssen Sie Ruby möglicherweise überhaupt nicht kennen, um Puppet DSL produktiv zu lernen und zu verwenden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein Beispiel für ein Puppet-Manifest aus dem MySQL Puppet Module-Repository von PuppetLabs, das das MySQL-Clientpaket installiert und konfiguriert:</font></font><br>
<br>
<pre><code class="plaintext hljs"># @summary<font></font>
#     Installs and configures the MySQL client.<font></font>
#<font></font>
# @example Install the MySQL client<font></font>
#     class {'::mysql::client':<font></font>
#         package_name =&gt; 'mysql-client',<font></font>
#         package_ensure =&gt; 'present',<font></font>
#         bindings_enable =&gt; true,<font></font>
#     }<font></font>
#<font></font>
# @param bindings_enable<font></font>
#     Whether to automatically install all bindings. Valid values are `true`, `false`. Default to `false`.<font></font>
# @param install_options<font></font>
#     Array of install options for managed package resources. You must pass the appropriate options for the package manager.<font></font>
# @param package_ensure<font></font>
#     Whether the MySQL package should be present, absent, or a specific version. Valid values are 'present', 'absent', or 'x.y.z'.<font></font>
# @param package_manage<font></font>
#     Whether to manage the MySQL client package. Defaults to `true`.<font></font>
# @param package_name<font></font>
#     The name of the MySQL client package to install.<font></font>
#<font></font>
class mysql::client (<font></font>
    $bindings_enable = $mysql::params::bindings_enable,<font></font>
    $install_options = undef,<font></font>
    $package_ensure = $mysql::params::client_package_ensure,<font></font>
    $package_manage = $mysql::params::client_package_manage,<font></font>
    $package_name = $mysql::params::client_package_name,<font></font>
)  inherits mysql::params {<font></font>
    <font></font>
    include '::mysql::client::install'<font></font>
<font></font>
    if $bindings_enable {<font></font>
        class { 'mysql::bindings':<font></font>
            java_enable =&gt; true,<font></font>
            perl_enable =&gt; true,<font></font>
            php_enable =&gt; true,<font></font>
            python_enable =&gt; true,<font></font>
            ruby_enable =&gt; true,<font></font>
        }<font></font>
    }<font></font>
<font></font>
# Anchor pattern workaround to avoid resources of mysql::client::install to<font></font>
# "float off" outside mysql::client<font></font>
anchor { 'mysql::client::start': }<font></font>
-&gt; Class['mysql::client::install']<font></font>
-&gt; anchor { 'mysql::client::end': }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wichtiger Vorteil von Puppet ist, dass Puppet DSL im Gegensatz zu den oben aufgeführten imperativen Programmiersprachen in gewisser Weise ähnlich wie XML deklarativ ist, ebenso wie der YAML-Code aus dem obigen Ansible-Codebeispiel. </font><font style="vertical-align: inherit;">Der deklarative Ansatz von Puppet und Ansible wird in beiden Codebeispielen wirklich verfolgt. </font><font style="vertical-align: inherit;">In Bezug auf die Codierung sind sie ähnlich und näher beieinander als Tools wie Chef. </font><font style="vertical-align: inherit;">Die deklarative Sprache Puppet bietet jedoch auch Ruby-ähnliche Konstrukte wie bedingte Ausdrücke und Iterationen, was wiederum ein Kompromiss für Ruby-Benutzer und diejenigen ist, die die Sprache nicht sprechen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet: Benutzerfreundlichkeit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für das Entwicklungsteam sollte die Benutzerfreundlichkeit ein wichtiger Bestandteil der Bewertung von SCM sein. Angesichts der Tatsache, dass die Ansible-Entwickler große Anstrengungen auf die Benutzerfreundlichkeit des Systems konzentrieren, gibt es hier keine Konkurrenten. Das Konfigurieren, Programmieren und Verwalten der Knoten bietet sowohl Entwicklern als auch Systemadministratoren eine sehr einfache Schnittstelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet nicht, dass Puppet schwierig zu bedienen ist. Es ist nur so, dass sich dieses System sicher verhält, während Sie die vorgeschlagene Methode zur Automatisierung seiner Infrastruktur befolgen. In diesem Bereich ist Puppet ziemlich stark, modelliert jede Ressource explizit und stellt Benutzern Module mit Standardverhalten zur Verfügung, die in Ihren Manifesten effizient verwendet werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf das Lernen der Benutzer sind beide Plattformen einfach zu bedienen, Ansible hat jedoch einen leichten Vorteil. </font><font style="vertical-align: inherit;">Es ist einfach, einen deklarativen YAML-Stil zu erreichen, sodass Ansible-Code nie zu kompliziert ist. </font><font style="vertical-align: inherit;">Inzwischen hat Puppet einige der Probleme erkannt, die mit dem Kombinieren von Daten und Code in denselben Quelldateien verbunden sind. </font><font style="vertical-align: inherit;">Dies führte zur Einführung von Puppet Hiera, einer Speicherlösung, die das YAML-Format zum Speichern von Schlüssel-Wert-Paaren von Konfigurationsdaten verwendet. </font><font style="vertical-align: inherit;">Hiera trägt wesentlich zur Vereinfachung und Optimierung des Puppet DevOps-Erlebnisses bei. </font><font style="vertical-align: inherit;">Das YAML-Format hat sich für das Konfigurationsmanagement als sehr beliebt erwiesen, wobei Salt von SaltStack auch dieses Format verwendet.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beide SCMs können Ihr CM validieren und testen, von der Syntaxprüfung bis zur Integration der Infrastruktur als Code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet: Lizenz- und Implementierungskosten</font></font></h3><br>
<br>
<img src="https://habrastorage.org/webt/hc/dr/ex/hcdrexeefe8ias0zzyh2f7lqngu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible und Puppet haben als Open-Source-Tools viele Gemeinsamkeiten in ihren Lizenzrichtlinien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Open Source-Version von Ansible ist völlig kostenlos. </font><font style="vertical-align: inherit;">Unternehmen, die mehr Garantien für Sicherheit, Stabilität und Zuverlässigkeit benötigen, sollten ein Upgrade auf Ansible Engine durchführen, das Produkt der Enterprise-Klasse, das mit Red Hat Linux geliefert wird. </font><font style="vertical-align: inherit;">Die Lizenzkosten für Ansible Engine liegen normalerweise zwischen 47,50 und 70 US-Dollar pro Jahr und Knoten und hängen von Ihrer bevorzugten Konfiguration ab.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie technischen Support mit schneller Fehlerbehebung benötigen, sollten Sie die Unternehmensversion verwenden. </font><font style="vertical-align: inherit;">Das Ansible Tower Large Enterprise Management Tool ist als Servicepaket verfügbar und bietet Ihrem Unternehmen über ein grafisches Bedienfeld mehr Funktionen für Schulung, Verwaltung und Auftragsplanung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Ansible ist auch die Open Source Puppet-Version kostenlos erhältlich. </font><font style="vertical-align: inherit;">Für zusätzliche Unternehmensfunktionen und technischen Support können Unternehmen ein Upgrade auf Puppet Enterprise durchführen, das zwischen 112 und 199 US-Dollar pro Jahr und Knoten kostet. </font><font style="vertical-align: inherit;">Puppet Enterprise bietet ein Paket mit verschiedenen Tools, einschließlich Berichterstellung und Überwachung des Status der Unternehmensinfrastruktur.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs Puppet: Gemeinschaft</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppet wurde 2005 veröffentlicht und ist ein älteres DevOps-Tool, sodass es mehr Zeit hatte, eine eigene Community und Benutzerbasis zu erstellen. Trotzdem konnte Ansible, das 2012 dank seines neuen Ansatzes eingeführt wurde, ein noch größeres Publikum anziehen und eine sehr dynamische Community von Entwickler-Enthusiasten und Benutzern schaffen. Zu den Puppet-Benutzern zählen Unternehmen wie Uber, Salesforce und Paypal, während zur Ansible-Community Unternehmen wie Digital Ocean, 9GAG und TypeForm gehören.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir einen so wichtigen Indikator für die Entwicklung von Open-Source-Produkten wie die Anzahl der an der Entwicklung auf GitHub beteiligten Mitwirkenden vergleichen, ist Ansible mit mehr als 4.800 Mitwirkenden Puppet mit seinen 527 Mitwirkenden an der Entwicklung des Produkts weit überlegen. Die Entwicklung von Ansible in den letzten Jahren war so schnell, dass ein separates "galaktisches" Repository von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible Galaxy geschaffen wurde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies bedeutet, dass die Ansible-Community bestrebt ist, ihren Code zu teilen, um so zur Weiterentwicklung des Produkts beizutragen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Zwischenzeit hat die Puppet-Community, die sich langsamer und stetiger entwickelt, eine Infrastruktur geschaffen, die es einfacher macht, Lösungen zu finden, die Ihren SCM-Anforderungen entsprechen. </font><font style="vertical-align: inherit;">Puppet Forge bietet Module für allgemeine Konfigurationsverwaltungsaufgaben für die Puppet-Community. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beide Systeme verfügen über erstklassige Tools zur Überwachung des Lebenszyklus eines Konfigurationsmanagementprojekts über die Befehlszeile. </font><font style="vertical-align: inherit;">Sowohl Puppet als auch Ansible lassen sich gut in andere weit verbreitete DevOps-Systeme wie Docker, Kubernetes und Jenkins sowie AWS- und Azure-Cloud-Computing-Plattformen integrieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs Puppet: Was ist besser?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Angelegenheit liegt die Wahl bei Ihnen. Der deklarative Stil von Ansible und Puppet bedeutet, dass diese Tools viel mehr gemeinsam haben als andere Konfigurationsmanagementsysteme. Um jedoch die beste Wahl zu treffen, müssen Sie besonders darauf achten, wie die Anforderungen Ihres Teams mit dem Design und den Vorteilen eines bestimmten SCM kombiniert werden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible ist besser für diejenigen geeignet, die an einer Konfiguration im YAML-Stil interessiert sind und die Philosophie von Ansible teilen, so einfach wie möglich zu sein und gleichzeitig einen großen Pool von Maschinen schnell und gleichzeitig zu verwalten. Darüber hinaus konzentriert sich diese Philosophie auf die Verwendung vorhandener SSH-Funktionen, anstatt Benutzeragenten zu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppet eignet sich eher für Teams, die DSL bevorzugen, das Systemressourcen auf konsistente, sich wiederholende Weise modelliert. </font><font style="vertical-align: inherit;">Dies ist genau das, was Puppet DSL zusammen mit einem ganzen Ökosystem von Tools tut, um große Teams vorhersehbar und einfach zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie genau wissen, welche Konfigurationsverwaltungsprinzipien Ihren Anforderungen am besten entsprechen, ist die Wahl zwischen Puppet und Ansible für Sie kein Problem.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Ihnen die Auswahl zu erleichtern, empfehlen wir Ihnen, sich mit den wichtigsten Vor- und Nachteilen beider Systeme vertraut zu machen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bx/i8/j6/bxi8j6fcayvlx5bn80fdevkr8hy.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein bisschen Werbung :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank für Ihren Aufenthalt bei uns. Gefällt dir unser Artikel? Möchten Sie weitere interessante Materialien sehen? Unterstützen Sie uns, indem Sie eine Bestellung </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">aufgeben</font></a><font style="vertical-align: inherit;"> oder Ihren Freunden </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud-basiertes VPS für Entwickler ab 4,99 US-Dollar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> empfehlen </font><font style="vertical-align: inherit;">, ein </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einzigartiges Analogon von Einstiegsservern, das von uns für Sie erfunden wurde: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die ganze Wahrheit über VPS (KVM) E5-2697 v3 (6 Kerne) 10 GB DDR4 480 GB SSD 1 Gbit / s ab 19 $ oder wie teilt man den Server?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2-mal günstiger im Equinix Tier IV-Rechenzentrum in Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nur wir haben </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in den Niederlanden!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie mehr über</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Aufbau eines Infrastrukturgebäudes. </font><font style="vertical-align: inherit;">Klasse C mit Dell R730xd E5-2650 v4-Servern für 9.000 Euro für einen Cent?</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490490/index.html">Wochenendlesung: 10 Materialien zu den Auswirkungen von Geräuschen auf die Gesundheit - von „Lärmhygiene“ über guten Schlaf bis hin zu GTD</a></li>
<li><a href="../de490492/index.html">Der Lagerroboter lernt, nicht standardmäßige Dinge zu sortieren</a></li>
<li><a href="../de490494/index.html">Shop Ratten, Widiots und Gamer: Propaganda über die Gefahren von Videospielen in den 80er Jahren</a></li>
<li><a href="../de490496/index.html">Erstellen eines Online-Shops auf Nuxt.js 2 Exemplarische Vorgehensweise Teil 1</a></li>
<li><a href="../de490498/index.html">Da habe ich eine semi-dezentrale Kryptowährung in PHP geschrieben. (Teil 2 - Entwicklung)</a></li>
<li><a href="../de490510/index.html">Unternehmen geben 16 Milliarden US-Dollar für Drohnen aus, um den 8-Billionen-Markt zu erobern</a></li>
<li><a href="../de490512/index.html">(Fast) Farben automatisch generieren</a></li>
<li><a href="../de490516/index.html">KI existiert, aber haben wir das nicht gedacht?</a></li>
<li><a href="../de490518/index.html">Eine Einführung in das Lena Data Analysis Architectural Framework</a></li>
<li><a href="../de490520/index.html">Die Ursprünge der Mathematik: logische Ideen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>