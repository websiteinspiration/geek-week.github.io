<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â²ï¸ ğŸ§›ğŸ» ğŸ¤¾ğŸ½ Fitur-Kebijakan HTTP Header dan Kontrol Browser Web ğŸ‘©ğŸ»â€ğŸ”§ ğŸ™ŒğŸ» ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada satu teknik yang sama sekali tak tertandingi yang memungkinkan Anda untuk menjaga kinerja proyek web tetap terkendali. Ini terdiri dari memperkena...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Fitur-Kebijakan HTTP Header dan Kontrol Browser Web</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/490624/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada satu teknik yang sama sekali tak tertandingi yang memungkinkan Anda untuk menjaga kinerja proyek web tetap terkendali. Ini terdiri dari memperkenalkan mekanisme ke dalam proses pembangunan, yang hasilnya jelas terlihat. Mekanisme ini dirancang untuk selalu mengingatkan programmer tentang pentingnya kinerja. Ada sesuatu dalam konteks ini yang sangat saya sukai. Ini adalah tajuk HTTP </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur-Kebijakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Judul ini adalah fitur yang relatif baru yang memungkinkan pengembang membuat fitur browser tertentu hidup dan mati saat menjelajahi situsnya. </font><font style="vertical-align: inherit;">
Misalnya, Anda dapat memberi tahu peramban bahwa browser itu seharusnya tidak mengizinkan penggunaan Geolocation API dengan meneruskannya header berikut:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/_a/mh/zz/_amhzzcwmae7goctptz7hobpnwa.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">Feature-Policy: geolocation 'none'</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">banyak keuntungan </font><font style="vertical-align: inherit;">menggunakan header </font><font style="vertical-align: inherit;">dalam hal keamanan dan kinerja. </font><font style="vertical-align: inherit;">Tapi saya sekarang terutama suka bagaimana </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda bisa menggunakannya untuk membuat masalah kinerja situs web yang biasanya mudah diabaikan lebih terlihat. </font><font style="vertical-align: inherit;">Ini dapat dibandingkan dengan sesuatu seperti "linting kinerja." </font><font style="vertical-align: inherit;">Secara khusus, kita berbicara tentang mengidentifikasi masalah dengan gambar yang digunakan dalam proyek web.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebijakan gambar terlalu besar</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika gambar ditransmisikan ke browser dalam format yang didukungnya, gambar seperti itu akan ditampilkan. Ini adalah perilaku browser standar. Peramban, yang mencoba membantu mereka yang melihat halaman, juga secara otomatis mengukur skala gambar tersebut. Oleh karena itu, mereka terlihat baik walaupun diwakili oleh file grafik besar. Akibatnya, jika Anda menggunakan gambar yang lebih besar dari ukuran yang dibutuhkan oleh halaman, maka ini, pada pandangan pertama, tidak terlihat. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebijakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direktif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font><code>oversized-images</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memberitahu browser bahwa itu tidak boleh mengizinkan penggunaan gambar yang ukurannya melebihi, dengan jumlah tertentu kali, ukuran wadah mereka. </font><font style="vertical-align: inherit;">Gambar, sesuai dengan batasan standar, tidak boleh lebih dari 2 kali wadah. </font><font style="vertical-align: inherit;">Tetapi nilai ini, jika perlu, dapat didefinisikan ulang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, jika browser menerima tajuk berikutnya, itu tidak akan memungkinkan Anda untuk menampilkan gambar yang diambil dari sumber apa pun (ini diatur terima kasih </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), dimensi yang lebih dari 2 kali ukuran wadah mereka (lebar atau tinggi).</font></font><br>
<br>
<pre><code class="plaintext hljs">Feature-Policy: oversized-images 'none';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membutuhkan lebih banyak fleksibilitas, Anda dapat memberi tahu browser bahwa peramban tidak boleh menampilkan gambar yang lebih dari 3 kali lebih besar dari wadah:</font></font><br>
<br>
<pre><code class="plaintext hljs">Feature-Policy: oversized-images *(3) 'none';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, jika gambar tidak sesuai dengan batas yang ditentukan, tulisan rintisan akan ditampilkan sebagai ganti gambar, dan pesan kesalahan akan dikirim ke konsol.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c98/1e3/169/c981e3169d9219c226c13236f198c222.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika situs menggunakan kebijakan gambar-besar, gambar besar akan diunggah, tetapi tulisan rintisan akan ditampilkan, dan pesan kesalahan akan ditampilkan di konsol</font></font></font></i><br>
 <br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar tidak dioptimalkan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah umum lainnya dengan grafik adalah penggunaan gambar yang tidak dioptimalkan. Cukup sering Anda dapat menemukan gambar yang tidak cukup dikompres. Ukurannya, bagaimanapun, dapat dipilih dengan benar. Jadi, untuk file dengan foto, saat memotret dan membuatnya, banyak metadata yang tidak perlu dapat ditambahkan, yang sering tetap dalam file dan saat digunakan di browser. Salah satu contoh yang sangat menyebalkan dari ini adalah gambar, metadata yang berisi gambar mini mereka sendiri untuk pratinjau. Berkali-kali saya melihat bagaimana thumbnail yang disematkan pada gambar (keberadaan yang bahkan tidak diketahui oleh desainer dan pengembang), "lebih berat" daripada gambar itu sendiri!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antara lain, di sini Anda dapat mengingat kompresi gambar yang biasa, didukung oleh banyak format, yang memungkinkan Anda untuk mencapai keseimbangan sempurna antara kualitas gambar dan ukuran file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unoptimized-lossy-gambar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unoptimized-lossless-gambar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kebijakan </font><font style="vertical-align: inherit;">membiarkan tahu browser itu cocok ukuran file dan ukuran gambar dalam piksel.</font></font><br>
<br>
<pre><code class="plaintext hljs">Feature-Policy: unoptimized-lossy-images 'none';<font></font>
Feature-Policy: unoptimized-lossless-images 'none';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika jumlah byte per pixel (Byte-per-pixel, BPP) terlalu tinggi, maka browser akan menampilkan tulisan rintisan alih-alih gambar dan menampilkan pesan kesalahan di konsol.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/347/215/e57/347215e574f0574312eff1d6737b8d9e.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menerapkan kebijakan yang tidak dioptimalkan- * menyebabkan tulisan rintisan ditampilkan alih-alih gambar yang tidak pantas - seperti halnya menggunakan kebijakan gambar yang besar,</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
level BPP yang disarankan untuk gambar terkompresi yang hilang adalah 0,5, dan 1 untuk gambar yang dikompresi tanpa kehilangan. Selain itu, saat menganalisis gambar, sedikit penyimpangan ukuran totalnya dari level ini diperbolehkan. Sekarang penyimpangan ini untuk gambar yang dikompresi dengan kerugian adalah 1 Kb, untuk gambar yang dikompresi tanpa kehilangan - 10 Kb.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, misalkan kita memiliki gambar JPEG 200x200 piksel. JPEG adalah format kompresi gambar yang hilang, menghasilkan tingkat BPP yang disarankan sebesar 0,5. Pada saat yang sama, ukuran gambar total dapat melebihi ukuran yang disarankan hanya 1 Kb. Untuk mengetahui ukuran gambar yang sesuai dengan peramban, Anda perlu mengalikan dimensi sisi gambar dalam piksel satu sama lain dan dengan BPP, dan kemudian menambahkan penyimpangan yang diizinkan untuk apa yang terjadi. </font></font><br>
<br>
<code>(200 x 200 x .5) + 1024 = 21,024</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">byte, atau </font></font><code>20.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kb </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika gambar dikompresi tanpa kehilangan, maka penyimpangan dari ukuran "ideal" 10 Kb diperbolehkan, sedangkan BPP gambar seperti itu adalah 1. Jika tidak, perhitungannya terlihat persis sama: </font></font><br>
<br>
<code>(200 x 200 x 1) + 10,240 = 50,240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">byte, atau </font></font><code>49.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kb</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ukuran deviasi yang diizinkan kemungkinan akan berubah di masa depan. </font><font style="vertical-align: inherit;">Faktanya, meskipun Blink, secara default, menggunakan indikator ini untuk gambar yang dikompres tanpa kehilangan, sama dengan 10 Kb, percobaan sudah berjalan dengan kebijakan </font></font><code>unoptimized-lossless-images-strict</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengubah indikator ini, menurunkannya ke level 1 Kb.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Media tidak ditentukan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang baru adalah yang lama terlupakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk waktu yang lama penggunaan atribut gambar </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itu lebih atau kurang umum. Tanpa atribut ini, browser tidak tahu berapa banyak ruang yang harus ditempati gambar sampai saat gambar dimuat. Hal ini menyebabkan pergeseran tata letak halaman. Halaman ditampilkan, dan kemudian, setelah gambar tiba, isinya bergeser. Browser sekali lagi harus menghitung tata letak untuk mengalokasikan ruang untuk gambar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika tiba saatnya tata letak di mana ukuran gambar harus diubah ukurannya secara fleksibel menggunakan CSS, ada atau tidaknya atribut ini tidak lagi memainkan peran khusus. Akibatnya, banyak yang berhenti menggunakan atribut ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun berkat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerja terbaru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diprakarsai oleh Jen Simmons, Firefox dan Chrome dapat menghitung rasio aspek gambar berdasarkan atribut </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ketika pendekatan ini dikombinasikan dengan gaya yang diterapkan pada gambar, ternyata browser dapat menyediakan ruang untuk gambar selama bagian awal tata letak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebijakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unsized-media</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memberitahu browser bahwa semua elemen media harus memiliki atribut yang menentukan ukuran elemen-elemen ini. Jika tidak ada atribut seperti itu, browser harus menggunakan nilai default. Semuanya, pada kenyataannya, sedikit lebih rumit, tetapi intinya adalah bahwa jika gambar tidak memiliki atribut yang sesuai, browser menggunakan nilai </font></font><code>300x150</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">piksel </font><font style="vertical-align: inherit;">standar </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="plaintext hljs">Feature-Policy: unsized-media 'none';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika kebijakan ini diterapkan, gambar akan ditampilkan, tetapi jika ukurannya tidak ditentukan dalam HTML, pengembang akan segera melihat bahwa gambar ditampilkan dalam ukuran default. Dan, seperti biasa, pesan kesalahan akan dikirim ke konsol.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4b/b8a/4c5/a4bb8a4c52a7267ef162a8a8244c0f9a.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penerapan kebijakan unsized-media mengarah pada fakta bahwa gambar dan video tanpa atribut tinggi dan lebar ditampilkan, tetapi browser menetapkan ukurannya menjadi 300x150 piksel.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mungkin, ada baiknya menyebutkan satu fitur yang tampak tidak biasa bagi saya pada awalnya. </font><font style="vertical-align: inherit;">Dia menunjukkan dirinya ketika berbagi kebijakan</font></font><code>unsized-media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>oversized-images</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dalam situasi ini, orang tidak perlu terkejut dengan penampilan lebih dari sebelumnya, jumlah pesan tentang gambar terlalu besar. </font><font style="vertical-align: inherit;">Faktanya adalah bahwa karena penerapan kebijakan,</font></font><code>unsized-media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">browser mengubah ukuran gambar yang tidak memiliki atribut</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hingga</font></font><code>300x150</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">piksel. </font><font style="vertical-align: inherit;">Setelah itu ukuran ini yang digunakan browser sebagai titik referensi untuk menentukan apakah gambar cocok dengan wadahnya.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menarik perhatian pada masalah yang kurang terlihat</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kebijakan yang berhubungan dengan gambar, saya menyukai kenyataan bahwa mereka, dalam proses pengembangan proyek, memungkinkan untuk membuat apa yang biasanya tersembunyi terlihat. Akibatnya, pengembang mengetahui bahwa ia tidak berhati-hati dalam mengoptimalkan gambar, atau bahwa ia lupa mengatur atribut </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Semua kesalahan ini segera tercermin dalam tampilan halaman. Bahkan, keuntungan utama menggunakan kebijakan di atas adalah bahwa mereka memungkinkan pengembang untuk dengan cepat menemukan masalah dengan gambar. Sementara politik</font></font><code>unsized-media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat menyebabkan penurunan jumlah situasi di mana "pergeseran" tata letak halaman terjadi, penggunaan kebijakan lain tidak mencegah pemuatan gambar yang tidak pantas. Akibatnya, satu-satunya titik kuat menerapkan kebijakan ini adalah bahwa mereka menarik perhatian pengembang ke masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa kebijakan lain yang mungkin berguna dalam hal menganalisis halaman untuk dampak sesuatu pada kinerja mereka. Di sinilah kebijakan seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">skrip sinkronisasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muncul </font><font style="vertical-align: inherit;">(kebijakan ini memblokir eksekusi skrip sinkron), </font></font><code>sync-xhr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(memblokir permintaan AJAX yang sinkron) dan </font></font><code>document-write</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(memblokir panggilan </font></font><code>document.write</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebijakan ini adalah alat yang hebat untuk mengendalikan aspek tertentu dari kinerja halaman, tetapi mereka sendiri tidak memberikan pengembang dengan umpan balik nyata yang sama yang diberikan oleh banyak kebijakan di atas dalam bentuk gambar yang hilang. Tentu saja, jika halaman tersebut memiliki skrip sinkron, yang tanpanya tidak ditampilkan, maka ini tidak mudah untuk dilewatkan (dan halaman tersebut tidak begitu sulit ditemukan). Tetapi kebijakan ini biasanya menunjukkan kesalahan dalam bentuk pesan yang ditampilkan di konsol. Dan sejujurnya, saya curiga sebagian besar pengembang tidak terlalu memperhatikan konsol (saya pikir kita semua harus lebih berhati-hati tentang konsol). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, bagaimanapun, kita dapat membuat kesalahan yang terdeteksi oleh kebijakan "tak terlihat" jauh lebih terlihat menggunakan API</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server Pelaporan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk memantau pelanggaran dan untuk menampilkan pemberitahuan yang relevan di halaman. </font><font style="vertical-align: inherit;">Pemberitahuan semacam itu dapat dibuat sangat nyata.</font></font><br>
<br>
<pre><code class="plaintext hljs">let reportingAlerts = document.createElement('ul');<font></font>
&nbsp;&nbsp;reportingAlerts.setAttribute('id','reportingAlerts');<font></font>
&nbsp;&nbsp;document.body.appendChild(reportingAlerts);<font></font>
<font></font>
const alertBox = document.getElementById('reportingAlerts');<font></font>
<font></font>
new ReportingObserver((reports, observer) =&gt; {<font></font>
&nbsp;&nbsp;let fragment = document.createDocumentFragment();<font></font>
&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;Object.keys(reports).forEach(function(item) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;let li = document.createElement('li');<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;li.textContent = reports[item].body.message + ': ' + reports[item].body.featureId;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;fragment.appendChild(li);<font></font>
&nbsp;&nbsp;});<font></font>
&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;alertBox.appendChild(fragment)<font></font>
}, {types: ['feature-policy-violation'], buffered: true}).observe();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya membuat sketsa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di CodePen </font><font style="vertical-align: inherit;">tentang bagaimana ini terlihat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2bd/c18/c8a/2bdc18c8a9bb20db1f18a9e095be4b8e.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh bagaimana Anda dapat menampilkan pemberitahuan pelanggaran kebijakan yang ditentukan oleh tajuk Kebijakan-Fitur. </font><font style="vertical-align: inherit;">Pemberitahuan tersebut dirancang untuk keluaran di lingkungan pengembangan, atau di mana proyek disiapkan untuk keluaran untuk produksi.</font></font></font></i><br>
 <br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangi penggunaan header Fitur-Kebijakan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kelemahan besar menggunakan header </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah dukungannya oleh browser. </font><font style="vertical-align: inherit;">Rupanya, sekarang hanya didukung oleh browser berbasis Blink (Opera, Edge, Chrome, Samsung). </font><font style="vertical-align: inherit;">Browser Firefox dan Safari mendukung atribut </font></font><code>allow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk item </font></font><code>iframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi meskipun </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">didukung, untuk memastikan kesehatan banyak kebijakan, Anda harus mengaktifkan bendera </font></font><code>Experimental Web Platform features</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Anda dapat menemukannya di alamat </font></font><code>about:flags</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana Saya Menggunakan Header Kebijakan-Fitur</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kurangnya gelar itu </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang disebutkan di atas, bagi saya pribadi bukanlah masalah khusus. Saya lebih suka menggunakan kebijakan yang ditetapkan oleh header ini sebagai pemeriksa halaman berbasis browser. Karenanya, saya tidak perlu berusaha untuk menerapkan </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam produksi, atau untuk memastikan bahwa kebijakan berfungsi untuk semua pengguna saya. Mereka hanya dibutuhkan oleh saya, dan juga oleh mereka yang mengembangkan situs. Saya, dalam hal apa pun, menggunakan Chrome sebagai browser utama dalam proses pengembangan. Oleh karena itu, memastikan kinerja </font></font><code>Feature-Police</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di lingkungan kerja saya adalah mengaktifkan tanda yang sesuai. Setelah ini, para politisi bekerja tanpa campur tangan saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menemukan bahwa cara termudah untuk menggunakan header adalah </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan ekstensi browser</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModHeader</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ekstensi ini memungkinkan Anda untuk mengatur pos Anda sendiri yang diteruskan ke halaman ketika dilihat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c9/ec2/33b/9c9ec233b6a3913a5e584335ac43a344.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi ModHeader memungkinkan Anda untuk mengonfigurasi opsi header Fitur-Kebijakan. </font><font style="vertical-align: inherit;">Mereka dapat dinyalakan dan dimatikan, jika diinginkan</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Saya memiliki tiga set nilai header</font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang secara berkala saya gunakan:</font></font><br>
<br>
<ul>
<li><code>oversized-images 'none'; unoptimized-lossy-images 'none'; unoptimized-lossless-images 'none';</code></li>
<li><code>unsized-media 'none'; oversized-images 'none'; unoptimized-lossy-images 'none'; unoptimized-lossless-images 'none';</code></li>
<li><code>script-sync 'none'; unsized-media 'none'; oversized-images 'none'; unoptimized-lossy-images 'none'; unoptimized-lossless-images 'none';</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sering menyalakan yang pertama. Sangat menyenangkan untuk melakukan perjalanan melalui halaman web yang menerapkan kebijakan di dalamnya. Sangat menakutkan untuk melihat seberapa besar beberapa gambar. Ada banyak hal di web modern yang bisa diperbaiki. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, politik sangat sering dipicu pada halaman </font></font><code>unsized-media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(dan saya juga berdosa dengan ini), sehingga penggunaannya selama kerja normal di Internet tidak nyaman. Itulah sebabnya saya menekankannya dalam kebijakan terpisah, yang dapat saya nyalakan dan matikan. Hal yang sama berlaku untuk kebijakan </font></font><code>sync-scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aplikasi yang "menghancurkan" banyak situs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa tim tempat saya bekerja mulai menggunakan kebijakan yang saya jelaskan selama pengembangan. </font><font style="vertical-align: inherit;">Ini memungkinkan mereka untuk dengan cepat memperhatikan masalah yang sebelumnya tidak terlihat. </font><font style="vertical-align: inherit;">Tentu saja, saya sarankan untuk memasukkan semua kebijakan </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di lingkungan pengembangan, yang memungkinkan Anda untuk dengan cepat mengidentifikasi dan memperbaiki kesalahan.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya berharap bahwa dukungan </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan muncul, sebagai akibatnya, tidak hanya di Chrome. </font><font style="vertical-align: inherit;">Meskipun ini adalah browser utama saya, saya harus menggunakan browser lain juga. </font><font style="vertical-align: inherit;">Akan sangat membantu jika mereka mendukung </font></font><code>Feature-Policy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi di sini, bagaimanapun, kita melihat bahwa situasi langka ketika bahkan dukungan eksperimental dari kesempatan tertentu sudah cukup untuk itu menjadi manfaat nyata. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah kinerja yang halus juga merupakan masalah. </font><font style="vertical-align: inherit;">Dan kemampuan untuk membuat masalah seperti itu lebih terlihat adalah salah satu metode terbaik yang dapat digunakan pengembang untuk mengidentifikasi dan memperbaikinya. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda berencana untuk menggunakan tajuk Kebijakan-Fitur untuk mengidentifikasi masalah yang tidak mencolok dalam proyek web?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490612/index.html">Pendekatan fungsional untuk transaksi di Scala atau tulis monad Anda sendiri yang bermanfaat</a></li>
<li><a href="../id490616/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 404 (24 Februari - 1 Maret 2020)</a></li>
<li><a href="../id490618/index.html">Goroutine Stack Buffer</a></li>
<li><a href="../id490620/index.html">Ketika saya mendengar kata-kata "memulihkan jaringan saraf", saya memanjat untuk memeriksa cadangan</a></li>
<li><a href="../id490622/index.html">Memerangi kebocoran memori dalam aplikasi web</a></li>
<li><a href="../id490626/index.html">Panduan lengkap untuk data- * atribut HTML</a></li>
<li><a href="../id490628/index.html">Apa yang harus dilakukan ketika CSS memblokir parsing halaman?</a></li>
<li><a href="../id490630/index.html">Memuat NumPy Array dari Disk: Perbandingan memmap () dan Zarr / HDF5</a></li>
<li><a href="../id490634/index.html">Acara digital di Moskow dari 2 hingga 8 Maret</a></li>
<li><a href="../id490636/index.html">Acara digital di St. Petersburg dari 2 hingga 8 Maret</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>