<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎤 🎭 🕺🏻 Legend of Zeldaの画面遷移は文書化されていないNESの機能を使用します 👃 💂🏼 🤦🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="「ゼルダの伝説」の最初の部分の垂直スクロールの効果については、グラフィックスハードウェアによるNES操作が使用されていますが、コンソール開発者によって提供されていない可能性が高いです。
 
 
 私はNESコンソールの画像処理装置（PPU-グラフィックチップ）の公式ドキュメントにアクセスできないため...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Legend of Zeldaの画面遷移は文書化されていないNESの機能を使用します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460383/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ゼルダの伝説」の最初の部分の垂直スクロールの効果については、グラフィックスハードウェアによるNES操作が使用されていますが、コンソール開発者によって提供されていない可能性が高いです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/631/466/3d0/6314663d04d4e3ed0d86c7e6d9b8611a.png" width="512"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はNESコンソールの画像処理装置（PPU-グラフィックチップ）の公式ドキュメントにアクセスできないため、「不確定な動作」についての私の発言は推測される可能性が高くなります。グラフィックハードウェアの仕様は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NesDev Wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">取得しました</font></a><font style="vertical-align: inherit;">。 PPUは、メモリマッピングでレジスタに書き込むことによって制御されます。これらのレジスターをデザイナーが考えた（思われる）方法で使用すると、この効果を達成することは不可能になります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/b0e/51c/8a5b0e51c195fb1e9ba9ca282f54e61a.gif" width="512"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面を垂直にスクロールすると、画面全体が一度にスクロールするはずです。</font><font style="vertical-align: inherit;">前のGIFは、部分的な垂直スクロールの例を示しています。</font><font style="vertical-align: inherit;">画面の一部は静止したまま（インターフェース要素）、他の部分（ゲーム領域）は垂直方向にスクロールします。</font><font style="vertical-align: inherit;">部分的な垂直スクロールは、PPUの「標準」の作業では実装できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対照的に、部分的な</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">水平</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクロールは完全に定義されており、可能です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae7/c29/539/ae7c295393f6706e17e788e0a1cc39e7.gif" width="512"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームが描画されるときに別のPPUレジスタに書き込むと、グラフィックアーティファクトが発生する可能性があります。</font><font style="vertical-align: inherit;">ゼルダの伝説は、部分的な垂直スクロールとして現れるアーティファクトを意図的に引き起こします。</font><font style="vertical-align: inherit;">この投稿では、NESグラフィックハードウェアについて少しお話しし、垂直スクロールの仕組みについて説明します。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックの種類</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NESコンソールには2種類のグラフィックがあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スプライトは、画面上の任意の場所に配置でき、互いに独立して移動できるタイルです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景-1つの画像としてスムーズにスクロールできるタイルのグリッド。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらの違いを示すために、スプライトと背景で構成されるシーンを示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f75/f9b/138/f75f9b138db2e818cbdb9b2fb1e7b27b.gif" width="512"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これはスプライトだけが見える同じシーンです：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e8/26d/817/5e826d817b637fc450046aee1473abaf.gif" width="512"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これは背景だけが見えるシーンです：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d81/b9c/bd7/d81b9cbd7bb5101f663d4decc5ebaef7.gif" width="512"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクロール</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像プロセッサ（NES画像プロセッサ）は、背景画像のスクロールをサポートしています。ビデオメモリでは、背景グラフは、画面の幅と高さの2倍の領域をカバーするタイルの2次元グリッドとして保存されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このグリッドの画面サイズで「ウィンドウ」が画面に表示され、このウィンドウの位置を正確に制御できます。グリッドに沿って表示ウィンドウを徐々に移動することにより、スムーズなスクロール効果が作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力NESビデオ信号のサイズは256x240ピクセルです。メモリ内のタイルのグリッドは、512x480ピクセルの領域として表され、「名前テーブル」と呼ばれる画面サイズの4つの長方形に分割されます。ゲームは、名前テーブルグリッドでピクセル座標を選択して可視ウィンドウの位置を示すことにより、画像処理ユニット（PPU）を構成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
座標（0、0）を選択すると、左上の名前のテーブル全体が画面に表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d3/b5d/47f/5d3b5d47f8efdfcac271a2a7e0222e57.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（125、181）に移動すると、名前の各テーブルから少し見えます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/912/78f/189/91278f1891416d9f15a69238e64d1422.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可視ウィンドウは、メモリ内のタイルグリッドの背面に最小化されます。</font><font style="vertical-align: inherit;">（342、290）に移動して、表示画面の左上隅を右下の名前のテーブルの内側に配置します。折りたたみのおかげで、各名前のテーブルの一部が表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e6/394/c93/6e6394c9325985807a97765ebe015bcf.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリーが充分ではありません！</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各名前テーブルのサイズは1 KBですが、NESはこれらのテーブルに2 KBのビデオメモリしか割り当てないため、一度にメモリに収まる名前テーブルは2つだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうすれば4つの名前テーブルを持つことができますか？</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前テーブルのミラーリング</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビデオメモリはPPUに接続され、PPUが4つの名前テーブルのいずれかのタイルをレンダリングするときに、2つの実際のテーブルの1つが実際に選択され、そこから読み取りが行われます。本質的に、これは、4つの表示される名前テーブルが、実際には2つの同じペアのテーブルで構成されることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この画像は、4つのテーブルすべての内容のスナップショットを示しています。左上と右上は下の2つと同じです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/051/5b8/9b2/0515b89b2afcf122ce8df6e97e97a0a8.png" width="1024"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、なぜ2つの名前テーブルを保持しないのですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸いなことに、見かけのテーブルと実際のテーブルの間の正確なバインディングは、実行時に構成できます。</font><font style="vertical-align: inherit;">ゲームが水平スクロールを実行したい場合は、左上と右上のテーブルが異なるようにグラフィック機器を調整し、目立つ重複なしにスクロールできるようにします。</font><font style="vertical-align: inherit;">この構成では、左上と左下のテーブルは同じ実名テーブルを参照します。</font><font style="vertical-align: inherit;">右の2つのテーブルについても同様です。</font><font style="vertical-align: inherit;">この構成は、垂直ミラーリングと呼ばれます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/d85/49d/1e3d8549d5427f7f7271595dc5c6f49b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の可能な構成もあります-ゲームが垂直スクロールに使用する「水平ミラーリング」。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/650/6a2/528/6506a2528cba5d758301f72c80f48e8b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、ゲームは斜めにスクロールしません。これは、名前テーブルのミラーリングが原因で画面の端にアーティファクトが作成されるためです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カートリッジ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ゲームのカートリッジには、テーブルミラーリングを構成するためのハードウェアがあります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a44/8ed/3dc/a448ed3dc3849ac558d39ba0bfc5309d.jpg" width="50%"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のゲームではミラーリングをまったく切り替える必要がないため、水平ミラーリングまたは垂直ミラーリングがカートリッジにハードコーディングされています。</font><font style="vertical-align: inherit;">他のゲームはこれら2つのモードを動的に切り替えるため、カートリッジのミラーリングはプログラムで構成されます。</font><font style="vertical-align: inherit;">ゼルダの伝説は、2番目のカテゴリに属しています。</font><font style="vertical-align: inherit;">最後に、いくつかの本当に複雑なゲームのカートリッジは、追加のビデオメモリを備えています。つまり、ミラーリングをまったく必要としません。目に見える複製のアーチファクトなしに、垂直方向と水平方向に同時にスクロールできます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際の例</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0a/d58/80e/d0ad5880e16ce58d53ee2eb922c4da04.gif" width="512"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面に表示される垂直スクロールの例。</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bb/ff0/b01/7bbff0b019dadb96e423ebc744aeb12c.gif" width="1024"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、水平ミラーリングを使用した名前テーブルのレコードを示しています。</font><font style="vertical-align: inherit;">現在表示されているウィンドウが強調表示されます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
垂直スクロール自体は珍しいことではないことに注意してください。異常なのは、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分割画面での</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">垂直スクロール</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面を分割</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NESによって生成されたビデオ信号の各フレームは、上から下に、一度に1行のピクセルでレンダリングされます。</font><font style="vertical-align: inherit;">各行で、ピクセルは左から右に一度に1つずつ描画されます。</font><font style="vertical-align: inherit;">フレームをレンダリングする途中で、ゲームはPPUを再構成できます。これは、まだレンダリングされていないピクセルの表示に影響します。</font><font style="vertical-align: inherit;">フレームの中央で最も一般的な変更の1つは、水平スクロール位置の更新です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/873/536/98f/87353698fa1a10a55f37d5f56ebfaefd.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/502/8e9/c645028e950b7e202815d7c4ad560fac.gif" width="1024"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
部屋間を水平にスクロールする場合、ゼルダの伝説は常にスクロール位置（0、0）から始まり、画面の上部にインターフェース要素をレンダリングします。画面にインターフェイスピクセルの最後の行を描画した後、カメラがスムーズに移動するために、水平スクロールはフレームごとに増加する値によって変化します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
名前テーブルの表示のアニメーションは、ゲームがスクロール前に水平ミラーリングから垂直ミラーリングに切り替わり、遷移が完了した後、再び水平ミラーリングに切り替わる様子を示しています。さらに、スクロールが続く間、左上（および左下）の名前テーブルが更新され、プレイヤーが入力した部屋のコピーがそこに書き込まれます。スクロールが完了すると、ゲームは画面の分割を中止し、再び左上のテーブルから完全にレンダリングされます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レンダリング測定</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面を希望の位置に分割するには、現在のフレームのどの部分が描画されたかをゲームが何らかの方法で見つける必要があります。</font><font style="vertical-align: inherit;">ピクセルの行は既知の頻度でレンダリングされるため、レンダリングされたピクセルの行の数は、フレームの開始以降に経過したプロセッササイクルの数をカウントすることによって決定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sprite Zero Hitと呼ばれるもう1つのより正確な手法があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NESは一度に最大64個のスプライトをレンダリングできます。</font><font style="vertical-align: inherit;">ビデオメモリの最初のスプライトは、Sprite Zero（ゼロスプライト）と呼ばれます。</font><font style="vertical-align: inherit;">各フレームで、ゼロスプライトの不透明ピクセルが不透明背景ピクセルに重ねられるとすぐに、スプライトゼロヒットイベントが発生します。</font><font style="vertical-align: inherit;">これは、メモリマッピングを使用してPPUレジスタの1つにビットを設定します。これは、プロセッサで確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スプライトゼロヒットを使用して画面を分割するために、ゲームは分割ボーダーの近くの垂直位置にゼロスプライトを配置し、レンダリング中に常にスプライトゼロヒットイベントが発生したかどうかを確認します。</font><font style="vertical-align: inherit;">その場合、ゲームは水平スクロールから分離を実装するように切り替わります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
背景がある部屋とない部屋の間の水平方向の遷移を以下に示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/71b/27a/076/71b27a0768844603020981c26b3f5124.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c4/4c1/95d/2c44c195dfac0b6c2d6b10aaf11674aa.gif" width="512"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランジションの最初に現れ、最後に消える茶色の円は、ゼロスプライトです。</font><font style="vertical-align: inherit;">背景がある場合とない場合のインターフェースを詳しく見ていきます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39b/373/83d/39b37383d425937e8e5cdb598656bac5.png" width="322"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7d/6f9/ebe/c7d6f9ebeb7c7e066e6d349eb8c57914.png" width="322"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゼロスプライトは、ゲームインターフェイスからの通常の爆弾スプライトと完全に一致する、漂白された爆弾スプライトです。</font><font style="vertical-align: inherit;">ゼロスプライトは背景の下に表示されるように構成されていますが、インターフェイスの黒いピクセルは透明と見なされるため、インターフェイスから爆弾の背後に戦略的に隠されていなければ、ゼロスプライト爆弾が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スプライトゼロヒットは、インターフェイスの最下行の数ピクセル前に発生することに注意してください。</font><font style="vertical-align: inherit;">爆弾のヒューズの上部ピクセルで発生します。これは、インターフェースの下部から16ピクセルです。</font><font style="vertical-align: inherit;">スプライトゼロヒットが発生すると、ゲームはプロセッササイクルのカウントを開始し、必要なサイクル数の完了後、水平スクロールを設定します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビームブランキング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの場合、コンソールPPUは画面にピクセルを描画します。</font><font style="vertical-align: inherit;">描画が実行されないフレーム間の短いダウンタイムがあります。</font><font style="vertical-align: inherit;">この現象はブランキング（垂直ブランク、またはvblank）と呼ばれます。</font><font style="vertical-align: inherit;">一部のタイプのPPU構成変更は、vblank中にのみ行うことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクロールレジスタ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲーム</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、メモリアドレスにマップされている</font><font style="vertical-align: inherit;">名前</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">PPUレジスタに書き込むことによって、スクロールの位置を変更し</font><font style="vertical-align: inherit;">ます</font></font><code>0x2005</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">の最初の書き込み操作</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はスクロール位置のコンポーネントXを定義し、2番目の操作はコンポーネントYを設定します。同様に、代替記録がさらに実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ゲームのプロットを含むこの再生（スローモーション）中の16フレームの画面における</font><font style="vertical-align: inherit;">すべてのゼロ以外の記録操作を示し</font><font style="vertical-align: inherit;">ています。</font><font style="vertical-align: inherit;">スクロール位置コンポーネントYは、2フレームごとに増分されます。</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この例の</font><font style="vertical-align: inherit;">すべての書き込み操作</font><font style="vertical-align: inherit;">は、vblank中に実行されます。これにより、背景全体がスクロールされます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cad/0d1/003/cad0d1003d55488a17d988e6607739f2.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1bc/ffb/c09/1bcffbc09db9bfe792ba85981acbe4b3.gif" width="1024"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kg/rz/fi/kgrzfigaydwrvo3qqth5bcmkecq.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクロール画面分割</font></font></h3><br><font style="vertical-align: inherit;"></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vblank中の</font><font style="vertical-align: inherit;">
書き込み操作は</font><font style="vertical-align: inherit;">、vblankの直後に描画されたフレームの先頭で有効になります。</font><font style="vertical-align: inherit;">フレームのレンダリング中にスクロール位置が変更された場合（つまり、vblank中に変更されなかった場合）、この変更は、図面が次のピクセル行に達したときに有効になります。</font><font style="vertical-align: inherit;">部分的な水平スクロールは</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、PPUデバイスがスクロールする前に最後のピクセル行を描画するときに</font><font style="vertical-align: inherit;">記録することによって実装され</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddf/e12/b49/ddfe12b49ce180cb921243f32e77351a.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4be/38c/0bb/4be38c0bb335a414ce99a2c8d2145009.gif" width="1024"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/uu/1t/cuuu1twsw4wbeynzisaewszsqo8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームの中央のスクロール位置を更新する場合、スクロール位置のXコンポーネントのみが適用されます。</font><font style="vertical-align: inherit;">つまり、スクロール位置成分Ｙは破棄される。</font><font style="vertical-align: inherit;">したがって、ゲームが画面を分割して、フレームのスクロール部分の位置を変更したい場合、水平方向にしかスクロールできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでも：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a0/93e/4b7/1a093e4b76c8382f08d33b4202391094.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/184/2b0/7601842b02f37dc10abd97b93e0a9ec2.gif" width="1024"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信じられないかもしれませんが、この遷移の間、レジスターの値は</font></font><code>PPUSCROLL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変化しませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェースの下に1ピクセルの高さのグラフィカルアーティファクトが表示されます。</font><font style="vertical-align: inherit;">これは、プロセッサーのクロックサイクルとピクセル単位のレンダリングの同期が取れていないことが原因である、私のエミュレーターのバグです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のレジスターへの介入</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
名前の下の2番目のレジスタ</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、メモリアドレスにマップさ</font></font><code>0x2006</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れ、現在のビデオメモリアドレスを設定するために使用されます。たとえば、ゲームが名前テーブルのタイルの1つを変更する場合、最初にタイルのビデオメモリアドレスをに</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書き込み、次に</font><font style="vertical-align: inherit;">タイル</font><font style="vertical-align: inherit;">の新しい値を書き込み</font></font><code>PPUDATA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font><code>0x2007</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、アドレスにマップされる3番目のレジスタ</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オフラインへの書き込み</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（フレームをレンダリングするとき、すなわち）VBLANK中にはグラフィカルなアーチファクトを引き起こす可能性があります。これは、への書き込みの影響を受けるPPUチェーンも、</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらを描画するためにビデオメモリからタイルを取得するプロセスでPPUデバイスによって直接制御されるためです。画面へのレンダリングプロセスは、上から下、および行内の左から右に実行されるため、PPUは基本的に</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在レンダリングされているタイルのアドレスの値。レンダリングがあるタイルから別のタイルに移動</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると、現在の値が増分されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームの中央で</font><font style="vertical-align: inherit;">記録する</font><font style="vertical-align: inherit;">と、現在のフレームの期間中、PPUがメモリから受け取ったタイルを変更できます。</font><font style="vertical-align: inherit;">垂直遷移中に</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
書き込み操作を取得しましょう</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。移行中に名前テーブルも更新されるため、への</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書き込み操作の</font><font style="vertical-align: inherit;">出力は</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常に広範囲になります。水平遷移の場合、ピクセルの行63のレンダリング中にスクロールが設定されるため、</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この行</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">のみ</font><font style="vertical-align: inherit;">書き込み操作を検討し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a0/93e/4b7/1a093e4b76c8382f08d33b4202391094.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/184/2b0/7601842b02f37dc10abd97b93e0a9ec2.gif" width="1024"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3b/w0/iw/3bw0iwoau9zl8frbuh-mgh78-ia.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パターンがはっきりと見えます。</font><font style="vertical-align: inherit;">２フレームごとに、ピクセル６３の行に記録されたアドレスは、３２（０ｘ２０）だけ減らされる。</font><font style="vertical-align: inherit;">しかし、これは実際のスクロール位置の更新にどのようにつながるのでしょうか？</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクロールレジスタ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PPUの内部には、CPUにマップされていない15ビットのレジスタがあります。</font><font style="vertical-align: inherit;">これは、ビデオメモリにアクセスするための現在のアドレスとバックグラウンドスクロール構成の両方として使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この値をアドレスとして使用する場合、ビット14は無視され、ビット0〜13はビデオメモリ内のアドレスとして扱われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクロール構成と同様にこの値を操作する場合、その異なる部分には異なる意味があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ra/ot/-q/raot-qzjvlglrxraw3kyrpskouk.png"></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前テーブルの選択は</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、図面が作成される現在の名前テーブルを定義する0〜3の値です。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">での</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粗スクロールとYでの粗スクロールにより</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、選択した名前テーブル内のタイルの座標が決まります。これは現在レンダリングされているタイルです。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><strong><font style="vertical-align: inherit;">沿った正確なスクロールに</font></strong><font style="vertical-align: inherit;">は、0〜7の値が含まれ、現在のタイル内のピクセルの行の現在の垂直オフセットを決定します。タイルは、1辺が8ピクセルの正方形です。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xでの正確なスクロール</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、このレジスターにはありません。現在のピクセルの水平オフセットのみを含む別のレジスタがありますが、ゼルダの伝説で垂直スクロールがどのように実行されるかを説明することは重要ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームが書き込みを行うと、このレジスタはどうなり</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますか？上記のデモの最初の3つの書き込み操作を次に示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/nm/km/2b/nmkm2bpk5osxvd1ohc4kmne7ck4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アドレスのエントリをスクロールコンポーネントに分割することにより、ここで何が起こっているかを明確に理解できます。</font><font style="vertical-align: inherit;">2フレームごとに</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Y</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方向</font><font style="vertical-align: inherit;">の</font><strong><font style="vertical-align: inherit;">ラフスクロール</font></strong><font style="vertical-align: inherit;">の値が減少します</font><font style="vertical-align: inherit;">。これにより、1タイルまたは8ピクセルの垂直スクロールになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各フレーム全体で、初期のスクロールオフセットは0.0です。その後、アドレスでピクセルライン63への記録が実行されます。</font><font style="vertical-align: inherit;">つまり、最初の63行のピクセルは、インターフェースの背景を含む選択された名前テーブルの上部から描画されます。</font><font style="vertical-align: inherit;">ただし、64行目のピクセルは、このアドレスから垂直スクロールが適用されてさらにレンダリングされます。</font><font style="vertical-align: inherit;">縦スクロールは2フレームごとに減少するため、画面の一部が縦スクロールしているような感覚になります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下にスクロールして上にスクロール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゼルダの伝説はこのトリックをプレイヤーから完全に隠すことはできません。画面の垂直方向の遷移に目に見えるアーティファクトが作成されます。これは、よく見ると目立ちます。部屋間を移動すると、スクロールアニメーションの最初のフレームが下にスクロールします。これは非常にスローモーションのアニメーションです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af8/a8c/79d/af8a8c79d1b4c50280c31fbf1540852a.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a52/e37/9a6/a52e379a6e5d6dd444fe115d484bb846.gif" width="1024"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
名前の表では、実際に何が起こっているかを確認できます。プレーヤーには表示領域が上方向にスムーズにスクロールするように見えるかもしれませんが、スクロールの遷移は、表示領域を名前の左上のテーブルから部屋の背景のコピーを含む左下のテーブルに移動することから始まります。画面上部のインターフェースも名前テーブルの一部であり、表示領域が元の位置から上にスクロールされると、インターフェースを通過するため、これが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
垂直スクロールは</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、フレームの中央</font><font style="vertical-align: inherit;">にあるレジスタ</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">書き込むことによって実装され</font><font style="vertical-align: inherit;">ます。最初の値が書き込まれ</font></font><code>0x2800</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。 2つのフレームが後で記録され</font></font><code>0x23A0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、その後、値は1フレームごとに32ずつ減少し始めます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pk/la/gh/pklagh4idqhd3jg_mfkojhfv0lq.png"></div><br><font style="vertical-align: inherit;"></font><code>0x2800</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レジスタに</font><font style="vertical-align: inherit;">
値</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">書き込むと、</font><strong><font style="vertical-align: inherit;">名前テーブルセレクタ</font></strong><font style="vertical-align: inherit;">が2に</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定</font><font style="vertical-align: inherit;">され</font><font style="vertical-align: inherit;">、左下の名前テーブルがレンダリングされます。両方のスクロール値は0であるため、この名前テーブルの左上のタイルから開始されます。ただし、</font><strong><font style="vertical-align: inherit;">Y</font></strong><font style="vertical-align: inherit;">での</font><strong><font style="vertical-align: inherit;">正確なスクロール</font></strong><font style="vertical-align: inherit;">は2なので、左下の名前テーブルの上部から2ピクセルの垂直オフセットがあります。そのため、トランジションの最初のフレームでは、画面の下部に2ピクセルの高さの黒いバーが表示されます。トランジションアニメーションの初期スクロール値は、トランジションをシームレスにするために2ピクセル下にシフトされます。</font><font style="vertical-align: inherit;">値の</font><font style="vertical-align: inherit;">
2フレーム後</font><font style="vertical-align: inherit;">が書き込まれ</font><font style="vertical-align: inherit;">ます。これにより、名前の左上のテーブルに戻り、タイルの29行目、つまり一番下からレンダリングします。で</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>PPUADDR</code><font style="vertical-align: inherit;"></font><code>0x23A0</code><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yの正確なスクロール</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はまだ含まれています2. </font><strong><font style="vertical-align: inherit;">Yの正確なスクロール</font></strong><font style="vertical-align: inherit;">を2 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する必要があるのはなぜ</font><font style="vertical-align: inherit;">ですか？理由だけではなく、レコードのゲームはありません</font></font><code>0x0800</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、</font></font><code>0x03A0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2画素に苦しむしないようにオフセット？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4つの名前テーブルがPPUアドレス空間の4 KBの領域を占め</font></font><code>0x2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">てい</font></font><code>0x2FFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。表中の各タイルは、ビデオメモリの1つのバイトを（実際には、彼らは別のテーブルでちょうどインデックスです）占有し、ビデオメモリ内のタイルと名前のテーブルの順序はようなものである</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称テーブル選択</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粗がYにスクロール</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XでのスクロールCoarly</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前テーブルを使用して、メモリ領域内のタイルオフセットを構成します。つまり、内部PPUレジスタの下位12ビットを取り、それらを</font></font><code>0x2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">追加すると</font><font style="vertical-align: inherit;">、ビデオメモリでタイルアドレスを見つけることができます。そして、これは偶然ではありません！これは、レジスタの処理方法とまったく同じです。アドレスレジスタとしても、スクロールレジスタとしてもです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、欠点が1つあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アドレスレジスタとして処理する場合、ビット12および13はアドレスの一部と見なされます。レンダリング中、PPUは常に現在のレンダリングされたタイルのアドレスでレジスタを上書きします。タイルは名前テーブルにあり、テーブルは</font></font><code>0x2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">まで</font><font style="vertical-align: inherit;">のメモリ領域にある</font><font style="vertical-align: inherit;">ため</font></font><code>0x2FFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、PPUはこの間隔からレジスタに値を割り当てます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームが記録しているとき</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームの中央で、名前テーブルにタイルアドレスを書き留めない場合、PPUは</font><font style="vertical-align: inherit;">ビデオメモリ内の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の場所</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から読み取ろうとし</font><font style="vertical-align: inherit;">ます。彼がたまたまカウントしたバイトはタイルとして解釈され、望ましくない結果につながる可能性があります。したがって、フレームの途中で記録されたすべての値が</font></font><code>PPUADDR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">範囲内になければならない</font></font><code>0x2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>0x2FFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。この間隔の各数値を考慮し、そのスクロールコンポーネントを考慮すると</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Yの正確なスクロール</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">は常に2になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この制限は</font><strong><font style="vertical-align: inherit;">、Yの正確なスクロールを</font></strong><font style="vertical-align: inherit;">変更できないことを意味します</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームの中央、つまりこのトリックを使用して垂直スクロールを実装して画面を分割する場合、一度にスクロールできるのは8ピクセルに制限され、タイルの境界から常に2ピクセルの垂直オフセットがあります。</font><font style="vertical-align: inherit;">ゼルダの伝説は、水平にスクロールするとフレームあたり4ピクセル移動しますが、垂直にスクロールするとフレームあたり8ピクセル移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーチファクトは、部屋を下にスクロールしたときにも目立ちますが、この場合、アニメーションの最後に発生します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77d/13b/89a/77d13b89abce5200d348de0379f409e5.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/468/eb2/9c2/468eb29c2eb3a97d7e4dd2a62682f1b9.gif" width="1024"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加の読書</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NesDev Wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、NESハードウェアについて学ぶための非常に貴重なリソースです。</font><font style="vertical-align: inherit;">特に、この投稿のトピックには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPU</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPUレジスタの</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">スクロール</font></a><font style="vertical-align: inherit;">に関するページが含まれています</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まだ完成していないNESエミュレータは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入手でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PPUの内部レジスターを知るまで、私のエミュレーターは「ゼルダの伝説」画面の垂直遷移中の消去の効果を示していました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/932/2a0/a5a/9322a0a5a1522a0ae0f6fbd21080286e.gif" width="512"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1a/078/755/d1a0787558999dd61ec2ba9dc9ba9026.gif" width="1024"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクのスプライトが本来の画面に移動しましたが、背景がスクロールしませんでした。</font><font style="vertical-align: inherit;">消去は、ゲームが新しい部屋のグラフィックを含むように名前テーブルを徐々に更新したが、更新を画面外に保つためにスクロールを更新しなかったという事実が原因でした。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460367/index.html">カオスエンジニアリング：意図的な破壊の芸術。パート1</a></li>
<li><a href="../ja460373/index.html">フードターボページの下で：ウェブページの高速ダウンロード技術のアーキテクチャ</a></li>
<li><a href="../ja460375/index.html">本「ビジネスとマーケティングのための機械学習」</a></li>
<li><a href="../ja460377/index.html">Liquibaseを使用してSpring Bootアプリケーションでデータベース構造を管理する。パート1</a></li>
<li><a href="../ja460381/index.html">主張性とは何か、なぜ必要なのか</a></li>
<li><a href="../ja460387/index.html">SELinux初心者向けガイド</a></li>
<li><a href="../ja460393/index.html">背景：Fedora Silverblueに期待すること</a></li>
<li><a href="../ja460395/index.html">機能としての分析：Pleskでデータを操作するプロセス</a></li>
<li><a href="../ja460397/index.html">WebComponentsのクイックスタート</a></li>
<li><a href="../ja460399/index.html">Vue.jsのSVGプログレスバー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>