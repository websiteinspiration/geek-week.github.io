<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🚀 👈🏿 🤲🏽 Hackeie o Age of Empires III para alterar as configurações de qualidade do shader 👥 👉🏽 ⬇️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No início de maio de 2020 - se você é como eu, a quarentena o fez refazer jogos que não são lançados há muitos anos. 
 
 E se você é ainda mais pareci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hackeie o Age of Empires III para alterar as configurações de qualidade do shader</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500542/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No início de maio de 2020 - se você é como eu, a quarentena o fez refazer jogos que não são lançados há muitos anos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E se você é ainda mais parecido comigo, em algum lugar você pode ter um disco do Age of Empires 3. Talvez esteja jogando em um Mac, talvez ainda não tenha atualizado para a Catalina e gostaria de comandar Morgan Black. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, você inicia o jogo, entra no menu principal e imediatamente percebe que algo está errado ... O menu parece </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nojento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5be/dfa/a66/5bedfaa660037faa86c176d9586f9d1a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você está se perguntando o que exatamente é "nojento", preste atenção à água. </font><font style="vertical-align: inherit;">Todo o resto também é terrível, mas é menos óbvio.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/578/2d3/34f/5782d334f3be69385a0b69072ef6b7ed.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, você entra nas opções, aumenta todos os parâmetros ao máximo ... Mas o jogo ainda é feio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você percebe que as opções </font><font style="vertical-align: inherit;">" </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualidade do sombreador</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">estão </font><font style="vertical-align: inherit;">suspeitamente bloqueadas em " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baixa</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentativa nº 1 - parâmetros de invasão</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse ponto, você começa a procurar a pasta do jogo, que supostamente foi criada em algum lugar da pasta Documents, porque o jogo foi em 2005 e todos fizeram isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que você está procurando? Obviamente, o arquivo no qual os parâmetros estão armazenados. A interface do menu não nos permite alterar as configurações, mas somos complicados, certo? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontramos o XML necessário, porque o jogo é 2005 e, é claro, XML, onde encontramos a opção " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optiongrfxshaderquality</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", que é definida como 0. Parece que estávamos procurando, então aumentamos o valor para 100, porque não há muita qualidade. Aqui eu concordo com você.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61d/de5/d85/61dde5d85e5442f781fe9c4eaeb46a55.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você também pode perceber que esse é um uso terrível do XML. Felizmente, ele não tem bons usos.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Satisfeitos conosco, lançamos o jogo. Infelizmente, nada mudou. Olhando novamente para o arquivo XML, vemos que o parâmetro é novamente definido como 0. O Ensemble Studios (que descanse em paz) parece com desprezo toda a sua engenhosidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poderíamos desistir</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este é um Mac, portanto, é improvável que os patches escritos pelos usuários sejam encontrados (na verdade, verifiquei - existem todos os tipos de soluções duvidosas que podem funcionar). É tudo sobre os gráficos. Parece corrigir o problema será difícil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas não vamos desistir. </font><font style="vertical-align: inherit;">Porque lembramos como deve ser a idade 3. Lembramos como admiramos essa bela água ondulada. </font><font style="vertical-align: inherit;">Esses efeitos de partículas. </font><font style="vertical-align: inherit;">Esses navios enormes que simplesmente não se encaixam no quadro. </font><font style="vertical-align: inherit;">E, é só que a câmera foi ampliada, o que eu estava pensando?</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentativa nº 1 - hackear dados</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No início da pasta em Documentos, há um arquivo de log. O jogo escreveu uma placa de vídeo lá e informou que havia selecionado a configuração "genérico dx7". Ele diz que você instalou o Intel GMA 950, que realmente estava no computador anterior. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas com isso você tem o Intel Iris Graphics 6100. Algo está realmente errado. Você assume que o jogo determina os recursos gráficos do computador, comparando-o com um banco de dados de placas gráficas, em vez de verificar os recursos da própria placa. Porque é exatamente isso que os desenvolvedores AAA fazem e, se você trabalhou no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTS de código aberto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sabe como isso acontece.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b6e/8b3/fb2/b6e8b3fb28030917e8300cdce5653fac.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O conteúdo do arquivo de log. Se você acha engraçado que a Intel seja designada como 0x8086, você escolheu o artigo apropriado.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Por acaso, você encontra </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notas de atualização</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> antigas </font><font style="vertical-align: inherit;">que confirmam suas preocupações. Você olha para a pasta GameData, mas há apenas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.xmb arquivos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que são principalmente ilegível. </font><em><font style="vertical-align: inherit;">Você está procurando</font></em><font style="vertical-align: inherit;"> grep " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " e " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx7</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Nada acontece. Exclua vários arquivos ... Nada acontece. Mas você sabe que os jogos AAA podem armazenar alguns recursos em lugares estranhos, e essa é a porta dos jogos do Windows no Mac; portanto, tudo pode ser muito bizarro aqui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por fim, você encontra o arquivo “render.bar”; se você o mover, o jogo trava quando é iniciado. Não é muito claro, mas não é ruim. Abrimos o arquivo no </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hex Fiend</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , porque esse programa geralmente permite que você aprenda algo sobre arquivos binários. E assim acontece. Parte desses dados é um texto legível. Alguns deles são shaders. Mas a maioria dos dados é estranhamente dividida por espaço vazio ...</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d1/3a2/6f5/9d13a26f5dfff14c2b44f59dbc69b673.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface Hex Fiend É minimalista, mas funciona. Os primeiros bytes são as letras "ESPN", que provavelmente são o cabeçalho .bar.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Você exclama: "Obviamente, isso é UTF-16!" O jogo foi criado para Windows, por isso é lógico que armazene texto em UTF-16, desperdiçando quase metade de um arquivo de dados de 30 megabytes. Afinal, o Windows adorava o UTF-16 (embora </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">não devesse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), então por que não usar essa codificação e shaders ASCII em um arquivo. É uma ideia lógica! </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Na verdade, demorei um dia para descobrir isso) O</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hex Fiend tem a opção de analisar bytes como UTF-16, então, novamente, estamos procurando a string grep dx7. Existem várias entradas. Nós os substituímos pela linha dx9, que também é encontrada nos dados, salve o arquivo e inicie o jogo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim Os logs novamente não exibem "dx9". Isso provavelmente está definido em outro lugar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos tentar outra coisa. Suponha que o jogo reconheça placas gráficas e seus identificadores hexadecimais sejam armazenados nos logs (no meu caso, 0x8086 é Intel e também 0x2773). Estamos procurando por “8086” no Hex Fiend, encontramos algo e parte do texto parece promissora. A Intel 9 Series é a série GMA 950 e a Age 3 provavelmente não funcionou muito bem nela.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af6/b22/f44/af6b22f4473691b673cb5dba2fd197f0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguns números são como identificadores de cartão (2582, 2592); talvez se você substituí-los, algo mudará. De qualquer forma, fizemos uma cópia do arquivo, para que você possa tentar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, este também é um beco sem saída. De fato, estamos estudando o arquivo errado. Felizmente, posso lhe dizer isso porque gastei muito tempo nisso e tentei </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demais</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Essa coisa demorou cerca de 20 horas. E isso não está contando o tempo para todas as capturas de tela ... O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
arquivo desejado é chamado "DataP.bar" e, se substituirmos sabiamente o ID, veremos algo completamente novo nos logs:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/445/e79/6a2/445e796a2ca507e1f1a056da1cbd30a3.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não entendo por que esse "dx7 genérico" não é o mesmo da captura de tela acima. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, no jogo ainda estamos limitados pelas configurações "Baixa", ou seja, os logs não mentem. </font><font style="vertical-align: inherit;">Estávamos esperando um médium, mas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">infelizmente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que mais dados de hackers não podem ser alcançados. </font><font style="vertical-align: inherit;">É hora de levar as ferramentas a sério.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentativa nº 2 - hackers</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, se nada der certo, resta uma última coisa: alterar o próprio arquivo executável (isto é, como eles disseram em 2005, "quebrá-lo"). </font><font style="vertical-align: inherit;">Parece que hoje é simplesmente chamado de hacking, mas esse termo foi preservado no campo da pirataria de jogos (é claro, eu pessoalmente </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nunca</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fiz isso). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passamos para a parte mais interessante do artigo (sim, você já leu mil palavras, mas não foi curioso?).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funil do desmontador</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse estágio, nossa ferramenta será um desmontador: um aplicativo que recebe o código binário do arquivo executável e o transforma em código assembler legível (ha ha). O mais popular deles é o IDA Pro, mas é incrivelmente caro e não tenho certeza se ele funciona em um Mac; portanto, usarei o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hopper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Não é gratuito (custa US $ 90), mas pode ser usado livremente por 30 minutos por vez, com quase todas as funções necessárias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não explicarei a interface em detalhes, porque </font><font style="vertical-align: inherit;">tudo está bem </font><font style="vertical-align: inherit;">explicado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial Hopper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas vou lhe dizer o que farei e tentarei tirar capturas de tela suficientes para que você possa aprender alguma coisa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, você precisa dizer: demorei cinco dias para resolver e muitas tentativas malsucedidas foram feitas. Basicamente, falarei sobre etapas bem-sucedidas, para que pareça mágico. Mas foi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">difícil</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Não se preocupe se tiver algum problema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E mais uma observação: "cracking" geralmente é ilegal e / ou executado para fins ilegais. Eu demonstro um exemplo bastante raro de uso bastante legítimo, que ao mesmo tempo é completamente "chapéu branco", então tudo está em ordem aqui. Assumirei que, estritamente falando, isso é ilegal / contrário ao contrato do usuário final, mas, obviamente, é um caso de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">força maior</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Seja como for, pague pelo que quiser e só por isso, porque o anti-consumismo é legal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a04/597/b6a/a04597b6a9ad1979e14216547ecf61d6.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db3/dfb/1e3/db3dfb1e3ec50890530001d69a22cdd2.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/605/66d/e69/60566de69653b745f83d196f56679263.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arraste o aplicativo Age 3 para abri-lo. </font><font style="vertical-align: inherit;">Basta selecionar "x86" em vez de powerPC, porque o jogo é algo em 2005.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etapa 1 - procure o fragmento desejado</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surpreendentemente, isso pode ser o mais difícil. </font><font style="vertical-align: inherit;">Temos um código desmontado, mas não temos idéia de onde procurar. </font><font style="vertical-align: inherit;">Sim, alguns jogos possuem símbolos de depuração, para que você possa ler os nomes das funções, mas não no nosso caso. </font><font style="vertical-align: inherit;">Hopper nos dá nomes como "sub_a8cbb6", com os quais temos que lidar sozinhos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, temos uma vantagem: nosso </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivo de log</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">É altamente provável que </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">literais de seqüência de caracteres</font></a><font style="vertical-align: inherit;"> sejam usados ​​ao gravar no log</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou seja, ASCII são exibidos no arquivo executável. </font><font style="vertical-align: inherit;">Podemos procurá-los com grep, porque não vamos nos livrar deles por nenhuma compilação (no entanto, eles podem ser ocultados pela ofuscação do código. Felizmente, isso não aconteceu). </font><font style="vertical-align: inherit;">Encontrar literais de string grep é geralmente a primeira coisa que eles fazem quando desmontam um programa. </font><font style="vertical-align: inherit;">Então, vamos inserir "fornecedor encontrado" na caixa de pesquisa do funil e ele encontrará algo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/da7/114/b61/da7114b61ecba23df73633ad41ab338f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ah, sim, literais de string, eu os adoro. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso por si só não nos adiantou tanto. </font><font style="vertical-align: inherit;">Porém, como o endereço dessa "sequência de literais" é codificado, podemos encontrar links para ele. </font><font style="vertical-align: inherit;">Hopper os destacou em verde à direita: "DADOS XREF = sub_1d5908 + 1252". </font><font style="vertical-align: inherit;">Clicando duas vezes na linha, passaremos ao procedimento hero - </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sub_1d5908</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6d/d6a/e8b/d6dd6ae8bbe346215273e7beb930b0a7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui encontramos o código do assembler. </font><font style="vertical-align: inherit;">Acredita-se que seja difícil de ler, mas não é. </font><font style="vertical-align: inherit;">O mais difícil é entender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padrão, o Hopper usa "Intel sintaxe", ou seja, o primeiro operando é o receptor e o segundo é a fonte. </font><font style="vertical-align: inherit;">Na linha destacada, vemos </font></font><code>mov dword [esp+0x1DC8+var_1DC4], aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Vamos fazer isso.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nossa primeira linha em montador</font></font></h2><br>
<code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É uma equipe MOV conhecida por estar em x86 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Turing-complete</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ele move (na verdade copia) os dados de A para B, o que significa essencialmente ler A e gravá-los em B. Com base no exposto, </font></font><code>aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esse é A e </font></font><code>dword [esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B, o destinatário. Vamos dar uma olhada mais de perto nisso. </font></font><br>
<br>
<code>aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- esse é o valor que Hopper nos ajuda. Na verdade, esse é um apelido para o endereço de memória da string literal em que clicamos alguns segundos atrás. Se você dividir a janela e olhar o código no modo Hex (que é o </font><font style="vertical-align: inherit;">modo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preferido</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para hackers), veremos lá </font></font><code>88 18 83 00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d3/d74/31d/0d3d7431d27f6a03c2af6142f27c9a9b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O funil destaca convenientemente os mesmos fragmentos selecionados nas duas janelas.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Se o valor "flip" estiver correto, obteremos 0x00831888 - o endereço de memória da string literal (em uma das capturas de tela mostradas acima, ela fica destacada em amarelo). Portanto, um enigma é resolvido: o código executa MOV, ou seja, grava o endereço 0x00831888. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que está escrito como </font></font><code>88 18 83 00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, não como </font></font><code>00 83 18 88</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Isso aconteceu por causa da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ordem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dos </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">bytes</font></a><font style="vertical-align: inherit;"> - um tópico bastante confuso que geralmente tem pouco impacto. Essa é uma daquelas coisas que fazem as pessoas dizerem que “os computadores não funcionam”. Para nós, isso significa que esse problema ocorrerá em todos os números com os quais trabalharemos hoje.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você deve ter notado que eu disse "anote o endereço" e isso é verdade: não nos importamos com o conteúdo, que acabou sendo uma string literal com um byte zero no final. Anotamos o endereço porque o código se referirá posteriormente a esse endereço. Este é um ponteiro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que tal </font></font><code>dword [esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Tudo é mais complicado aqui. </font></font><code>dword</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">significa que estamos trabalhando com "palavras duplas (palavras duplas)", ou seja, com 16 * 2 bits. Ou seja, copiamos 32 bits. Lembre-se: nosso endereço é</font></font><code>0x00831888</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou seja, 8 caracteres hexadecimais e cada caractere hexadecimal pode ter 16 valores, ou seja, 4 bits de dados. Portanto, obtemos 8 * 4 = 32. A propósito, a notação "32 bits" para sistemas de computadores veio daqui. Se usássemos 64 bits, o endereço de memória seria escrito como 0x001122334455667788, seria duas vezes maior e 2 ^ 32 vezes maior, e teríamos que copiar 16 bytes. Portanto, teríamos muito mais memória, mas copiar o ponteiro exigiria o dobro de trabalho e, portanto, 64 bits não são duas vezes mais rápidos que 32 bits. A propósito, uma explicação mais detalhada do termo "palavra" pode ser encontrada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Porque é claro que é mais complicado do que minha explicação.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, e a parte entre colchetes? Os colchetes significam que calculamos o que está dentro e o consideramos um ponteiro. Portanto, o comando MOV gravará no endereço de memória obtido dos cálculos. Vamos analisar novamente com mais detalhes (e não se preocupe, quando terminar, você saberá essencialmente como ler o código do assembler com a sintaxe da Intel). </font></font><br>
<br>
<code>esp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é um </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registro</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que no assembler é o equivalente mais próximo de uma variável. Existem muitos registros na arquitetura x86, e diferentes registros têm diferentes formas de aplicação, mas não nos importamos. Saiba mais sobre isso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Lembre-se de que existem registros especiais para números de ponto flutuante, bem como "sinalizadores" que são usados ​​para comparações e operações similares. Tudo o resto são apenas números hexadecimais que Hopper retrabalhou um pouco para nos ajudar. </font></font><code>var_1DC4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>-0x1DC4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos vê-lo no início do procedimento ou no painel direito. Isso significa que o resultado do cálculo </font></font><code>[esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">será </font></font><code>[esp + 0x1DC8 — 0x1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">igual a </font></font><code>[esp + 4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Em essência, isso significa "pegar o valor de 32 bits do registro ESP, adicionar 4 e interpretar o resultado como um endereço de memória". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, repetimos: escrevemos o endereço da string literal em "esp + 4". Esta é uma informação correta, mas é completamente inútil. O que isto significa?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa é a dificuldade em ler o código do assembly: ao analisar o que ele deve fazer. </font><font style="vertical-align: inherit;">Aqui temos uma vantagem: sabemos que ele provavelmente escreve algo no log. </font><font style="vertical-align: inherit;">Portanto, podemos esperar uma chamada para uma função que grava no log. </font><font style="vertical-align: inherit;">Vamos procurá-la.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c57/7f8/827/c577f8827feb59247a7c69ed0467fef2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na captura de tela acima, existem várias chamadas semelhantes, bem como o comando </font></font><code>call</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que chama o procedimento. </font><font style="vertical-align: inherit;">Hopper geralmente fala sobre isso (não sei por que ele não fez isso aqui), mas, em essência, damos argumentos para chamar a função. </font><font style="vertical-align: inherit;">Se você clicar em diferentes chamadas de sub-rotina, encontraremos algo chamado imp___jump_table___Z22StringVPrintfExWorkerAPcmmPS_PmmPKcS_. </font><font style="vertical-align: inherit;">Este é o </font><font style="vertical-align: inherit;">nome </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decodificado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da função, e a parte “Printf” é suficiente para entender que ela realmente gera alguma coisa. </font><font style="vertical-align: inherit;">Nós não nos importamos como ela faz isso.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dê um passo para trás</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta fase, nos afastamos completamente do que fizemos: tentamos convencer o jogo de que nossa placa de vídeo de 2015 era poderosa o suficiente para lançar o jogo de 2005. Vamos resumir. Encontramos o local em que o log está sendo gravado. Se tivermos sorte, aqui está o código que verifica os parâmetros e os recursos das placas gráficas. Felizmente, tivemos muita sorte (existe uma alta probabilidade de que, de outro modo, este artigo não teria sido). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender melhor, usaremos a função Gráfico de fluxo do controle de tremonha, que divide o código em pequenos blocos e desenha setas indicando diferentes transições. Isso é muito mais fácil de entender do que no assembler comum, no qual muitas vezes tudo está uma bagunça.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3a/4bd/1b1/e3a4bd1b1528d0344f4f1174b16be79c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chamada para a entrada do log está no meio de uma função terrivelmente longa, porque isso, novamente, geralmente acontece em jogos AAA. </font><font style="vertical-align: inherit;">Aqui, devemos procurar outros literais e "dicas" da string Hopper, na esperança de encontrar algo. </font><font style="vertical-align: inherit;">No início do procedimento, está o restante do registro, e abaixo há partes interessantes sobre os parâmetros "forçando dx7" e "Muito alto", além de um problema com a versão dos pixel shaders ... </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que temos.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O log de nossos dados "invadidos" relatou que tínhamos pixel shaders da versão 0.0 e eles são incompatíveis com os parâmetros "Alto". </font><font style="vertical-align: inherit;">Este código está localizado no canto inferior esquerdo da nossa função e, se você olhar com atenção, poderá ver algo curioso (destacado por seu humilde servo): este é o mesmo código repetido quatro vezes para os parâmetros "Muito Alto", "Alto", "Médio" e "Baixo". </font><font style="vertical-align: inherit;">E sim, levei várias horas para encontrar isso.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27b/132/603/27b13260328e5da3cbef4323e840563f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu destaquei em azul o bloco em que “pixel shader version 0.0 High” é exibido no log. Eu destaquei peças semelhantes com outras cores bonitas.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As únicas diferenças são que escrevemos "0x0", "0x1", "0x2" e "0x3" em lugares diferentes. É suspeito de ser semelhante ao arquivo de parâmetros que examinamos acima e ao parâmetro </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optiongrfxshaderquality</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (talvez você ainda não tenha entendido isso. Mas é, acredite). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta fase, podemos tentar seguir de maneiras diferentes, o que eu fiz. Mas serei breve - faremos o mais necessário: descubra por que a verificação do pixel shader falha. Vamos procurar um ramo. O bloco de saída para o log é linear, o que significa que deve estar em algum lugar acima.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/724/d53/3a7/724d533a7f9af2353f611c6bea4f15b7.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEMVER fãs, veja um formato de versão mais avançada: números de ponto flutuante.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
E, de fato, logo acima dele há </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um comando de transição (pense em "ir"). Este é um " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salto condicional</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " e a condição é " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se for menor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Os “ifs” do assembler funcionam através de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinalizadores de registro</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sobre os quais falei brevemente acima. Basta saber que precisamos examinar o comando acima: provavelmente, ele define o sinalizador. Muitas vezes, este é um comando </font></font><code>cmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas usado aqui </font></font><code>ucomiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso é barbárie. Mas ela </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pesquise</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> facilmente: sem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">graça</font></a><font style="vertical-align: inherit;"> . Este é um comando de comparação de ponto flutuante e explica por que o código foi</font></font><code>xmm0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Este é um registro de números de ponto flutuante. Isso é lógico: os logs relatam que nossa versão dos pixel shaders é "0.0", que é um valor de ponto flutuante. Então, o que está localizado no endereço de memória 0x89034c? Os dados hexadecimais têm uma aparência </font></font><code>00 00 00 40</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e podem ser confusos. Mas sabemos que devemos esperar números de ponto flutuante, então vamos interpretar os dados assim: isso significa </font></font><code>2.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Qual é um valor lógico de ponto flutuante para a versão dos pixel shaders que a Microsoft realmente usou na sua </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linguagem de sombreamento de alto nível</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em que os shaders do DirectX são gravados. </font><font style="vertical-align: inherit;">E o Age 3 é um jogo DirectX, mesmo que a porta do Mac use o OpenGL. </font><font style="vertical-align: inherit;">Também é lógico que, em 2005, os pixel shaders da versão 2.0 sejam necessários para ativar o parâmetro High, portanto, estamos nos movendo na direção certa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como nós consertamos isso? </font><font style="vertical-align: inherit;">Esta instrução comparação realiza uma comparação com o valor ao </font></font><code>xmm0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qual é dado na linha acima: </font></font><code>movss xmm0, dword [eax+0xA2A8]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O MOVSS é um comando especial "move" para registradores de ponto flutuante e escrevemos 32 bits a partir do endereço, que é o resultado da avaliação de eax + 0xA2A8. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presumivelmente, esse valor não é 2,0, mas sim 0,0. </font><font style="vertical-align: inherit;">Vamos consertar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazendo hackers reais</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, estamos prontos para chegar aos parâmetros do jogo High. Queremos seguir o caminho "vermelho" e pular toda a lógica com a "versão errada dos pixel shaders". Isso pode ser feito passando com êxito na comparação, ou seja, revertendo a condição de transição, mas temos mais um truque: o código é composto de tal maneira que, ao excluir a transição, seguiremos o caminho "vermelho". Vamos substituir a transição por </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma operação que não faz nada (é impossível simplesmente excluir ou adicionar dados ao arquivo executável porque ocorrerá um deslocamento e tudo quebrará). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu recomendo sair do CFG para isso, porque, caso contrário, Hopper começa a enlouquecer. Se tudo for feito corretamente, na janela Hex, veremos linhas vermelhas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/903/09d/db2/90309ddb2fecf42031e8bf9d4a6abe88.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/010/d39/b35/010d39b355b0cb7e5b55fc83007e17ae.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vermelho mostra as alterações que fizemos. </font><font style="vertical-align: inherit;">Nesse ponto, se você pagou pelo Hopper, pode simplesmente salvar o arquivo. </font><font style="vertical-align: inherit;">Mas como não paguei, vou abrir o arquivo executável no Hex Fiend, encontrar a área desejada (copiando a área do Hopper para a guia Localizar dentro do Hex Fiend) e alterá-lo manualmente. </font><font style="vertical-align: inherit;">Tenha cuidado aqui, você pode quebrar tudo, por isso recomendo copiar o arquivo executável de origem em algum lugar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feito isso, inicie o jogo, vá para as opções ... E um brinde - podemos selecionar "Alto". </font><font style="vertical-align: inherit;">Mas não podemos escolher "médio". </font><font style="vertical-align: inherit;">E não podemos usar os altos parâmetros das sombras. </font><font style="vertical-align: inherit;">No entanto, estamos progredindo!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3df/3a2/bba/3df3a2bbaa02e57ce2997e53137bdb56.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basta dar uma olhada nessas reflexões magníficas na água!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprimoramentos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, você pode corrigir isso da melhor maneira. Nossa solução funcionou, mas podemos fazê-lo para que a condição seja atendida corretamente: fazendo o jogo pensar que nossa placa de vídeo realmente possui shaders da versão 2.0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como lembramos, o jogo carrega o valor no endereço </font></font><code>eax+0xA2A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Você pode usar o Hopper para descobrir o que foi originalmente gravado lá. Precisamos encontrar um comando no qual 0xA2A8 seja usado como operando destinatário (escolhi 0xA2A8 porque é um valor bastante específico e não podemos ter certeza de que o mesmo registro não seja usado em outro lugar). Aqui, a luz de fundo da tremonha é muito útil para nós, porque podemos clicar em 0xA2A8 e procurar as peças amarelas no CFG.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bbd/5ed/75b/bbd5ed75b7b712a39861769efc3f63cd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossa vitória é um pouco maior: como esperado, escrevemos o valor de algum tipo de registro de ponto flutuante. Admito que realmente não entendo o que está acontecendo antes disso (meu melhor palpite: o jogo verifica a possibilidade de compressão de textura), mas isso não é particularmente importante. Vamos escrever "2.0" e continuar o trabalho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, usaremos a "Instruções de montagem" do aplicativo Hopper e, em seguida, faremos as mesmas manipulações no Hex Fiend.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92d/3d1/637/92d3d1637e2c46321c9983f68ffda742.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/784/a8f/f5b/784a8ff5bb2755f378143d4740d4201f.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b6/fed/ff0/9b6fedff0d7cbbeb9713c34513776468.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usamos MOV em vez de MOVSS porque escrevemos o valor usual, e não o valor especial do registro de ponto flutuante. Além disso, está em ordem de bytes direta, ou seja, invertida.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Você notará que algo estranho está acontecendo: nós "comemos" a equipe </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso aconteceu porque o novo comando usa mais bytes que o anterior e, como eu disse, não podemos adicionar ou remover dados do arquivo executável para salvar compensações. Portanto, Hopper não tem escolha a não ser destruir o time </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso pode se tornar um problema, e podemos eliminá-lo movendo o comando para cima (afinal, não precisamos mais escrever o valor xmm3). Isso funcionará aqui, porque, de qualquer forma, estamos fazendo a ramificação no caminho certo. Por sorte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você iniciar o jogo ... nada mudará muito. </font><font style="vertical-align: inherit;">Sugeri que a série Intel 9 não é rápida o suficiente, então o jogo reclama. </font><font style="vertical-align: inherit;">Isso não é um problema, porque, na realidade, estamos lutando por "Muito Alto". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qual foi o cartão mais poderoso em 2004? </font><font style="vertical-align: inherit;">NVIDIA GeforceFX 6800. Vamos nos convencer a convencer o jogo de que ele está instalado.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No buraco do coelho</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, esta é uma seção completamente nova. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabemos que o jogo usa códigos Hex para se referir a placas gráficas e que recebe informações de arquivos de dados. Sabemos que isso deve acontecer na função que estamos estudando (pelo menos seria estranho se não estivesse). Para que possamos encontrar o código que faz isso. Mas ainda pode ser difícil, porque não sabemos exatamente o que procurar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos uma pista: as opções se comportam de maneira estranha; há Baixa / Alta, mas não Média. Então, talvez exista outro código que lide com todos esses "Muito Alto", "Alto", "Médio" e "Baixo". E ele realmente está, na mesma função. Ele está muito mais cedo na CFG e parece interessante.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e73/73a/ea1/e7373aea138358b603c609d8704cfed0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos supor que os dados brutos sejam armazenados em algum tipo de XML, porque é muito provável, porque existem vários outros arquivos de dados que são XML. E XML é essencialmente um monte de ponteiros e atributos. Portanto, o código aqui provavelmente verifica alguns atributos XML (e, de fato, abaixo é "esperado um dos ID, Muito Alto ...", o que é muito semelhante à verificação da correção do arquivo). Podemos imaginar uma estrutura XML semelhante na qual os valores booleanos determinam a qualidade dos shaders:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4e8/bf7/411/4e8bf7411dd677f1415ae71c887cbef5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vale a pena considerar que esse é um palpite muito arbitrário. </font><font style="vertical-align: inherit;">Tudo pode parecer um pouco diferente. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma parte muito interessante é mostrada no lado esquerdo do CFG (para você, pode estar à direita, mas à esquerda na captura de tela): vemos a mesma </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que é usada no código que grava o ID do dispositivo no log. </font><font style="vertical-align: inherit;">Ou seja </font></font><code>ebp+var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, provavelmente se refere ao ID do nosso dispositivo, 0x2773. </font><font style="vertical-align: inherit;">O estranho é que não há literal de cadeia de caracteres na primeira "verificação", mas isso é um bug do Hopper: o endereço 0x0089da8e contém dados hexadecimais 69006400, que em UTF-16 significa "id" (na verdade, provavelmente Hopper não conseguiu entender isso porque UTF16). </font><font style="vertical-align: inherit;">E estamos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apenas</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> procurando por um ID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você sabe o que? </font><font style="vertical-align: inherit;">Vamos executar o depurador e verificar tudo na realidade.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuração de jogos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abra uma janela do terminal e execute lldb (apenas digite lldb e pressione enter). Primeiro, precisamos dizer ao LLDB para seguir a idade 3 e, em seguida, podemos iniciar o jogo ligando </font></font><code>run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O jogo começa e não temos nada útil.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47b/0f2/279/47b0f227957a0414bc739002abafb432.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos adicionar um ponto de interrupção: para confirmar nossas suposições, queremos interromper a execução quando chegarmos ao código mostrado acima. Não temos código-fonte, mas isso não importa: podemos definir um ponto de interrupção no endereço de memória. E nós temos o endereço no código. Vamos adicionar uma parada a uma chamada MOV que recebe um "id", seu endereço é 0x001d5e68. Para adicionar um ponto de interrupção, basta digitar </font></font><code>br set -a 001D5E68</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Depois de iniciar o jogo, ele para e o LLDB mostra o código desmontado (na sintaxe da AT&amp;T, não na Intel, portanto todos os operandos são invertidos, mas vemos que esse é o mesmo código). Você pode perceber que o LLDB nesse caso é realmente mais inteligente que Hopper; ele nos diz que estamos executando operações relacionadas à saída XML e printf.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd0/2fa/07c/cd02fa07c9a2dbd13ed07558f0983595.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95d/fa6/710/95dfa671088f1c7097b439851f586b24.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sinta-se como um hacker? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para seguir em frente, vamos dar uma "instrução de passo". </font><font style="vertical-align: inherit;">Um pequeno comando para isso </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 é </font></font><code>ni</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Repetindo várias vezes, percebemos que estamos de volta ao ponto em que começamos. </font><font style="vertical-align: inherit;">Este é um ciclo! </font><font style="vertical-align: inherit;">E isso é completamente lógico: provavelmente estamos repetindo algum tipo de XML. </font><font style="vertical-align: inherit;">De fato, Hopper nos mostrou isso - se seguirmos o CFG, veremos um (possível) ciclo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70f/63f/fdd/70f63ffddb8c3c073dcc257af70581d8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso significa:</font></font><code>if (*(ebp+var_CC) == *(ebp+var_28)) { *(ebp+var_1D84)=edi }</code></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sua condição de saída é que o valor </font></font><code>ebp+var_1D84</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seja diferente de zero. </font><font style="vertical-align: inherit;">E vemos um parâmetro de código interessante no destacado por mim </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos adicionar um ponto de interrupção neste </font></font><code>cmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e vamos descobrir isso.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a3/c32/d3a/9a3c32d3a01dd202e192648f5ef6609c.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/593/bc4/34d/593bc434d505cb29799846d61cb177bb.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquerda: defina um ponto de interrupção no CMP e continue a execução. À direita, monitoramos os registros e a memória.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Examinamos os registros com </font></font><code>reg r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o valor da memória com </font></font><code>mem read $ebp-0x28</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, na verdade, contém 0x2773, e o valor na memória agora é 0x00A0. Se você executá- </font></font><code>thread c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lo </font><font style="vertical-align: inherit;">várias vezes </font><font style="vertical-align: inherit;">, veremos que a iteração ocorre em diferentes IDs em busca de correspondências. Em algum momento, os valores coincidirão, o loop sairá e o jogo começará. Agora sabemos como gerenciá-lo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se do arquivo de log: ele identificou o dispositivo e o fabricante. Provavelmente em algum lugar existe um ciclo semelhante para os nomes dos fabricantes. E, de fato, é muito semelhante e está localizado no CFG diretamente acima do nosso ciclo. Esse loop é um pouco mais simples e procuramos a string "vendor". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desta vez, a comparação é feita com</font></font><code>var_D0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Essa variável é realmente usada como o ID do fabricante. </font><font style="vertical-align: inherit;">Se colocarmos um ponto de interrupção aqui e verificarmos tudo, veremos o familiar 0x8086 em </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, ao mesmo tempo, uma comparação com 0x10DE está acontecendo. </font><font style="vertical-align: inherit;">Vamos escrever </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e ver o que acontece.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/014/fd5/e4a014fd58bcc6408f48de1411db83b8.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/03b/9ce/7d0/03b9ce7d056048ecdf69987c3e8d774a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uau. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, 0x10DE é NVIDIA. </font><font style="vertical-align: inherit;">De fato, é possível entender isso quando se estuda um arquivo de dados, mas não é muito interessante. </font><font style="vertical-align: inherit;">Agora, a pergunta é: qual é o identificador da GeforceFX 6800? </font><font style="vertical-align: inherit;">Podemos usar o LLDB e apenas verificar cada identificador, mas isso levará tempo (existem muitos, tentei encontrar o correto). </font><font style="vertical-align: inherit;">Então, vamos dar uma olhada em render.bar neste momento.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbc/605/7f4/cbc6057f454e5ee95865324fea40e271.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suponha que seja "XMB", a representação binária de XML usada no Age 3.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este arquivo é bastante caótico. Porém, após as tags Geforce FX 6800, vemos vários identificadores. Provavelmente, precisamos de um deles. Vamos tentar 00F1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maneira mais fácil de testar isso é usar o LLDB e definir os pontos de interrupção desejados. Vou pular esta etapa, mas direi que 00F1 surgiu (felizmente). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse estágio, precisamos responder à pergunta: "Como tornar essa mudança permanente?" Parece que será mais fácil alterar os valores </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>var_D0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em 0X00F1 e 0X10DE. Para fazer isso, precisamos apenas de espaço para o código.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma solução simples seria substituir uma das chamadas de registro de log por um NOP, por exemplo, uma chamada de subsistema. </font><font style="vertical-align: inherit;">Isso nos libertará várias dezenas de bytes, e isso é ainda mais do que necessário. </font><font style="vertical-align: inherit;">Vamos selecionar tudo isso e substituí-lo pelo NOP. </font><font style="vertical-align: inherit;">Então, precisamos escrever informações usando as variáveis ​​MOV: assembler </font></font><code>mov dword [ebp+var_CC], 0xF1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>mov dword [ebp+var_D0], 0x10DE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6f/eb6/d19/e6feb6d1903ca8305714594fe1911413.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79c/096/783/79c096783f59920be40a85fdac85f44f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes e depois</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Vamos rodar o jogo. </font><font style="vertical-align: inherit;">Finalmente, conseguimos algo: você pode escolher entre Baixo, Médio ou Alto, além de ativar os parâmetros Altos para sombras.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/370/8b5/7cb/3708b57cb8d0d5e405e54e4c5ee99eb8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas ainda não podemos ativar o Very High, e isso é triste. </font><font style="vertical-align: inherit;">O que está acontecendo?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e16/2e6/732/e162e673279757ba3cac035fa5f9b0f6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ah, entendi.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Como se viu, o Geforce FX 6800 deve suportar os shaders de pixel da versão 3.0 e definimos apenas a versão 2.0. Agora é fácil corrigi-lo: basta escrever o ponto flutuante 3.0 </font></font><code>ebp+0xA2A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Este valor é 0x40400000. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, o jogo não é mais caprichoso e podemos desfrutar de configurações muito altas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f3c/24e/2c1/f3c24e2c156feb16f1d34bf67aa33d5a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estranho, mas parece completamente diferente. As cores são muito menos vibrantes e o nevoeiro dependente do alcance apareceu. Há também um pequeno problema de conflito de sombra (também está nas capturas de tela acima, devido aos parâmetros High shadow, não à qualidade dos shaders), que ainda não consegui resolver.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
E este é o fim de nossa jornada, obrigado pela leitura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, darei exemplos de como cada um dos parâmetros do jogo se parece, porque todas as capturas de tela encontradas online são terríveis ou incompletas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os gráficos no Medium são bastante aceitáveis, mas sofrem com a falta de sombras. Pelo que sei, o Very High geralmente adiciona uma LUT completamente diferente (uma boa explicação desse termo pode ser encontrada na seção Gradação de cores </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deste artigo.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), neblina à distância e talvez até um modelo de iluminação completamente diferente? </font><font style="vertical-align: inherit;">A imagem é muito diferente e é bastante estranha.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5a/ed3/00d/b5aed300d967d53f67bf3e8798615525.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c8/0b8/bd7/1c80b8bd77a9cdfb4fdbd1da13146035.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45a/73b/776/45a73b7760497a9424b4e92984071e2c.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/817/12a/54c/81712a54ca17e71925eea886f628db3f.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De cima para baixo: Muito alto, Alto (com opções de sombra alta), Médio (apenas com sombra ativada), Baixo (com sombra desativada).</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outros links úteis</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O blog ao qual vinculei acima contém uma análise maravilhosa dos pipelines de renderização modernos: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.adriancourreges.com/blog/ O</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Rate 0 AD é um jogo RTS de código aberto do mesmo gênero: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://play0ad.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ela precisa de desenvolvedores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você quiser saber mais sobre o formato XMB, poderá ler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seu código no 0 AD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Não verifiquei, mas tenho certeza de que esse é o mesmo formato, porque a pessoa que escreveu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o decodificador XMB para o Age 3 no céu do Age of Empires</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> também implementou esses arquivos no código-fonte 0 AD em 2004. Portanto, essa será uma lição divertida de paleontologia de código. Obrigado por todo o trabalho, Ykkrosh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembro exatamente que li um excelente tutorial sobre o uso do Hopper, mas agora não consigo encontrar o link. </font><font style="vertical-align: inherit;">Se alguém souber do que estou falando, solte o link. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final, gostaria de mencionar o projeto Cosmic Frontier: um remake da clássica série Escape Velocity (mais de Override, mas também é compatível com Nova). </font><font style="vertical-align: inherit;">Este é um jogo incrível, e é muito triste que poucas pessoas o conheçam. </font><font style="vertical-align: inherit;">Agora, os criadores lançaram uma campanha no Kickstarter, e o desenvolvedor principal possui um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvimento muito interessante </font><font style="vertical-align: inherit;">, que fala sobre o uso do Hex Fiend para fazer a engenharia reversa dos formatos de dados do jogo original. </font><font style="vertical-align: inherit;">Esta é uma ótima leitura. </font><font style="vertical-align: inherit;">Se você acha que </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meu artigo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi insano. </font><font style="vertical-align: inherit;">então em uma das postagens eles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lançamos o emulador clássico de Mac para usar as APIs obsoletas há muito tempo para ler um arquivo de dados criptografados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criptografia de engenharia reversa a partir do código do jogo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eles usaram um hack do sistema de arquivos para acessar os mesmos dados em um Mac moderno.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, são pessoas verdadeiramente apaixonadas, e espero que o projeto seja concluído com sucesso, porque EV Nova é o meu jogo favorito.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt500516/index.html">Transferência rápida de mensageiros instantâneos - QIWI Android Wallet</a></li>
<li><a href="../pt500518/index.html">Iterações da introdução do scrum em uma empresa</a></li>
<li><a href="../pt500520/index.html">Como usar seus aplicativos em todo o mundo: 10 dicas do CEO Wachanga</a></li>
<li><a href="../pt500528/index.html">Sobre a tradução de "prática" / "praticidade" sem prática / prática</a></li>
<li><a href="../pt500530/index.html">Memorando da API do Canvas</a></li>
<li><a href="../pt500546/index.html">Crie um documento de tabela simples usando o ODF Toolkit</a></li>
<li><a href="../pt500552/index.html">Como acelerar a revisão de código</a></li>
<li><a href="../pt500554/index.html">Modelo de servidor back-end Golang - parte 2 (API REST)</a></li>
<li><a href="../pt500556/index.html">Dois anos de transformação digital em dois meses</a></li>
<li><a href="../pt500558/index.html">Uma seleção de artigos sobre aprendizado de máquina: estudos de caso, guias e pesquisas para abril de 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>