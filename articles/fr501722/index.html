<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏼 🙋🏻 ✌🏻 Comet - Framework PHP pour les API REST rapides ↪️ 🧝🏻 👩🏻‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendant deux ans, j'ai écrit des microservices sur Go à l'aide de générateurs de code basés sur Swagger. Il s'est avéré des solutions assez compactes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comet - Framework PHP pour les API REST rapides</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501722/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendant deux ans, j'ai écrit des microservices sur Go à l'aide de générateurs de code basés sur Swagger. </font><font style="vertical-align: inherit;">Il s'est avéré des solutions assez compactes et très rapides. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'utilise actuellement PHP, j'ai donc décidé de trouver des moyens de résoudre les mêmes problèmes dans l'écosystème du langage. </font><font style="vertical-align: inherit;">Je connais et j'aime Laravel et Symfony, mais je ne voulais pas les faire glisser dans des projets - il y a trop de batteries pour lesquelles vous devez payer une courbe d'entrée raide pour le projet et les performances.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/km/79/pt/km79ptwdrrd04qgxil5ctpd4vku.png" alt="Framework PHP pour créer une API REST"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comet</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est apparu </font><font style="vertical-align: inherit;">- un cadre basé sur PHP moderne pour développer des API rapides en utilisant l'expérience des équipes SlimPHP et Workerman. Des dizaines de milliers de RPS sur une machine virtuelle ordinaire et moins d'une milliseconde de latence!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas être infondé, je donnerai les résultats des tests de Comet et d'autres frameworks populaires. </font><font style="vertical-align: inherit;">Pour une comparaison plus honnête, tous les modules lourds comme l'ORM ont été retirés de l'assemblage de tous les participants au test. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier cas est une imitation d'une charge élevée sous la forme de milliers de demandes wrk compétitives pour une méthode qui renvoie «Bonjour, monde!» Ligne de bienvenue en texte brut: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/eb0/43c/e23/eb043ce234f83fccf086f4e91a8d75d1.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour estimer le délai minimum, nous avons utilisé l'option dans laquelle un seul client envoyait séquentiellement une demande à la même point de terminaison: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b57/71a/d3b/b5771ad3ba9a95b5708d100c0c83c74c.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme le montrent les résultats, les fonctionnalités de l'architecture Comet vous permettent de traiter un flux de demandes dix fois plus important avec des délais minimaux que les frameworks traditionnels.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetons un coup d'œil au code pour avoir une idée de ce que vous rencontrerez en développement réel sur Comet:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">use</span> <span class="hljs-title">Comet</span>\<span class="hljs-title">Comet</span>;<font></font>
<font></font>
<span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/vendor/autoload.php'</span>;<font></font>
<font></font>
$app = <span class="hljs-keyword">new</span> Comet();<font></font>
<font></font>
$app-&gt;get(<span class="hljs-string">'/hello'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">$request, $response</span>) </span>{<font></font>
    $response<font></font>
        -&gt;getBody()<font></font>
        -&gt;write(<span class="hljs-string">"Hello, Comet!"</span>);      
    <span class="hljs-keyword">return</span> $response;<font></font>
});<font></font>
<font></font>
$app-&gt;run();<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout est assez transparent: l'utilisation d'un routeur et de fermetures fournit un code compact, plus similaire à ce à quoi les développeurs NodeJS / Express sont habitués. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai posté tout le code sur GitHub et je prévois d'étendre les capacités du framework: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/gotzmann/comet</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Je serai heureux de commenter, commettre et, bien sûr - l'utilisation de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comet</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans des projets réels :)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501708/index.html">Adapter les verres ouverts et fermés à un demi-masque et un obturateur fait maison pour les verres ouverts</a></li>
<li><a href="../fr501710/index.html">Pour quelles niches la crise 2020 est le meilleur moment pour le développement</a></li>
<li><a href="../fr501712/index.html">Parler de tests: quelques histoires et une enquête</a></li>
<li><a href="../fr501714/index.html">L'école 42 comme principale réponse à la vie informatique, à l'univers de la programmation et à tout cela</a></li>
<li><a href="../fr501716/index.html">Défi accepté ou tâches que les ingénieurs de Lamoda résolvent</a></li>
<li><a href="../fr501724/index.html">Travailler avec des cookies en JavaScript pur sans maux de tête</a></li>
<li><a href="../fr501730/index.html">ProxySQL - un outil pour démultiplexer les connexions</a></li>
<li><a href="../fr501734/index.html">[Style Geektimes] Notre avenir technologique: prédictions d'experts</a></li>
<li><a href="../fr501736/index.html">Comment nous sommes passés à Udalenka il y a six mois en raison de l'optique hachée</a></li>
<li><a href="../fr501738/index.html">13 mai Java Digest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>