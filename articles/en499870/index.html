<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èÆÔ∏è üçá üßùüèæ Pylint: a detailed test of the code analyzer ü§æ ‚öΩÔ∏è üë®üèΩ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When Luke worked with Flake8 and kept an eye on Pylint, he had the impression that 95% of the errors generated by Pylint were false. Other developers ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pylint: a detailed test of the code analyzer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/leader-id/blog/499870/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When Luke worked with Flake8 and kept an eye on Pylint, he had the impression that 95% of the errors generated by Pylint were false. Other developers had different experience interacting with these analyzers, so Luke decided to look into the situation in detail and study his work on 11 thousand lines of his code. In addition, he praised the benefits of Pylint, viewing it as an addition to Flake8. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/je/g5/rljeg5-o7_1uoatmk9_mez8dslm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luke ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luke Plant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - one of the British developers, on whose article with the analysis of popular code analyzers we recently came across. Linters study the code, help you find bugs, and make it stylistically consistent with the standards and code that the developers on your team write. The most common ones are Pylint and Flake8. We are in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leader-ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We also use them, so we happily translated his article. </font><font style="vertical-align: inherit;">We hope that it will enrich your experience with these tools.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Initial settings and test base</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For this experiment, I took part of the code from one of my projects and launched Pylint with basic settings. </font><font style="vertical-align: inherit;">Then he tried to analyze the result: which warnings were useful and which were false. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A little help about the project from which the code was taken:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A regular application written in Django (i.e. inside the same Python). </font><font style="vertical-align: inherit;">Django has its own peculiarities, and, as a framework, it has its limitations, but allows you to write normal Python code. </font><font style="vertical-align: inherit;">Other libraries that use templates (callback functions or Template Method design templates) also have some of its drawbacks as a framework.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consists of 22,000 lines of code. </font><font style="vertical-align: inherit;">Approximately 11,000 lines passed through Pylint (9,000 if omitted gaps). </font><font style="vertical-align: inherit;">This part of the project consisted mainly of views and test code.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To analyze the code for this project, I already used Flake8, having processed all the errors received. </font><font style="vertical-align: inherit;">The point of this experiment was to evaluate the benefits of Pylint as an addition to Flake8.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The project has a good test coverage of the code, but since I am its sole author, I did not have the opportunity to use peer review.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope that this analysis will be useful to other developers to decide on using Pylint in the stack to check the quality of the code. </font><font style="vertical-align: inherit;">I assume that if you are already using something like Pylint, you will use it systematically for the necessary quality control of the code in order to minimize problems.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So, Pylint has issued 1650 claims to my code. </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below, I grouped all the analyzer comments by type and gave my comments to them. </font><font style="vertical-align: inherit;">If you need a detailed description of these messages, take a look at the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appropriate section of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the Pylint function list.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bugs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pylint found exactly one bug in my code. </font><font style="vertical-align: inherit;">I consider a bug as an error that occurs or may potentially arise during the operation of the program. </font><font style="vertical-align: inherit;">In this case, I used exceptions - </font></font><code>broad-except.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That is </font></font><code>except Exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, not just except, which Flake8 catches. </font><font style="vertical-align: inherit;">This would result in runtime behavior with some exceptions. </font><font style="vertical-align: inherit;">If this error ever popped up at run time (not the fact that it pops up), then incorrect code behavior would not have serious consequences, though ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: 1</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Useful</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to that error, Pylint found a few more that I categorized as useful. </font><font style="vertical-align: inherit;">The code didn‚Äôt fall from them, but there could be problems during refactoring, and in principle, errors in the future when expanding the list of features and supporting the code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seven of them were </font></font><code>too-many-locals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>too-many-branches</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>too-many-local-variables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">They belonged to three parts of my code that were poorly structured. </font><font style="vertical-align: inherit;">It would be nice to think about the structure, and I'm sure I could do better. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Other errors:</font></font><br>
<br>
<ul>
<li><code>unused-argument</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 3 - one of them was really a jamb, and the code executed correctly randomly. </font><font style="vertical-align: inherit;">The other two unnecessary and unused arguments would lead to problems in the future if I used them.</font></font></li>
<li><code>redefined-builtin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><code>dangerous-default-value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2 - not bugs, because I never used the default values, but it would be nice to fix this just in case. </font></font></li>
<li><code>stop-iteration-return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1 - here I learned something new for myself, I would never have found it myself.</font></font></li>
<li><code>no-self-argument</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total: 16</font></font></strong><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cosmetic edits</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I would pay less attention to these things. </font><font style="vertical-align: inherit;">They are either insignificant or unlikely. </font><font style="vertical-align: inherit;">On the other hand, their correction will not be superfluous. </font><font style="vertical-align: inherit;">Some of them are controversial stylistic. </font><font style="vertical-align: inherit;">I talked about some similar jambs in other sections, but those that are listed here are also suitable for this context. </font><font style="vertical-align: inherit;">Using Pylint regularly, I would correct these ‚Äúflaws‚Äù, but in most cases I would not worry about them. </font></font><br>
<br>
<code>invalid-name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 192 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These were basically single letter variable names. </font><font style="vertical-align: inherit;">Used in those contexts where it wasn‚Äôt scary, for example:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/94f/833/bf1/94f833bf1008d8403a0e44716852c587.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
or</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e43/9a2/75c/e439a275ceeb9508d0566015a7875e3b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Many were in the test code:</font></font><br>
<br>
<ul>
<li><code>len-as-condition</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 20</font></font></li>
<li><code>useless-object-inheritance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 16 (Python 2 legacy)</font></font></li>
<li><code>no-else-return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 11</font></font></li>
<li><code>no-else-raise</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><code>bad-continuation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 6</font></font></li>
<li><code>redefined-builtin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 4</font></font></li>
<li><code>inconsistent-return-statements</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><code>consider-using-set-comprehension</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><code>chained-comparison</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOTAL: 252</font></font></strong><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Useless </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is when I had reason to write the code the way I wrote it, even if in some places it seems unusual. </font><font style="vertical-align: inherit;">And, in my opinion, it is better to leave it in this form, although some will not agree or prefer a different style of writing code that could potentially avoid problems.</font></font><br>
<br>
<ul>
<li><code>too-many-ancestors</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 76</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Were in the test code where I used many classes of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impurities</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to put utilities or stubs.</font></font><br>
<br>
<ul>
<li><code>unused-variable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 43</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was found almost all the time in the test code, where I broke the record:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c7/206/1bd/2c72061bd4270ea1128d3ea63a26e18a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... and did not use any of the elements. </font><font style="vertical-align: inherit;">There are several ways to prevent Pylint from reporting errors (for example, give names </font></font><strong><code>unused</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">But if you leave it in the form in which I wrote, it will be readable, and people (including myself) will be able to understand and support it.</font></font><br>
<br>
<ul>
<li><strong><code>invalid-name</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 26</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These were cases where I assigned appropriate names in the context, but those that did not meet the Pylint naming standards. </font><font style="vertical-align: inherit;">For example, db (this is a common abbreviation for database) and some other non-standard names, which, in my opinion, were more understandable. </font><font style="vertical-align: inherit;">But you may not agree with me.</font></font><br>
<br>
<ul>
<li><strong><code>redefined-outer-name</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 16</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes a variable name is spelled correctly for both internal and external contexts. </font><font style="vertical-align: inherit;">And you will never have to use an external name from an internal context.</font></font><br>
<br>
<ul>
<li><strong><code>too-few-public-methods</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 14</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examples include classes with data created using </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , where there are no public methods, and a class that implements the dictionary interface, but which is needed to ensure the method works correctly</font></font><strong><code>__getitem__</code></strong><br>
<br>
<ul>
<li><strong><code>no-self-use</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 12</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They appeared in the test code, where I intentionally added methods to the base class without a parameter </font></font><strong><code>self</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, because in this way it was more convenient to import them and make them available for the test case. </font><font style="vertical-align: inherit;">Some of them even wrapped in separate functions.</font></font><br>
<br>
<ul>
<li><strong><code>attribute-defined-outside-init</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 10</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In these cases, there were good reasons to write the code as it is. </font><font style="vertical-align: inherit;">Basically, these errors occurred in the test code.</font></font><br>
<br>
<ul>
<li><strong><code>too-many-locals</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 6, </font></font><strong><code>too-many-return-statements</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 6, </font></font><strong><code>too-many-branches</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 2, </font></font><strong><code>too-many-statements</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ó 2</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, these features were too long. </font><font style="vertical-align: inherit;">But looking at them, I did not see any good ways to clean and improve them. </font><font style="vertical-align: inherit;">One of the features was simple, albeit long. </font><font style="vertical-align: inherit;">It had a very clear structure and was not crookedly written, and any ways of reducing it that I could think of would include useless layers of unnecessary or inconvenient functions.</font></font><br>
<br>
<ul>
<li><strong><code>arguments-differ</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 6</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is mainly due to the use of * args and ** kwargs in an overridden method, which allows you to protect yourself from changes in the signature of methods from third-party libraries (but in some cases this message may indicate real bugs).</font></font><br>
<br>
<ul>
<li><strong><code>ungrouped-imports</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 4</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I already use isort to import </font></font><br>
<br>
<ul>
<li><strong><code>fixme</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 4</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, there are several things that need to be fixed, but right now I don‚Äôt want to fix them. </font></font><br>
<br>
<ul>
<li><strong><code>duplicate-code</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 3</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes you use a small amount of boilerplate code, which is simply necessary, and when there is not much real logic in the function body, this warning flies.</font></font><br>
<br>
<ul>
<li><strong><code>broad-except</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><strong><code>abstract-method</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><strong><code>redefined-builtin</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><strong><code>too-many-lines</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I tried to figure out in what natural way to break this module, but could not. </font><font style="vertical-align: inherit;">This is one example where you can see that the linter is the wrong tool. </font><font style="vertical-align: inherit;">If I have a module with 980 lines of code, and I add another 30, I cross the limit of 1000 lines, and notifications from the linter will not help me here. </font><font style="vertical-align: inherit;">If 980 lines is fine, then why is 1010 bad? </font><font style="vertical-align: inherit;">I do not want to refactor this module, but I want the linter to not produce errors. </font><font style="vertical-align: inherit;">The only solution at this moment I see is to make somehow so that the linter is silent, and this contradicts the ultimate goal.</font></font><br>
<br>
<ul>
<li><strong><code>pointless-statement</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><strong><code>expression-not-assigned</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><strong><code>cyclic-import</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We figured out the cycle by moving its parts to one of the functions. </font><font style="vertical-align: inherit;">I could not find a better way to structure the code based on restrictions.</font></font><br>
<br>
<ul>
<li><strong><code>unused-import</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I already added </font></font><code># NOQA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when using Flake8 so that this error does not pop up.</font></font><br>
<br>
<ul>
<li><strong><code>too-many-public-methods</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If in my test class there are 35 tests instead of 20 regulated ones, is this really a problem? </font></font><br>
<br>
<ul>
<li><strong><code>too-many-arguments</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total: 243</font></font></strong><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unable to fix</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This category reflects errors that I can‚Äôt fix even if I wanted to, due to external restrictions, such as the need to return or pass classes to a third-party library or framework that must satisfy certain requirements.</font></font><br>
<br>
<ul>
<li><strong><code>unused-argument</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 21</font></font></li>
<li><strong><code>invalid-name</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 13</font></font></li>
<li><strong><code>protected-access</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 3</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Included access to "documented internal objects", such as </font></font><code>sys._getframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in stdlib and Django </font></font><code>Model._meta</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<ul>
<li><strong><code>too-few-public-methods</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 3</font></font></li>
<li><strong><code>too-many-arguments</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><strong><code>wrong-import-position</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 2</font></font></li>
<li><strong><code>attribute-defined-outside-init</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><strong><code>too-many-ancestors</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total: 46</font></font></strong><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">False messages</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Things in which Pylint is clearly wrong. </font><font style="vertical-align: inherit;">In this case, these are not Pylint errors: the fact is that Python is dynamic, and Pylint is trying to discover things that cannot be done perfectly or reliably.</font></font><br>
<br>
<ul>
<li><strong><code>no-member</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 395</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Associated with several base classes: from Django and those that I created myself. </font><font style="vertical-align: inherit;">Pylint could not detect the variable due to dynamism / metaprogramming. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Many errors occurred due to the structure of the test code (I used a template from django-functest, which in some cases could be corrected by adding additional base classes using the "abstract" methods that call </font></font><strong><code>NotImplementedError</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) or, possibly, renaming many test classes (I I didn‚Äôt do it, because in some cases it would be confusing).</font></font><br>
<br>
<ul>
<li><strong><code>invalid-name</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 52</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The problem arose mainly because Pylint applied the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PEP8 constant rule</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , believing that every top-level name defined with </font></font><strong><code>=</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is a ‚Äúconstant‚Äù. </font><font style="vertical-align: inherit;">Defining exactly what we mean by a constant is more difficult than it seems, but this does not apply to some things that are inherently constants, for example, functions. </font><font style="vertical-align: inherit;">Also, the rule should not be applied to less familiar ways of creating functions, for example:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d3/945/0fd/4d39450fdda92751a828ba4344e309b5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some examples are debatable due to the lack of definition of what a constant is. </font><font style="vertical-align: inherit;">For example, should an instance of a class defined at the module level, which may or may not have a mutable state, be considered constant? </font><font style="vertical-align: inherit;">For example, in this expression:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c56/a26/52f/c56a2652fd28c08feee8306c6c96a048.png"></div><br>
<ul>
<li><strong><code>no-self-use</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 23</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pylint incorrectly stated Method could be a function for many cases where I use inheritance to perform various implementations, respectively, I can not convert them to functions.</font></font><br>
<br>
<ul>
<li><strong><code>protected-access</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 5</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pylint incorrectly assessed who was the ‚Äúowner‚Äù (the current code fragment creates the protected attribute of the object and uses it locally, but Pylint does not see this).</font></font><br>
<br>
<ul>
<li><strong><code>no-name-in-module</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><strong><code>import-error</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
<li><strong><code>pointless-statement</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó 1</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This statement actually produced the result:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/454/9c4/3ea/4549c43ea3cdb8f7910eaa2edce758cd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I used this to intentionally cause an unusual error that is unlikely to be found by tests. </font><font style="vertical-align: inherit;">I don‚Äôt blame Pylint for not recognizing it ... </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total: 477</font></font></strong><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subtotal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are not yet at the finish line, but it's time to group our results:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúGood‚Äù - ‚ÄúBugs‚Äù and ‚ÄúUtilities‚Äù blocks - here Pylint definitely helped: 17.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúNeutral‚Äù - ‚ÄúCosmetic changes‚Äù - a minor benefit from Pylint, errors will not cause damage: 252.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúBad‚Äù - ‚ÄúUseless‚Äù, ‚ÄúUnable to fix‚Äù, ‚ÄúInaccuracies‚Äù - where Pylint wants changes in the code, where it is not required. </font><font style="vertical-align: inherit;">Including where edits cannot be made due to external dependencies or where Pylint simply incorrectly analyzed the code: 766.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ratio of good to bad is very small. </font><font style="vertical-align: inherit;">If Pylint was my colleague helping code review, I would beg him to leave. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To remove false notifications, you can drown out the outgoing error class (which will then increase the uselessness of using Pylint) or add </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">special comments</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to the code. </font><font style="vertical-align: inherit;">I don‚Äôt want to do the latter, because:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It takes time!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I don't like the piling up of comments that exist to silence the linter.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will gladly add these pseudo-comments when there will be a definite plus from the linter. </font><font style="vertical-align: inherit;">In addition, I am anxious about comments, so my syntax highlighting displays them vividly: as recommended </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in this article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">However, in some places I have already added # comments </font></font><code>NOQA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to muffle Flake8, but with them for one section you can add only five error codes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docstrings</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The remaining problems that Pylint discovered were missing documentation lines. </font><font style="vertical-align: inherit;">I put them in a separate category because:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They are very controversial, and you may have a completely different policy regarding such things.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I did not have time to analyze all of them.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In total, Pylint discovered 620 missing dockstrings (in modules, functions, class methods). </font><font style="vertical-align: inherit;">But in many cases, I was right. </font><font style="vertical-align: inherit;">For instance:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When everything is clear from the name. </font><font style="vertical-align: inherit;">For instance:</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When a docstring is already defined - for example, if I implement the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django's database router</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interface </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Adding your own line in this case can be dangerous.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In other cases, these lines of descriptions would not hurt my code. </font><font style="vertical-align: inherit;">In about 15‚Äì30% of the cases found by Pylint, I would have thought, ‚ÄúYes, I need to add a docstring here, thanks Pylint for the reminder.‚Äù </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, I don‚Äôt like the tools that make adding dockstrings everywhere and everywhere, because I think that in this case they will turn out bad. </font><font style="vertical-align: inherit;">It‚Äôs better not to write them at all. </font><font style="vertical-align: inherit;">A similar situation with bad comments:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reading them is a waste of time: they do not have additional information or they contain incorrect information,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">they help subconsciously highlight docstrings in the text, because they contain useful information (if you write them in the case). </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warnings about missing documentation lines are annoying: to remove them, you need to add comments separately, which takes about the same amount of time as adding the docking itself. </font><font style="vertical-align: inherit;">Plus it all creates visual noise. </font><font style="vertical-align: inherit;">As a result, you will get lines of documentation that are not necessary or useful.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I believe that my initial assumptions about the uselessness of Pylint turned out to be correct (in the context of the code base for which I use Flake8). In order for me to use it, the indicator reflecting the number of false positives should be lower. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to creating visual noise, additional time is required to sort out or filter out false notifications, and I would not want to add any of this to the project. Junior developers will be more humble to make edits to remove Pylint's comments. But this will lead to them breaking the working code, not realizing that Pylint is wrong, or to the fact that as a result you will have a lot of refactoring so that Pylint can understand your code correctly.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you use Pylint in a project from the very beginning or in a project where there are no external dependencies, I think you will have a different opinion and the number of false notifications will be less. </font><font style="vertical-align: inherit;">However, this can lead to additional time costs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another approach is to use Pylint for a limited number of kinds of errors. </font><font style="vertical-align: inherit;">However, there were only a few, the responses on which turned out to be correct or extremely rarely false (in relative and absolute terms). </font><font style="vertical-align: inherit;">Among them are: </font></font><code>dangerous-default-value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>stop-iteration-return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>broad-exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>useless-object-inheritance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In any case, I hope this article helped you when considering whether to use Pylint or in a dispute with colleagues.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499846/index.html">When separate garbage collection will start working and why video monitoring of sites for garbage containers is needed</a></li>
<li><a href="../en499850/index.html">How to analyze competitors and set up a digital strategy in 40 minutes</a></li>
<li><a href="../en499852/index.html">English-language documentation for Angular</a></li>
<li><a href="../en499854/index.html">Apache Bigtop and the choice of Hadoop distribution today</a></li>
<li><a href="../en499858/index.html">What to do on the weekend: an overview of some board games for those who are tired of blue screens</a></li>
<li><a href="../en499872/index.html">Modularity in Java 9</a></li>
<li><a href="../en499874/index.html">Cough Detection on Intel NUC</a></li>
<li><a href="../en499876/index.html">Top 5 classic books to improve financial literacy and prepare for the first steps on the exchange</a></li>
<li><a href="../en499878/index.html">The fight for milliseconds. How to choose the server with the least ping</a></li>
<li><a href="../en499882/index.html">How we select designers and conduct technical interviews</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>