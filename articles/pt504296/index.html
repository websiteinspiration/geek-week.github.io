<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öôÔ∏è üí£ üéë Gerando ramifica√ß√µes aleat√≥rias em Python ‚èÆÔ∏è üåØ ‚úçüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recordando Dawkins, a id√©ia principal pode ser expressa da seguinte forma: se voc√™ mantiver o tornado sobre o lixo por um longo tempo , um Boeing 747 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gerando ramifica√ß√µes aleat√≥rias em Python</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504296/"><img src="https://habrastorage.org/webt/fy/vd/nr/fyvdnr83rzvq1tow9chyg7e0kry.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recordando Dawkins, a id√©ia principal pode ser expressa da seguinte forma: se voc√™ </font><font style="vertical-align: inherit;">mantiver o tornado sobre o lixo por um </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">longo tempo</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um Boeing 747 poder√° ser montado. O surgimento de uma estrutura do caos por um durik: separando e recombinando tudo em sequ√™ncia, de todos os processos sem sentido e desordenados, pode-se ver processos bastante significativos e ordenados. Se tais processos s√£o fixos e repetidos de alguma forma, ent√£o o sistema, que ontem foi um movimento browniano, hoje come√ßa a parecer que seu comportamento foi estabelecido por uma m√£o invis√≠vel e que est√° realizando algumas a√ß√µes significativas do nosso ponto de vista. Ao mesmo tempo, n√£o h√° m√£o alguma. Ela se arrumou.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para me certificar disso novamente, eu me esfor√ßo para escrever algum tipo de vida digital que, do caos e sem instru√ß√µes desnecess√°rias de uma pessoa, ser√° capaz de gerar aleatoriamente l√≥gica para si mesma e existir nela em seu habitat natural - o sistema operacional. Sim, provavelmente h√° uma diferen√ßa em muitos programas da dire√ß√£o ‚ÄúVida Artificial‚Äù, que ‚Äúvivem‚Äù em currais, produzem ‚Äúpredadores‚Äù e ‚Äúherb√≠voros‚Äù e coexistem em campos artificiais com ‚Äúcomida‚Äù e entre si. Nenhum desses programas interage com objetos do sistema (processos, arquivos etc.), o que significa que o c√≥digo n√£o est√° realmente ativo. Al√©m disso, esse c√≥digo, de uma forma ou de outra, ainda executa algum tipo de tarefa que uma pessoa precisa e tem escopo muito limitado por causa disso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar c√≥digo com um alto grau de liberdade de a√ß√£o no sistema operacional, que ao mesmo tempo n√£o seria apenas um conjunto ca√≥tico de instru√ß√µes execut√°veis, apareceu um modelo que consiste em 3 m√≥dulos. </font></font><br>
<a name="habracut"></a><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O m√≥dulo de gera√ß√£o aleat√≥ria do c√≥digo execut√°vel principal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Random Education Module</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O m√≥dulo "vis√£o computacional" dos objetos do SO</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, falaremos sobre o primeiro m√≥dulo, que at√© agora √© apenas a gera√ß√£o de ramifica√ß√£o aleat√≥ria, ou seja, constru√ß√µes como "if-elif-else". Por que ramifica√ß√£o? Porque, em geral, a vida de qualquer organismo vivo consiste em rea√ß√µes condicionadas: tudo o que fazemos √© uma resposta √† informa√ß√£o percebida. As c√©lulas se dividem se certas condi√ß√µes ocorrerem, a v√≠tima tenta escapar se v√™ um predador mais forte e, se estiver mais fraco, pode tentar atac√°-lo, as baratas se espalham se a luz acender, uma pessoa vai comer, se est√° com fome etc. etc. - essa linha √© intermin√°vel. N√£o h√° a√ß√µes independentes e separadas que n√£o sejam condicionadas por nada. Consequentemente, o comportamento dos organismos vivos, em particular, √© descrito como uma rea√ß√£o √† condi√ß√£o: SE [algo] ENT√ÉO [algo]. Estamos tentando gerar esse comportamento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que aleatoriamente? Para deixar o c√≥digo a oportunidade m√°xima de agir de forma independente e afastar a pessoa (programador) desse processo o mais longe poss√≠vel (idealmente, excluir completamente). Este √∫ltimo √© o mais dif√≠cil para o programador, porque A programa√ß√£o padr√£o, √† qual todos est√£o acostumados, assemelha-se a um treinamento √°rduo de animais, que deve executar exatamente o que o programador indica, exatamente como ele indica quando ele indica. Aqui a situa√ß√£o √© oposta: o c√≥digo final gerado deve agir de forma que seja imprevis√≠vel para o criador de seu gerador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de avan√ßarmos para os diagramas e o c√≥digo do gerador, √© necess√°rio considerar a fun√ß√£o de tomada de decis√£o, que √© usada como condutor, permitindo que uma ou outra parte do c√≥digo seja executada. Eu escrevi sobre ela anteriormente</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Foi-me solicitado que descrevesse a ideia do Aprendizado por Refor√ßo e o jogo de John Conway, intitulado "Life". Pode ser que eu n√£o tenha nada contra usar o que j√° foi desenvolvido ou abertamente. No final, tudo o que √© novo √© uma s√≠ntese do j√° conhecido, e eu pr√≥prio admiti que adotei a id√©ia de priorizar fluxos, que √© usada no Windows. Aqui ela √© muito adequada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, a fun√ß√£o mencionada foi ligeiramente transformada:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_solution</span>(<span class="hljs-params">p_random, p_deter</span>):</span>                       
    deter_flag = <span class="hljs-number">0</span>
    random_flag = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> p_random &gt;= random.random():<font></font>
            p_random-=<span class="hljs-number">0.01</span>                                  <span class="hljs-comment">#  </span>
            p_deter+=<span class="hljs-number">0.01</span>
            random_flag = <span class="hljs-number">1</span>
    <span class="hljs-keyword">if</span> p_deter &gt;= random.random():<font></font>
            p_deter-=<span class="hljs-number">0.01</span>                                   <span class="hljs-comment">#  </span>
            p_random+=<span class="hljs-number">0.01</span>
            deter_flag = <span class="hljs-number">1</span>
    <span class="hljs-keyword">if</span> random_flag == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> deter_flag == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span>(p_random, p_deter, <span class="hljs-number">1</span>)
    <span class="hljs-keyword">elif</span> deter_flag == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> random_flag == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span>(p_random, p_deter, <span class="hljs-number">-1</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> (p_random, p_deter,<span class="hljs-number">0</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na entrada, s√£o necess√°rias 2 probabilidades (por padr√£o, no in√≠cio, ambas s√£o iguais a 0,5), ap√≥s o que verifica a opera√ß√£o uma a uma. A probabilidade desencadeada diminui 1% e, ao mesmo tempo, aumenta a outra 1%. Portanto, cada vez que a probabilidade funciona, ela diminui e a outra aumenta. Como resultado, nenhuma probabilidade obt√©m muita vantagem sobre a outra, e elas se equilibram, formando uma distribui√ß√£o normal centrada em 0,5 e com uma vizinhan√ßa de trabalho n√£o superior a + -10%, o que distingue essa fun√ß√£o do aleat√≥rio padr√£o, onde a probabilidade no nosso caso Seria sempre igual a 0,5 e n√£o dependeria de c√°lculos anteriores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figurativamente falando, √© um p√™ndulo de probabilidade com uma pequena amplitude. Se a primeira probabilidade funcionou e a segunda n√£o funcionou, ele retornou 1, caso contr√°rio -1 ser√° retornado e, se funcionou ou n√£o, 0. Portanto, a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make_solution</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para 2 probabilidades recebidas retornar√° uma das 3 a√ß√µes poss√≠veis, fornecendo uma solu√ß√£o bifurcada com 3 op√ß√µes de continua√ß√£o poss√≠veis. No futuro, √© prov√°vel que essa fun√ß√£o seja universal e possa assumir um n√∫mero indefinido de probabilidades, porque a varia√ß√£o nos garfos pode ser maior que 3, mas no caso do gerador if-elif-else, tr√™s op√ß√µes de continua√ß√£o s√£o suficientes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m deve ser observado aqui que no c√≥digo existem diferentes, por assim dizer, garfos t√≠picos. Por exemplo, como ser√° visto abaixo, na fun√ß√£o principal do gerador, existe uma bifurca√ß√£o na qual existe uma escolha de um esquema para a constru√ß√£o de uma ramifica√ß√£o, da qual existem apenas 3, mas outros casos tamb√©m est√£o presentes no c√≥digo: insira um bloco de a√ß√£o ou inicie uma recurs√£o, quantas linhas de a√ß√£o devem ser geradas, quantas linhas de a√ß√£o devem ser geradas, qu√£o complicado deve ser alinhar com a condi√ß√£o, colocar ou ou e, elif ou ent√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acredito que o p√™ndulo probabil√≠stico, sobre o qual falamos acima, deve ser definido para cada tipo de a√ß√£o: ent√£o o garfo √© equilibrado apenas com base no que aconteceu anteriormente nesse garfo, e n√£o em outras partes do c√≥digo. Essa. ao escolher a estrutura geral de ramifica√ß√£o, temos nosso pr√≥prio par de probabilidades e, dentro, quando seus elementos s√£o constru√≠dos, outro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, voc√™ pode equilibrar todas as a√ß√µes com um par, mas a probabilidade em cada bifurca√ß√£o ser√° muito dif√≠cil e depender√° de todas as a√ß√µes anteriores em outros cruzamentos. A aleatoriedade de um projeto desse tipo ser√° ainda maior, mas por enquanto estou pessoalmente inclinado ao primeiro esquema, porque gosto do design em que outros pequenos oscilam dentro da estrutura de um grande p√™ndulo oscilante, ou seja, saldos menores nascem em um grande saldo. Al√©m disso, no segundo esquema, a aleatoriedade tamb√©m √© mais que suficiente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao escrever o gerador de ramifica√ß√£o, era necess√°rio criar n√£o apenas c√≥digo vi√°vel que produz gera√ß√µes sem erros, mas tamb√©m c√≥digo que </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pudesse</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gere o m√°ximo poss√≠vel de constru√ß√µes de if-elif-else, mas n√£o existem 2 ou 3. dessas op√ß√µes poss√≠veis.Considere, por exemplo, os seguintes esquemas poss√≠veis. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qu/oj/i3/quoji3ppc2arksk-xwafu3lfiqm.jpeg" width="350" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pelo √≠cone </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[...]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos esquemas, quero dizer um conjunto de express√µes para uma condi√ß√£o ou um bloco de a√ß√µes aleat√≥rias. O esquema mais elementar √© 1, onde a condi√ß√£o simplesmente segue e depois o bloco de a√ß√£o. 2a e 2b s√£o se varia√ß√µes com um elif ou outro. Na op√ß√£o 2c, se j√° vem em combina√ß√£o com v√°rios elif sem mais. E finalmente, na op√ß√£o 2d, o esquema mais geral √© apresentado, onde se cont√©m v√°rios elif e 1 mais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo seria simples se n√£o fosse a necessidade de construir filiais ilimitadas. Depois de cada if, elif ou ent√£o, a recurs√£o pode ser chamada, o que por sua vez tamb√©m pode recuar mais e produzir novos blocos de elif-else para o "direito". Vejamos o esquema de op√ß√µes poss√≠veis. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y0/0z/vr/y00zvr1zkcwxuceu28olrpfabpo.jpeg" width="400" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As Modalidades 2e e 2f mostram casos especiais simples de ramifica√ß√£o recursiva quando a recurs√£o √© chamada ap√≥s um √∫nico elif ou ap√≥s outro. A op√ß√£o 2g descreve o caso mais complexo e geral dessa recurs√£o, quando ap√≥s cada elif pode haver um bloco de a√ß√£o + recurs√£o (ou recurs√£o imediata), e a mesma coisa pode acontecer depois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainda existem varia√ß√µes quando a recurs√£o ocorre imediatamente ap√≥s se ou ap√≥s se e um bloco de a√ß√£o.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/dv/ye/hxdvyem6hl667rv0v-e-mjhpiv8.jpeg" width="400" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© visto nas op√ß√µes 3a e 3b. A op√ß√£o 3c mostra esse esquema da forma mais geral. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso n√£o quer dizer que os esquemas acima abranjam todas as op√ß√µes poss√≠veis para a constru√ß√£o de ramifica√ß√µes, mas mesmo nesta forma, o c√≥digo final facilmente gera ramifica√ß√µes de 150 linhas, indo ‚Äúpara a direita‚Äù por 10 a 15 etapas. De qualquer forma, complicar o esquema, se necess√°rio, n√£o √© dif√≠cil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode ver um exemplo de </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dessas gera√ß√µes para garantir que os galhos possam ser muito diversos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zs/8j/gd/zs8jgd-5efc6vzg0thgjztgfyq0.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ n√£o precisa prestar aten√ß√£o √† composi√ß√£o de express√µes condicionais e blocos de a√ß√£o - por simplicidade visual, eles s√£o gerados a partir de apenas combina√ß√µes de duas vari√°veis, 3 express√µes e um pequeno n√∫mero de sinais aritm√©ticos e l√≥gicos. Uma discuss√£o sobre a verdadeira "carne" para recombina√ß√£o est√° al√©m do escopo deste artigo (isso ser√° discutido na discuss√£o de 3 m√≥dulos). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de prosseguir com uma revis√£o direta do c√≥digo do gerador, √© necess√°rio lembrar que os blocos gerados devem ser deslocados horizontalmente para a direita, se for elif, caso contr√°rio, se houver recurs√£o ou a√ß√£o, e tamb√©m "voltar" para a esquerda ap√≥s a conclus√£o da ramifica√ß√£o. Al√©m disso, como o Python √© muito exigente quanto aos recuos horizontais, √© desej√°vel fazer o passo da mesma forma (no nosso caso, o passo √© 3).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O diagrama a seguir ilustra como os deslocamentos s√£o deslocados. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mu/p8/ue/mup8uegwtzj-fydzcdcsswbsutw.jpeg" width="500" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mais importante aqui √© que os deslocamentos com o aprofundamento do galho s√£o sempre deslocados para a direita. No entanto, se tivermos, por exemplo, um bloco elif-else no qual haja v√°rios elif-elos ou um √∫nico par elif-else, ser√° necess√°rio "devolver" a carruagem que flutuava para a direita, para que o pr√≥ximo elif (ou outro) comece com mesmos deslocamentos que o anterior no bloco. Para fazer isso, voc√™ deve salvar o deslocamento original ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wall_offset</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) e ap√≥s o final da gera√ß√£o da ramifica√ß√£o (por exemplo, ramifica√ß√£o completa de um elif), restaure-a. Isso garante que os elementos elif e else do bloco estejam "em cima um do outro" uniformemente. Al√©m disso, cada novo bloco tem seu pr√≥prio deslocamento. O mesmo truque fornece harmonia na constru√ß√£o geral if-elif-else (incluindo recurs√µes). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ao c√≥digo. O c√≥digo com um volume total de cerca de 200 linhas consiste em 8 fun√ß√µes, uma das quais examinamos acima. Devido √† recursividade e um grande n√∫mero de par√¢metros passados ‚Äã‚Äãpara fun√ß√µes, pode ser pouco leg√≠vel em alguns locais. Para come√ßar, citarei a pr√≥pria "carne" usada para gerar express√µes condicionais e blocos de a√ß√£o.</font></font><br>
<br>
<pre><code class="python hljs">var_list = [<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>]<font></font>
exp_list = [<span class="hljs-string">'a+b'</span>,<span class="hljs-string">'b-a'</span>, <span class="hljs-string">'b//a'</span>]<font></font>
sign = [<span class="hljs-string">'+'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'/'</span>,<span class="hljs-string">'*'</span>,<span class="hljs-string">'//'</span>]<font></font>
sign2 = [<span class="hljs-string">'&gt;'</span>,<span class="hljs-string">'&lt;'</span>,<span class="hljs-string">'=='</span>,<span class="hljs-string">'&gt;='</span>,<span class="hljs-string">'&lt;='</span>,<span class="hljs-string">'!='</span>]<font></font>
a = <span class="hljs-number">3</span>
b = <span class="hljs-number">2</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, duas vari√°veis ‚Äã‚Äãs√£o usadas: aeb ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), que s√£o inicializadas, 3 express√µes aritm√©ticas ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exp_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e tamb√©m duas folhas com sinais ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinal, sinal2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Como mencionado anteriormente, a composi√ß√£o das express√µes resultantes n√£o importa agora e n√£o √© considerada neste artigo - elas s√£o necess√°rias principalmente para ilustrar o c√≥digo. Mais uma peculiaridade deve ser observada: na gera√ß√£o do bloco elif-else, √© necess√°rio rastrear a apar√™ncia do else e interromper a gera√ß√£o; caso contr√°rio, pode aparecer antes do elif, o que naturalmente causar√° um erro. O sinalizador </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fin_else_flag</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© usado para essa finalidade </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßamos nossa considera√ß√£o com a principal fun√ß√£o de gera√ß√£o.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">if_gen</span>(<span class="hljs-params">exp_list, var_list, if_str, offset_koeff, fin_else_flag, prob_list</span>):</span>             <font></font>
    choice_list = [exp_list, var_list]<font></font>
    base_offset = <span class="hljs-string">' '</span>
    <span class="hljs-comment">#   </span>
    prob_list[<span class="hljs-number">0</span>],prob_list[<span class="hljs-number">1</span>],sol = make_solution(prob_list[<span class="hljs-number">0</span>],prob_list[<span class="hljs-number">1</span>])       
    <span class="hljs-comment"># if +   (1   )        </span>
    <span class="hljs-keyword">if</span> sol == <span class="hljs-number">0</span>: 
        <span class="hljs-comment">#     +3                                                                   </span>
        action_str = action_str_gen(choice_list, offset_koeff+<span class="hljs-number">3</span>, prob_list)                 
        <span class="hljs-keyword">return</span>(base_offset*offset_koeff+<span class="hljs-string">'if '</span>+ if_sub(exp_list,var_list, sign, prob_list) +<span class="hljs-string">':\n'</span> + action_str, offset_koeff, fin_else_flag, prob_list) 
    <span class="hljs-comment"># if + elif/else (2   )           </span>
    <span class="hljs-keyword">elif</span> sol == <span class="hljs-number">-1</span>:                                                                         <font></font>
        if_str= base_offset*offset_koeff+<span class="hljs-string">'if '</span>+ if_sub(exp_list,var_list, sign, prob_list) +<span class="hljs-string">':\n'</span> + action_str_gen(choice_list, offset_koeff+<span class="hljs-number">3</span>, prob_list) <span class="hljs-comment"># if [..]:</span>
        <span class="hljs-comment">#  elif/else</span>
        prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>],sol2=make_solution(prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>])             
        <span class="hljs-keyword">if</span> sol2!=<span class="hljs-number">0</span>:<font></font>
            ee_string=<span class="hljs-string">'elif'</span>
        <span class="hljs-keyword">else</span>:<font></font>
             ee_string=<span class="hljs-string">'else'</span>
        <span class="hljs-comment">#   elif/else</span><font></font>
        if_str, offset_koeff, fin_else_flag, prob_list = elif_else_block(ee_string, offset_koeff, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list)<font></font>
        <span class="hljs-keyword">return</span>(if_str, offset_koeff, fin_else_flag, prob_list)
    <span class="hljs-comment"># if + if() (3   )</span>
    <span class="hljs-keyword">else</span>:                                                                                   <font></font>
            if_str= base_offset*offset_koeff+<span class="hljs-string">'if '</span>+ if_sub(exp_list,var_list, sign, prob_list) +<span class="hljs-string">':\n'</span> <span class="hljs-comment"># if [..]:</span>
            <span class="hljs-comment">#  if/if+ </span>
            prob_list[<span class="hljs-number">4</span>],prob_list[<span class="hljs-number">5</span>],sol = make_solution(prob_list[<span class="hljs-number">4</span>],prob_list[<span class="hljs-number">5</span>])        
            <span class="hljs-keyword">if</span> sol==<span class="hljs-number">0</span>:
                <span class="hljs-comment">#     +3</span>
                if_str+=action_str_gen(choice_list, offset_koeff+<span class="hljs-number">3</span>, prob_list)      
            <span class="hljs-comment">#          </span><font></font>
            wall_offset = offset_koeff                                                      <font></font>
            if_rek, offset_koeff, fin_else_flag, prob_list = if_gen(exp_list, var_list, if_str, offset_koeff+<span class="hljs-number">3</span>, fin_else_flag, prob_list) <span class="hljs-comment">#  if+if</span>
            <span class="hljs-comment">#    </span><font></font>
            if_str+=if_rek   <font></font>
            <span class="hljs-comment">#   elif-else/                                                                </span>
            prob_list[<span class="hljs-number">4</span>],prob_list[<span class="hljs-number">5</span>],sol2=make_solution(prob_list[<span class="hljs-number">4</span>],prob_list[<span class="hljs-number">5</span>])         
            <span class="hljs-keyword">if</span> sol2!=<span class="hljs-number">0</span>:<font></font>
                prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>],sol3=make_solution(prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>])
                <span class="hljs-keyword">if</span> sol3!=<span class="hljs-number">0</span>:<font></font>
                    ee_string=<span class="hljs-string">'elif'</span>
                <span class="hljs-keyword">else</span>:<font></font>
                    ee_string=<span class="hljs-string">'else'</span><font></font>
                if_str, offset_koeff, fin_else_flag, prob_list = elif_else_block(ee_string, wall_offset, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list)  <font></font>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment">#     +3</span>
                if_str+=action_str_gen(choice_list, offset_koeff+<span class="hljs-number">3</span>, prob_list)              
            <span class="hljs-keyword">return</span>(if_str, offset_koeff,fin_else_flag, prob_list)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m das listas com ‚Äúcarne‚Äù para gera√ß√£o (exp_list, var_list), a fun√ß√£o tamb√©m </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aceita if_str</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - esta √© a linha na qual o c√≥digo gerado √© coletado por sua vez. √â aceito aqui porque a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_gen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode ser chamada recursivamente e √© aconselh√°vel n√£o perder o trecho de c√≥digo gerado anteriormente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O par√¢metro </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offset_koeff</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© o coeficiente de deslocamento, que √© um fator para uma linha com um espa√ßo ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base_offset</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e, portanto, √© respons√°vel pelos deslocamentos horizontais dos blocos de c√≥digo. </font><font style="vertical-align: inherit;">Falamos </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sobre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fin_else_flag</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acima, aqui √© simplesmente passado para uma fun√ß√£o que √© respons√°vel por gerar if + elif / else (veja abaixo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, h√° outro par√¢metro -</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prob_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que √© uma planilha com 10 probabilidades (5 pares de probabilidades)</font></font><pre><code class="python hljs">prob_list = [<span class="hljs-number">0.5</span> <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>)] </code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e √© usado pela fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make_solution</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como discutimos acima: este ou aquele par de probabilidades correspondentes ao tipo de bifurca√ß√£o √© passado para ele (por exemplo, o principal bifurca√ß√£o estrutural usa as 2 primeiras probabilidades da planilha: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prob_list [0]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prob_list [1]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Os resultados das mudan√ßas de probabilidade nesta planilha, como exemplo, podem ser vistos na figura a seguir. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/_o/qc/tw_oqckdotydpm1m5djcmdc3rgw.jpeg" width="550" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As probabilidades nesta lista mudam de gera√ß√£o para gera√ß√£o, se durante a pr√≥xima gera√ß√£o o trecho de c√≥digo correspondente for executado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√≥pria fun√ß√£o, a lista de op√ß√µes aninhada √© inicializada no in√≠cio - √© necess√°ria para a gera√ß√£o aleat√≥ria conveniente de express√µes de ‚Äúcarne‚Äù e o deslocamento base </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base_offset = ''</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um espa√ßo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, vem o fork principal, que, atrav√©s da fun√ß√£o make_solution, coloca a solu√ß√£o na vari√°vel sol. Sol pega um dos tr√™s valores (0, -1,1) e determina, portanto, de acordo com o esquema em que a estrutura ser√° constru√≠da. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira op√ß√£o implementa a op√ß√£o mais simples se + [..]. A resposta √© formada como uma string com o deslocamento atual (n√£o √© necessariamente igual a 0!), Uma string "if", uma condi√ß√£o aleat√≥ria gerada pela fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_sub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (que ser√° discutida mais adiante), retorno de carro e gera√ß√£o de um bloco de a√ß√£o usando a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">action_str</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (veja abaixo) . Como resultado, obtemos algo como:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((a+b)==(b)):<font></font>
   b=b<font></font>
   a=b-a<font></font>
   a=a</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A segunda op√ß√£o √© respons√°vel por gerar esse tipo: if [..] + elif / else-block (op√ß√£o 2 nos esquemas). </font><font style="vertical-align: inherit;">Primeiro, uma linha if + [..] √© formada l√°, ocorre um fork elif / else, que decide se o bloco elif-else ser√° gerado, apenas if-elif ou if-else (fun√ß√£o e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lif_else_block</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - veja abaixo). </font><font style="vertical-align: inherit;">Os resultados podem variar. </font><font style="vertical-align: inherit;">Por exemplo:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((a+b)==(a)):<font></font>
   b=a+b<font></font>
<span class="hljs-keyword">elif</span> ((b//a)==(a)):
   <span class="hljs-literal">None</span>
<span class="hljs-keyword">elif</span> ((a+b)&lt;=(a)):<font></font>
   a=b//a<font></font>
<span class="hljs-keyword">else</span>:
   <span class="hljs-keyword">if</span> ((b)&lt;=(a)):<font></font>
      a=b-a<font></font>
      b=a</code></pre><br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((a)==(b-a)):<font></font>
   b=b-a<font></font>
   b=b<font></font>
   a=b<font></font>
   a=b-a<font></font>
<span class="hljs-keyword">elif</span> ((b)&gt;(b-a))<span class="hljs-keyword">and</span>((a)&lt;(b-a)):
   <span class="hljs-keyword">if</span> ((b//a)&lt;(a)):<font></font>
      b=b-a<font></font>
   <span class="hljs-keyword">elif</span> ((a+b)&lt;(b-a))<span class="hljs-keyword">and</span>((b)&lt;(a+b))<span class="hljs-keyword">or</span>((a+b)==(a+b)):<font></font>
      b=b<font></font>
      a=b-a<font></font>
   <span class="hljs-keyword">elif</span> ((a)&gt;(b-a)):
      <span class="hljs-literal">None</span></code></pre><br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((b)&lt;=(b-a))<span class="hljs-keyword">or</span>((a+b)&gt;=(b)):<font></font>
   a=a<font></font>
   b=b<font></font>
<span class="hljs-keyword">elif</span> ((b)&lt;=(b)):
   <span class="hljs-keyword">if</span> ((a)&gt;=(b)):<font></font>
      a=a+b<font></font>
      a=b<font></font>
<span class="hljs-keyword">elif</span> ((b)&gt;=(a)):<font></font>
   a=b-a<font></font>
   a=a<font></font>
   <span class="hljs-keyword">if</span> ((a)&gt;=(b))<span class="hljs-keyword">and</span>((b//a)==(a))<span class="hljs-keyword">and</span>((b//a)!=(b)):<font></font>
      b=b-a<font></font>
<span class="hljs-keyword">else</span>:<font></font>
   a=b//a<font></font>
   <span class="hljs-keyword">if</span> ((b//a)&lt;(b-a)):<font></font>
      a=b<font></font>
      a=b-a<font></font>
   <span class="hljs-keyword">else</span>:
      <span class="hljs-keyword">if</span> ((a)==(b)):<font></font>
         a=a<font></font>
         a=b//a<font></font>
         b=b<font></font>
         b=a+b<font></font>
         b=a<font></font>
      <span class="hljs-keyword">else</span>:
         <span class="hljs-literal">None</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A terceira op√ß√£o implementa a recurs√£o desde o in√≠cio (op√ß√£o 3 nos esquemas), ou seja, </font><font style="vertical-align: inherit;">d√° origem a um ramo do formul√°rio:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((a)==(a)):
   <span class="hljs-keyword">if</span> ((a+b)&lt;(b)):</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou </font></font><pre><code class="python hljs"><span class="hljs-keyword">if</span> ((b-a)&lt;=(a)):<font></font>
   a=a<font></font>
   <span class="hljs-keyword">if</span> ((b-a)==(b)):<font></font>
      a=a<font></font>
      a=a</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, a linha if √© formada (da mesma forma), ent√£o um fork aparece, que decide se deseja inserir o bloco de a√ß√£o ou n√£o, ap√≥s o qual o deslocamento √© salvo e a recurs√£o √© chamada. O deslocamento deve ser salvo para que, ap√≥s a recurs√£o ser conclu√≠da e o c√≥digo retornado, seja poss√≠vel adicionar outro bloco elif-else no mesmo deslocamento que a linha original com if. Aqui voc√™ pode ver como elif e o resto do ramo ficam no mesmo deslocamento com o "nativo" deles.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((b-a)==(b)):<font></font>
<font></font>
   <span class="hljs-keyword">if</span> ((a)&gt;(a+b)):
      <span class="hljs-keyword">if</span> ((b)==(b-a)):<font></font>
         b=b<font></font>
         a=a<font></font>
      <span class="hljs-keyword">elif</span> ((b)&gt;(b)):
         <span class="hljs-literal">None</span>
      <span class="hljs-keyword">else</span>:
         <span class="hljs-literal">None</span><font></font>
         b=a<font></font>
         b=b</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vem uma bifurca√ß√£o no bloco elif-else-block / action, que decide se deve adicionar um bloco de a√ß√£o ou um bloco elif-else ap√≥s a recurs√£o. Se voc√™ decidir adicionar um bloco elif-else, ent√£o, de maneira semelhante ao caso descrito acima, no esquema 2, elif ou ent√£o ser√° selecionado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui √© necess√°rio prestar aten√ß√£o ao fato de que a recurs√£o √© chamada com um deslocamento de + 3 para deslocar o c√≥digo gerado para a direita em uma etapa, e o bloco elif-else √© chamado com um deslocamento de wall_offset para que esse bloco n√£o v√° para a direita ap√≥s a recurs√£o, mas permanece com o "nativo" o deslocamento do original se. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os resultados podem ser bem diferentes: do simples ao complexo, mas a apar√™ncia da recurs√£o produz imediatamente os ramos mais ornamentados.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((b-a)&gt;(a+b))<span class="hljs-keyword">and</span>((b)&lt;(a+b)):
   <span class="hljs-keyword">if</span> ((b-a)&lt;=(a+b)):<font></font>
      b=b//a<font></font>
   <span class="hljs-keyword">elif</span> ((b)!=(a)):<font></font>
      a=b-a<font></font>
<span class="hljs-keyword">else</span>:
   <span class="hljs-keyword">if</span> ((a+b)!=(b-a)):<font></font>
      a=a</code></pre><br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((b)&lt;(b-a)):
   <span class="hljs-keyword">if</span> ((a+b)==(b-a))<span class="hljs-keyword">and</span>((b-a)&lt;(a+b))<span class="hljs-keyword">and</span>((b-a)==(a))<span class="hljs-keyword">and</span>((a)&gt;(b//a))<span class="hljs-keyword">or</span>((a+b)&gt;(b//a)):
      <span class="hljs-keyword">if</span> ((b)&gt;=(b-a)):<font></font>
         a=b<font></font>
         b=b<font></font>
         <span class="hljs-keyword">if</span> ((b)&gt;(b)):<font></font>
            a=a+b<font></font>
            b=a+b<font></font>
            a=a<font></font>
            b=a+b<font></font>
            b=b//a<font></font>
            b=a<font></font>
      <span class="hljs-keyword">else</span>:<font></font>
         b=a+b<font></font>
         a=b<font></font>
         a=b<font></font>
   <span class="hljs-keyword">elif</span> ((a)&lt;(b-a)):<font></font>
      a=b//a<font></font>
      a=b-a</code></pre><br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> ((a)&gt;=(b-a))<span class="hljs-keyword">or</span>((a)&gt;=(a))<span class="hljs-keyword">or</span>((b)&lt;=(b)):<font></font>
   a=a<font></font>
   a=a<font></font>
<span class="hljs-keyword">elif</span> ((a)==(a))<span class="hljs-keyword">and</span>((b)&gt;(b-a)):<font></font>
   a=b//a<font></font>
   <span class="hljs-keyword">if</span> ((a)&lt;(b)):
      <span class="hljs-keyword">if</span> ((a+b)==(b-a)):<font></font>
         a=a<font></font>
         <span class="hljs-keyword">if</span> ((a)!=(b//a)):
            <span class="hljs-keyword">if</span> ((b//a)!=(a))<span class="hljs-keyword">and</span>((b-a)&gt;=(b)):<font></font>
               a=b<font></font>
            <span class="hljs-keyword">else</span>:
               <span class="hljs-literal">None</span><font></font>
               a=b//a<font></font>
      <span class="hljs-keyword">else</span>:<font></font>
         b=b<font></font>
         b=a+b<font></font>
         <span class="hljs-keyword">if</span> ((b-a)&lt;=(b//a)):<font></font>
            a=b<font></font>
            a=b<font></font>
            a=a+b<font></font>
<span class="hljs-keyword">else</span>:<font></font>
   a=a+b<font></font>
   <span class="hljs-keyword">if</span> ((b-a)&gt;=(a)):<font></font>
      a=b<font></font>
      <span class="hljs-keyword">if</span> ((b-a)==(a))<span class="hljs-keyword">or</span>((b)!=(b//a)):<font></font>
         a=b-a<font></font>
         a=a<font></font>
         a=a<font></font>
         a=b//a<font></font>
         a=a+b<font></font>
         b=a</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, vejamos a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif_else_block</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , respons√°vel por formar o bloco elif-else e √© chamada a partir da fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_gen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> principal </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">elif_else_block</span>(<span class="hljs-params">ee_string, offset_koeff, exp_list, var_list, sign, if_str, choice_list,  fin_else_flag, prob_list</span>):</span>
    <span class="hljs-keyword">if</span> ee_string==<span class="hljs-string">'elif'</span>:<font></font>
        sol3 = <span class="hljs-number">9</span>
        <span class="hljs-comment">#  </span><font></font>
        wall_offset = offset_koeff<font></font>
        <span class="hljs-comment">#  elif  </span>
        <span class="hljs-keyword">while</span> sol3!=<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> fin_else_flag!=<span class="hljs-number">1</span>:<font></font>
            temp_str, offset_koeff, fin_else_flag, prob_list=elif_else(<span class="hljs-string">'elif'</span>, wall_offset, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list)<font></font>
            if_str+=temp_str<font></font>
            prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol3 = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])
        <span class="hljs-comment">#  -   else   elif?</span>
        prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>],sol = make_solution(prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>])
        <span class="hljs-keyword">if</span> sol!=<span class="hljs-number">0</span>:
            <span class="hljs-comment">#  else,   </span>
            fin_else_flag=<span class="hljs-number">1</span>
            temp_str,offset_koeff, fin_else_flag, prob_list=elif_else(<span class="hljs-string">'else'</span>, wall_offset, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list)<font></font>
            if_str+=temp_str<font></font>
        <span class="hljs-keyword">return</span>(if_str,offset_koeff, fin_else_flag, prob_list)
    <span class="hljs-comment">#  else</span>
    <span class="hljs-keyword">else</span>: <font></font>
          temp_str,offset_koeff, fin_else_flag, prob_list=elif_else(<span class="hljs-string">'else'</span>, offset_koeff, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list)<font></font>
          if_str+=temp_str<font></font>
          <span class="hljs-keyword">return</span>(if_str, offset_koeff, fin_else_flag, prob_list)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta fun√ß√£o decide se um bloco elif ou elif / else deve ser adicionado ao c√≥digo. Ela n√£o decide se simplesmente deve colocar outra coisa, mas depende do valor de entrada e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e_string</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que recebe da fun√ß√£o principal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_gen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Primeiro, o bloco elif √© gerado no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loop while</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde duas condi√ß√µes s√£o verificadas: probabilistic - o n√∫mero de elif no bloco e o sinalizador </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fin_else_flag dependem dele</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, se ele for </font><b><font style="vertical-align: inherit;">ativado</font></b><font style="vertical-align: inherit;"> repentinamente, significa que outra coisa foi conectada antes disso e, portanto, voc√™ precisa sair do loop . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A decis√£o de anexar else e else ao bloco elif √© decidida por uma bifurca√ß√£o usando a mesma fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make_solution</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, se mais estiver anexado, o sinalizador </font><b><font style="vertical-align: inherit;">fin_else_flag</font></b><font style="vertical-align: inherit;"> ser√° </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ativado imediatamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que interrompe a gera√ß√£o de blocos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A jun√ß√£o direta de elif e else √© realizada pela fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif_else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (veja abaixo). Aqui √© necess√°rio prestar aten√ß√£o que, ao gerar o bloco elif (e tamb√©m ao anex√°-lo), o offset </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wall_offset</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© usado para construir o bloco como um todo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora considere a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif_else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="python hljs">&lt;b&gt;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">elif_else</span>(<span class="hljs-params">ee_string, offset_koeff, exp_list, var_list, sign, if_str, choice_list, fin_else_flag, prob_list</span>):</span>
    ee_str = <span class="hljs-string">''</span>
    <span class="hljs-comment">#   else:  elif [..]:</span>
    <span class="hljs-keyword">if</span> ee_string==<span class="hljs-string">'else'</span>:<font></font>
        ee_str += <span class="hljs-string">' '</span>*offset_koeff+ee_string + <span class="hljs-string">':\n'</span>
    <span class="hljs-keyword">elif</span> ee_string==<span class="hljs-string">'elif'</span>:<font></font>
        ee_str += <span class="hljs-string">' '</span>*offset_koeff+ee_string+<span class="hljs-string">' '</span>+if_sub(exp_list, var_list, sign, prob_list) + <span class="hljs-string">':\n'</span>
    <span class="hljs-comment">#   -None /  +</span>
    prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>],sol = make_solution(prob_list[<span class="hljs-number">2</span>],prob_list[<span class="hljs-number">3</span>])
    <span class="hljs-keyword">if</span> sol!=<span class="hljs-number">0</span>:<font></font>
        prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol2 = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])
        <span class="hljs-keyword">if</span> sol2!=<span class="hljs-number">0</span>:
            <span class="hljs-comment">#  </span>
            ee_str+=action_str_gen(choice_list,offset_koeff+<span class="hljs-number">3</span>, prob_list)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># None</span>
            ee_str+=<span class="hljs-string">' '</span>*(offset_koeff+<span class="hljs-number">3</span>)+<span class="hljs-string">'None\n'</span>
        <span class="hljs-keyword">return</span>(ee_str, offset_koeff, fin_else_flag, prob_list)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment">#   </span>
        prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol2 = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])
        <span class="hljs-keyword">if</span> sol2==<span class="hljs-number">0</span>:
            <span class="hljs-comment">#  </span>
            ee_str+=action_str_gen(choice_list,offset_koeff+<span class="hljs-number">3</span>, prob_list)
        <span class="hljs-comment">#  if_gen</span>
        if_str, offset_koeff,  fin_else_flag, prob_list = if_gen(exp_list, var_list, if_str, offset_koeff+<span class="hljs-number">3</span>, fin_else_flag, prob_list)                 <font></font>
        ee_str+=if_str<font></font>
        <span class="hljs-keyword">return</span>(ee_str, offset_koeff, fin_else_flag, prob_list)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A fun√ß√£o √© respons√°vel pela forma√ß√£o do elif ou pela pr√≥pria linha, bem como pela gera√ß√£o subsequente de blocos de a√ß√£o ou recurs√£o ap√≥s essas linhas. Ele tamb√©m pega uma vari√°vel </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ee_string</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que cont√©m elif ou ent√£o, e forma a string correspondente. Depois, h√° uma bifurca√ß√£o, onde √© determinado o que ser√° a seguir: (bloco de a√ß√£o ou Nenhum) ou (bloco de a√ß√£o ou bloco de a√ß√£o + recurs√£o). Dentro deste fork, h√° uma divis√£o, respectivamente, em dois sub fork, e em cada caso a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make_solution</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© </font><b><font style="vertical-align: inherit;">chamada</font></b><font style="vertical-align: inherit;"> com os par√¢metros apropriados para tomar uma decis√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note-se que quando ocorre no c√≥digo</font></font><code>if sol!=0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, isso significa que intencionalmente damos uma vantagem a uma parte do c√≥digo em rela√ß√£o a outra, porque se sol! = 0, ent√£o √© igual a -1 ou 1 e, portanto, outra parte do c√≥digo ser√° executada com menos frequ√™ncia (somente quando sol == 0). Isso √© usado, em particular, na fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif_else_block</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde √© mais lucrativo permitir que mais </font><b><font style="vertical-align: inherit;">elifs se</font></b><font style="vertical-align: inherit;"> formem no bloco, em vez de dar igual probabilidade a elif e mais. Ou, por exemplo, na fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif_else,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> damos uma vantagem √† op√ß√£o quando um bloco de a√ß√£o ou Nenhum √© formado, e n√£o o objetivo da recurs√£o - caso contr√°rio, os ramos podem crescer para tamanhos muito indecentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Precisamos apenas considerar as fun√ß√µes respons√°veis ‚Äã‚Äãpela gera√ß√£o aleat√≥ria de express√µes em condi√ß√µes e blocos de a√ß√µes. Como eu disse acima, nesta fase eles n√£o desempenham um papel decisivo e s√£o introduzidos aqui para mostrar geralmente como ser√° o c√≥digo final gerado. Mas, como eles s√£o usados ‚Äã‚Äãno gerador, vamos examin√°-los brevemente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A fun√ß√£o respons√°vel por gerar o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bloco de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a√ß√£o </font><b><font style="vertical-align: inherit;">action_str</font></b><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">action_str_gen</span>(<span class="hljs-params">choice_list, offset_koeff, prob_list</span>):</span>
    sol = <span class="hljs-number">9</span>
    curr_offset = <span class="hljs-string">' '</span>*offset_koeff<font></font>
    act_str = <span class="hljs-string">''</span>
    <span class="hljs-keyword">while</span> sol!=<span class="hljs-number">0</span>:<font></font>
        act_str+= curr_offset+rand(rand(choice_list[<span class="hljs-number">1</span>]))+<span class="hljs-string">'='</span>+rand(rand(choice_list))+<span class="hljs-string">'\n'</span>
        prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])
    <span class="hljs-keyword">return</span>(act_str)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo √© bem simples aqui: da lista aninhada choise_list, que, como lembramos, consiste em v </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ar_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lista de vari√°veis) e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exp_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lista de express√µes), essa fun√ß√£o consiste em uma ou mais linhas desta forma: a = a + b ou b = b . </font><font style="vertical-align: inherit;">Essa. </font><font style="vertical-align: inherit;">uma express√£o √© atribu√≠da √† vari√°vel ou outra vari√°vel (incluindo ela mesma). </font><font style="vertical-align: inherit;">A fun√ß√£o rand seleciona aleatoriamente um elemento da lista e √© necess√°ria aqui apenas para n√£o produzir seq√º√™ncias monstruosas.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">rand</span>(<span class="hljs-params">t_list</span>):</span>
    <span class="hljs-keyword">return</span>(t_list[random.randint(<span class="hljs-number">0</span>,len(t_list)<span class="hljs-number">-1</span>)])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A fun√ß√£o de gera√ß√£o de express√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_sub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para condi√ß√µes parece maior.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">if_sub</span>(<span class="hljs-params">exp_list, var_list, sign, prob_list</span>):</span>
    sub_str = <span class="hljs-string">''</span>
    sol = <span class="hljs-number">9</span><font></font>
    choice_list = [exp_list, var_list]<font></font>
    flag = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> sol!=<span class="hljs-number">0</span>:<font></font>
        prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])<font></font>
        sub_str+=<span class="hljs-string">'(('</span>+rand(rand(choice_list))+<span class="hljs-string">')'</span>+rand(sign2)+<span class="hljs-string">'('</span>+rand(rand(choice_list))+<span class="hljs-string">'))'</span>
        <span class="hljs-keyword">if</span> flag == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> sol==<span class="hljs-number">1</span>:<font></font>
            sub_str+=<span class="hljs-string">')'</span>
            flag=<span class="hljs-number">0</span><font></font>
        or_and_exp = or_and(prob_list)<font></font>
        <span class="hljs-keyword">if</span> len(or_and_exp):<font></font>
            sub_str+=or_and_exp<font></font>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">break</span>
        prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>],sol2 = make_solution(prob_list[<span class="hljs-number">6</span>],prob_list[<span class="hljs-number">7</span>])
        <span class="hljs-keyword">if</span> sol2 == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> (sub_str[<span class="hljs-number">-1</span>]==<span class="hljs-string">'D'</span> <span class="hljs-keyword">or</span> sub_str[<span class="hljs-number">-1</span>]==<span class="hljs-string">'R'</span>) <span class="hljs-keyword">and</span> flag == <span class="hljs-number">0</span>:<font></font>
            sub_str+=<span class="hljs-string">'('</span>
            flag = <span class="hljs-number">1</span><font></font>
    <font></font>
    <span class="hljs-keyword">if</span> sub_str[<span class="hljs-number">-1</span>] == <span class="hljs-string">'('</span>:
        <span class="hljs-keyword">if</span> sub_str[<span class="hljs-number">-2</span>]==<span class="hljs-string">'d'</span>:<font></font>
           sub_str=sub_str[<span class="hljs-number">0</span>:<span class="hljs-number">-4</span>]
        <span class="hljs-keyword">elif</span> sub_str[<span class="hljs-number">-2</span>]==<span class="hljs-string">'r'</span>:<font></font>
             sub_str=sub_str[<span class="hljs-number">0</span>:<span class="hljs-number">-3</span>]
        <span class="hljs-keyword">else</span>:<font></font>
            sub_str=sub_str[<span class="hljs-number">0</span>:<span class="hljs-number">-1</span>]
    <span class="hljs-keyword">elif</span> sub_str[<span class="hljs-number">-1</span>]==<span class="hljs-string">'d'</span>:<font></font>
         sub_str=sub_str[<span class="hljs-number">0</span>:<span class="hljs-number">-3</span>]
    <span class="hljs-keyword">elif</span> sub_str[<span class="hljs-number">-1</span>]==<span class="hljs-string">'r'</span>:<font></font>
         sub_str=sub_str[<span class="hljs-number">0</span>:<span class="hljs-number">-2</span>]
    <span class="hljs-keyword">else</span>:
         <span class="hljs-literal">None</span>
    <span class="hljs-keyword">if</span> flag == <span class="hljs-number">1</span>:<font></font>
        sub_str+=<span class="hljs-string">')'</span>
        <span class="hljs-keyword">return</span>(sub_str)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span>(sub_str)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele gera express√µes por tipo: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">((a)&gt; = (ba)) ou ((a)&gt; = (a)) ou ((b) &lt;= (b))</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ao mesmo tempo, os lados esquerdo e direito podem ter v√°rias op√ß√µes e permanecer como vari√°veis ‚Äã‚Äãseparadas, bem como express√µes ou seus grupos. </font><font style="vertical-align: inherit;">Os operadores l√≥gicos </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m s√£o usados ‚Äã‚Äãaqui </font><font style="vertical-align: inherit;">, selecionados por conveni√™ncia usando a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or_and_exp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">or_and</span>(<span class="hljs-params">prob_list</span>):</span>
    prob_list[<span class="hljs-number">8</span>],prob_list[<span class="hljs-number">9</span>],sol = make_solution(prob_list[<span class="hljs-number">8</span>],prob_list[<span class="hljs-number">9</span>])
    <span class="hljs-keyword">if</span> sol==<span class="hljs-number">-1</span>:
        <span class="hljs-keyword">return</span>(<span class="hljs-string">'and'</span>)
    <span class="hljs-keyword">elif</span> sol==<span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span>(<span class="hljs-string">'or'</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span>(<span class="hljs-string">''</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O restante da fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_sub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> corta as caudas extras das express√µes e adiciona, quando necess√°rio, colchetes, para considerar essas dan√ßas com pandeiros aqui, eu acho, inconvenientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bom, isso √© tudo. </font><font style="vertical-align: inherit;">Voc√™ pode iniciar o gerador, por exemplo, assim:</font></font><br>
<br>
<pre><code class="python hljs">var_list = [<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>]<font></font>
exp_list = [<span class="hljs-string">'a+b'</span>,<span class="hljs-string">'b-a'</span>, <span class="hljs-string">'b//a'</span>]<font></font>
sign = [<span class="hljs-string">'+'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'/'</span>,<span class="hljs-string">'*'</span>,<span class="hljs-string">'//'</span>]<font></font>
sign2 = [<span class="hljs-string">'&gt;'</span>,<span class="hljs-string">'&lt;'</span>,<span class="hljs-string">'=='</span>,<span class="hljs-string">'&gt;='</span>,<span class="hljs-string">'&lt;='</span>,<span class="hljs-string">'!='</span>]<font></font>
a = <span class="hljs-number">3</span>
b = <span class="hljs-number">2</span>       
prob_list = [<span class="hljs-number">0.5</span> <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>)]      
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<font></font>
     if_str = <span class="hljs-string">''</span>
     if_str, offset_koeff, fin_else_flag, prob_list = if_gen(exp_list, var_list, if_str, <span class="hljs-number">0</span>,<span class="hljs-number">0</span>, prob_list)
     <span class="hljs-keyword">try</span>:<font></font>
         exec(compile(if_str,<span class="hljs-string">'gen'</span>,<span class="hljs-string">'exec'</span>))<font></font>
         print(if_str)<font></font>
         input()<font></font>
         <font></font>
     <span class="hljs-keyword">except</span> ZeroDivisionError:
         <span class="hljs-literal">None</span>
     <span class="hljs-keyword">except</span>:<font></font>
         print(<span class="hljs-string">'error'</span>)<font></font>
         print(if_str)<font></font>
         input()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, a entrada, incluindo uma </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prob_list</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com probabilidades </font><font style="vertical-align: inherit;">, depois em um loop infinito, chamando a fun√ß√£o principal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if_gen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e iniciando a sequ√™ncia gerada resultante para execu√ß√£o. Vale a pena processar separadamente o ZeroDivisionError, porque A divis√£o por zero com uma constru√ß√£o t√£o aleat√≥ria de express√µes √© muito comum. Ap√≥s o lan√ßamento, basta pressionar Enter para a pr√≥xima gera√ß√£o aparecer. Na maioria das vezes eles ser√£o bastante simples, mas muitas vezes ramificados e at√© muito ramificados. Bem, </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">importar aleatoriamente</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no in√≠cio tamb√©m seria bom inserir;) Para aqueles que n√£o querem ver a coleta de tudo manualmente, voc√™ pode fazer o download do arquivo no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (arquivo if_gen.py).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Concluindo, quero dizer que o c√≥digo que apresentei foi testado em centenas de milhares de gera√ß√µes sem erros, enquanto demonstrava toda a paleta de esquemas de if-elif-else que eu queria ver finalmente. Uma vez, por engano, dei a uma parte do c√≥digo uma probabilidade muito alta de recurs√£o e obtive 52.000 (!) Linhas de gera√ß√£o e ele estava funcionando (embora o comp tenha suspendido 30 segundos). Isso tamb√©m indica a confiabilidade do algoritmo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Provavelmente, foi poss√≠vel escrever de forma mais concisa em algum lugar, otimizar em algum lugar, compor a fun√ß√£o principal de outra maneira, mas o principal √© que esse c√≥digo funcione e gere cerca de 250 gera√ß√µes por segundo, o que, na minha opini√£o, √© bastante aceit√°vel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu nunca considerei esse c√≥digo auto-suficiente - √© apenas um m√≥dulo do futuro organismo digital e foi escrito para fins de pesquisa, por isso dificilmente tem aplica√ß√µes pr√°ticas. </font><font style="vertical-align: inherit;">Ao mesmo tempo, n√£o sou respons√°vel por nenhuma conseq√º√™ncia para quem usa o c√≥digo acima e exorto todos a cortar p√£o com uma faca para cortar p√£o, e n√£o outra coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No pr√≥ximo artigo, consideraremos o segundo m√≥dulo, que ser√° respons√°vel pela forma√ß√£o aleat√≥ria da experi√™ncia. </font><font style="vertical-align: inherit;">Esse t√≥pico promete ser muito mais interessante do que o gerador if, e eu definitivamente publicarei os resultados assim que os tiver.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt504270/index.html">O Svelte √© uma boa op√ß√£o para a implementa√ß√£o de widgets?</a></li>
<li><a href="../pt504276/index.html">Os 10 melhores livros para desenvolvedores</a></li>
<li><a href="../pt504282/index.html">Cria√ß√£o da arquitetura corporativa no NSPK</a></li>
<li><a href="../pt504284/index.html">O livro ‚ÄúPure Agile. No√ß√µes b√°sicas de flexibilidade</a></li>
<li><a href="../pt504290/index.html">Teste de carga como um servi√ßo de IC para desenvolvedores</a></li>
<li><a href="../pt504306/index.html">Como √© feito o hardware russo para armazenamento Aerodisk Vostok na Elbrus</a></li>
<li><a href="../pt504310/index.html">Dicotomia de dados: repensando a rela√ß√£o com dados e servi√ßos</a></li>
<li><a href="../pt504312/index.html">Registro unificado de programas russos e GPL. Meus cinco centavos</a></li>
<li><a href="../pt504314/index.html">Implementa√ß√£o de comandos docker pull e docker push sem cliente docker via solicita√ß√µes HTTP</a></li>
<li><a href="../pt504320/index.html">Valida√ß√£o de c√≥digo de linha √∫nica ou Nethermind usando o PVS-Studio C # para Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>