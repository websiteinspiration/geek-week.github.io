<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â‡ï¸ ğŸ§˜ğŸ¿ ğŸ˜™ éå‰°ãªæ™‚é–“ã¨å¤±ã‚ã‚ŒãŸæ™‚é–“ã®ç‰©èªã€‚py3ã«ã‚ˆã‚‹ã¨ ğŸ™† â³ ğŸ‘³</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ•°é€±é–“å‰ã€ç§ãŸã¡ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã§ã€ç’°å¢ƒå¤‰æ•°ã«å°ã•ãªæ§‹æˆã‚¨ãƒ©ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸTZã€‚ã“ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€å®‡å®™ã®ãƒã‚°ã®è„†å¼±ãªãƒãƒ©ãƒ³ã‚¹ãŒå´©ã‚Œã€ã‚°ãƒ©ãƒ•ã‚¡ã‚¤ãƒˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®1ã¤ã§RPSã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãŒæ–‡å­—é€šã‚Šç‹‚ã£ãŸã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æ•°æ™‚é–“ã‚’æ•°æ™‚é–“è¿½è·¡ã—ãŸæ–¹æ³•ã‚’ãŠè©±ã—ã¾ã™ã€‚
 ã™ã¹ã¦ã®å§‹ã¾ã‚Š
 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>éå‰°ãªæ™‚é–“ã¨å¤±ã‚ã‚ŒãŸæ™‚é–“ã®ç‰©èªã€‚py3ã«ã‚ˆã‚‹ã¨</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502088/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°é€±é–“å‰ã€ç§ãŸã¡ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã§ã€ç’°å¢ƒå¤‰æ•°ã«å°ã•ãªæ§‹æˆã‚¨ãƒ©ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ</font></font><code>TZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€å®‡å®™ã®ãƒã‚°ã®è„†å¼±ãªãƒãƒ©ãƒ³ã‚¹ãŒå´©ã‚Œã€ã‚°ãƒ©ãƒ•ã‚¡ã‚¤ãƒˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®1ã¤ã§RPSã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãŒæ–‡å­—é€šã‚Šç‹‚ã£ãŸã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">æ•°æ™‚é–“ã‚’æ•°æ™‚é–“è¿½è·¡ã—ãŸæ–¹æ³•ã‚’ãŠè©±ã—ã¾ã™ã€‚</font></font></p><a name="habracut"></a><br>
<h2 id="s-chego-vsyo-nachalos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã®å§‹ã¾ã‚Š</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ‰‹å‹•ã§èµ·å‹•ã•ã‚Œã€å®Œå…¨ã«æ©Ÿèƒ½ã—ã¾ã—ãŸãŒã€cron.dã‹ã‚‰èµ·å‹•ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ­ã‚°ã®è¡¨é¢çš„ãªèª¿æŸ»ã«ã‚ˆã‚Šã€ä½•ãŒå•é¡Œã§ã‚ã£ãŸã‹ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚</font></font></p><br>
<pre><code class="bash hljs"><span class="hljs-comment">#   </span>
$ TZ=<span class="hljs-string">''</span> clickhouse-client; <span class="hljs-built_in">echo</span> <span class="hljs-built_in">exit</span>=$?<font></font>
ClickHouse client version 20.3.2.1.<font></font>
Connecting to localhost:9000 as user default.<font></font>
Connected to ClickHouse server version 20.3.2 revision 54433.<font></font>
Poco::Exception. Code: 1000, e.code() = 0, e.displayText() = Exception: Could not determine time zone from TZ variable value: <span class="hljs-string">''</span>: filesystem error: <span class="hljs-keyword">in</span> file_size: Is a directory [/usr/share/zoneinfo] (version 20.3.2.1)
<span class="hljs-built_in">exit</span>=232</code></pre><br>
<h3 id="oshibka-u-nas-ili-v-programme"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ãŸã¡ã¾ãŸã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…ã®ã‚¨ãƒ©ãƒ¼ï¼Ÿ</font></font></h3><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‹•ä½œã¯æ­£ã—ã„ã§ã™ã‹ã€ãã‚Œã¨ã‚‚ãƒã‚°ã§ã™ã‹ï¼Ÿ</font></font></p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNUã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ç’°å¢ƒå¤‰æ•°ã«ã¯æ¬¡ã®3ã¤ã®å½¢å¼ãŒè€ƒãˆã‚‰ã‚Œã¾ã™</font></font><code>TZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSTï¼ˆå¤æ™‚é–“ï¼‰ãªã—ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</font></font><code>std offset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¾‹</font></font><code>EST+5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><code>GMT+0</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSTã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™</font></font><code>std offset dst [offset],start[/time],end[/time]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¾‹</font></font><code>EST+5EDT,M3.2.0/2,M11.1.0/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³è¨˜è¿°ãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã€‚</font><font style="vertical-align: inherit;">ã‚³ãƒ­ãƒ³ã§å§‹ã¾ã‚‹å ´åˆãŒã‚ã‚Š</font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æœ€åˆã®ï¼ˆã¾ãŸã¯ã‚³ãƒ­ãƒ³ã«ç¶šãï¼‰æ–‡å­—ãŒã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã®</font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å ´åˆã€ã“ã‚Œã¯ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®çµ¶å¯¾ãƒ‘ã‚¹ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã€ãã†ã§ãªã„å ´åˆ</font></font><code>/usr/share/zoneinfo/${TZ}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClickHouseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒç¾åœ°æ™‚é–“ã®çŸ¥è­˜ã‚’å¿…è¦ã¨ã™ã‚‹ã®ã¯ãªãœã§ã™ã‹ï¼Ÿ</font></font></p><br>
<p>   <code>Date</code>  <code>DateTime</code>  DBMS  timestamp,      <code>toDateTime('2020-02-02 20:20:20')</code>  (, , )    <code>UInt32</code>. ,     .        <code>TZ</code>  ,   ,           98%         .</p><br>
<p> ,     ClickHouse (    Poco)  ,        .         .</p><br>
<h3 id="ispravlenie"></h3><br>
<p>  ,   .       cron.d         <code>TZ</code>,     .         .    ,   2020-04-15          2020-04-20   .</p><br>
<h2 id="i-posledstviya-ispravleniya">  </h2><br>
<p>  2020-04-22           (  ): "     RPS  " </p><br>
<p><img src="https://habrastorage.org/webt/nr/v0/ps/nrv0psltrqw_1emtfrick60lm9w.png" alt="éUTCãƒ›ã‚¹ãƒˆ"></p><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>,    -,    .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>.</p><br>
<pre><code class="python hljs">self.now = int(datetime.datetime.utcnow().timestamp())<font></font>
...<font></font>
dt = datetime.datetime.strptime(time_str, time_format).utctimetuple()<font></font>
timestamp = time.mktime(dt)</code></pre><br>
<h3 id="chto-delaet-datetimeutcnow">  <code>datetime.utcnow()</code>?</h3><br>
<blockquote>Return the current UTC date and time, with <code>tzinfo</code>=<code>None</code>.<br>
This is like <code>now()</code>, but returns the current UTC date and time, as a <strong>naive</strong> <code>datetime</code> object. An aware current UTC datetime can be obtained by calling <code>datetime.now(timezone.utc)</code>. See also <code>now()</code>.<br>
<strong>Warning:</strong> Because naive <code>datetime</code> objects are treated by many <code>datetime</code> methods as local times, it is preferred to use aware datetimes to represent times in UTC. As such, the recommended way to create an object representing the current time in UTC is by calling <code>datetime.now(timezone.utc)</code>.</blockquote><p> ,      UTC,   <code>tzinfo=None</code>   <code>datetime</code>.   <code>.timestamp()</code>  UNIX time    ,    UTC.         :     <code>TZ=UTC</code></p><br>
<p>      <code>datetime.now().timestamp()</code>.    ,  <code>.timestamp()</code>,    <code>datetime.now(timezone.utc)</code></p><br>
<h3 id="chto-delaet-datetimeutctimetuple">  <code>datetime.utctimetuple()</code>?</h3><br>
<blockquote><code>datetime.timetuple()</code>:<br>
Return <code>time.struct_time</code> such as returned by <code>time.localtime()</code>.<br>
<code>datetime.utctimetuple()</code>:<br>
If <code>datetime</code> instance <em>d</em> is naive, this is the same as <code>d.timetuple()</code> except that <code>tm_isdst</code> is forced to 0 regardless of what <code>d.dst()</code> returns. DST is never in effect for a UTC time.<br>
If <em>d</em> is aware, <em>d</em> is normalized to UTC time, by subtracting <code>d.utcoffset()</code>, and a <code>time.struct_time</code> for the normalized time is returned. <code>tm_isdst</code> is forced to 0.<br>
<strong>Warning:</strong> Because naive <code>datetime</code> objects are treated by many <code>datetime</code> methods as local times, it is preferred to use aware datetimes to represent times in UTC; as a result, using <code>utcfromtimetuple</code> may give misleading results. If you have a naive <code>datetime</code> representing UTC, use <em>datetime.replace(tzinfo=timezone.utc)</em> to make it aware, at which point you can use <em>datetime.timetuple()</em>.</blockquote><p> .    <code>time.struct_time</code>,     <code>time.mktime()</code>.    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">   python2</a>.   ,           .      ,  UNIX timestamp        .</p><br>
<p>  Python,    ,         .</p><br>
<p>,      <code>datetime.strptime().timestamp()</code></p><br>
<h2 id="testirovanie-razlichnyh-metodov-pri-razlichnyh-znacheniyah-peremennoy-tz">       <code>TZ</code></h2><br>
<p>     ,           . -      , -  UTC,  -    ,       .  , .</p><br>
<p>   , RPS      : </p><br>
<p><img src="https://habrastorage.org/webt/4l/n2/xi/4ln2xiawc-i_0thr9bjt4litcqg.png" alt="UTCãƒ›ã‚¹ãƒˆ"></p><br>
<p>   ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>,      .     ,        .</p><br>
<p>,    :</p><br>
<ul>
<li>   ,  <code>TZ=''</code></li>
<li>      UTC       <code>strptime()</code></li>
<li>    UTC,       <code>strptime()</code></li>
<li>        <code>strptime()</code></li>
</ul><br>
<p><code>strptime</code>    <code>2020-04-24T05:31:55+02:00</code></p><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"> </b>
                        <div class="spoiler_text"><p> python</p><br>
<pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timezone  <span class="hljs-comment"># noqa</span>
<span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> mktime
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pprint</span>(<span class="hljs-params">d: dict</span>):</span>
    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> d:<font></font>
        print(<span class="hljs-string">"{}: {}"</span>.format(k, d[k]))<font></font>
now = {<span class="hljs-string">'now'</span>: datetime.now(),
       <span class="hljs-comment"># 'now_tz': datetime.now(timezone.utc), # the same as now for timestamp</span>
       <span class="hljs-string">'utcnow'</span>: datetime.utcnow()}<font></font>
now_ts = [int(now[k].timestamp()) <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> now]<font></font>
now_dict = {k: [now_ts[i], now_ts[i] - now_ts[<span class="hljs-number">0</span>]] <span class="hljs-keyword">for</span> i, k <span class="hljs-keyword">in</span> enumerate(now)}<font></font>
pprint(now_dict)<font></font>
<span class="hljs-comment"># pprint(now)</span>
<span class="hljs-comment"># print('Timestamps in now: {}'.format(set(now_ts)))</span><font></font>
print()<font></font>
ts_c = <span class="hljs-number">1587699115</span>  <span class="hljs-comment"># the known correct value</span>
time_format = <span class="hljs-string">"%Y-%m-%dT%H:%M:%S%z"</span>
time_str = <span class="hljs-string">"2020-04-24T05:31:55+02:00"</span><font></font>
timetuples = {<font></font>
    <span class="hljs-string">'timetuple'</span>: datetime.strptime(time_str, time_format).timetuple(),
    <span class="hljs-string">'utctimetuple'</span>: datetime.strptime(time_str, time_format).utctimetuple(),<font></font>
}<font></font>
ts = {<font></font>
    <span class="hljs-string">'timestamp'</span>: [<font></font>
        int(datetime.strptime(time_str, time_format).timestamp()),<font></font>
        int(datetime.strptime(time_str, time_format).timestamp()) - ts_c,<font></font>
    ],<font></font>
    <span class="hljs-string">'timetuple'</span>: [<font></font>
        int(mktime(timetuples[<span class="hljs-string">'timetuple'</span>])),<font></font>
        int(mktime(timetuples[<span class="hljs-string">'timetuple'</span>])) - ts_c,<font></font>
    ],<font></font>
    <span class="hljs-string">'utctimetuple'</span>: [<font></font>
        int(mktime(timetuples[<span class="hljs-string">'utctimetuple'</span>])),<font></font>
        int(mktime(timetuples[<span class="hljs-string">'utctimetuple'</span>])) - ts_c,<font></font>
    ],<font></font>
}<font></font>
pprint(ts)<font></font>
<span class="hljs-comment"># pprint(timetuples)</span>
<span class="hljs-comment"># print('Timestamps in ts: {}'.format(set(int(v[0]) for v in ts.values())))</span></code></pre><br>
<p>  python   <code>TZ</code></p><br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/usr/bin/env bash</span>
<span class="hljs-keyword">for</span> tz <span class="hljs-keyword">in</span> <span class="hljs-string">''</span> Europe/Moscow UTC Europe/Berlin
<span class="hljs-keyword">do</span>
  date <span class="hljs-string">"+==TZ=<span class="hljs-variable">${tz}</span> %s=="</span>
  TZ=<span class="hljs-variable">$tz</span> python example.py<font></font>
  date <span class="hljs-string">'+++%s++'</span> -d <span class="hljs-string">'2020-04-24T05:31:55+02:00'</span>
<span class="hljs-keyword">done</span></code></pre></div>
                    </div><br>
<h3 id="svodnye-rezultaty"> </h3><br>
<p>         <code>TZ</code>. ,      <code>+02:00</code>.</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th> \  <code>TZ</code></th>
<th>''</th>
<th>+03:00</th>
<th>UTC</th>
<th>+02:00 ( <code>unset TZ</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td>now()/now(tz)</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>utcnow()</td>
<td>+</td>
<td>-</td>
<td>+</td>
<td>-</td>
</tr>
<tr>
<td>timestamp()</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>timetuple()+mktime()</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>utctimetuple()+mktime()</td>
<td>+</td>
<td>-</td>
<td>+</td>
<td>-</td>
</tr>
</tbody>
</table></div><br>
<p> <code>now</code>  <code>timestamp</code>     .  ,  <code>timetuple + mktime</code>   .</p><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">    timestamp  </b>
                        <div class="spoiler_text"><h4 id="slomannoe-znachenie-chasovogo-poyasa-znachenie-tz">   ,  <code>TZ=''</code></h4><br>
<pre><code class="plaintext hljs">==TZ='' 1587914590==<font></font>
now: [1587914590, 0]<font></font>
utcnow: [1587914590, 0]<font></font>
timestamp: [1587699115, 0]<font></font>
timetuple: [1587706315, 7200] - TZ - UTC<font></font>
utctimetuple: [1587699115, 0]<font></font>
++1587699115++</code></pre><br>
<h4 id="tz0300-otlichaetsya-ot-utc-i-ot-chasovogo-poyasa-stroki-dlya-strptime"><code>TZ='+03:00'</code>,   UTC       <code>strptime()</code></h4><br>
<pre><code class="plaintext hljs">==TZ=Europe/Moscow 1587914590==<font></font>
now: [1587914590, 0]<font></font>
utcnow: [1587903790, -10800] - UTC - TZ<font></font>
timestamp: [1587699115, 0]<font></font>
timetuple: [1587695515, -3600] - +02:00 - TZ<font></font>
utctimetuple: [1587688315, -10800] - UTC - TZ<font></font>
++1587699115++</code></pre><br>
<h4 id="tzutc-otlichaetsya-ot-chasovogo-poyasa-stroki-dlya-strptime"><code>TZ=UTC</code>,       <code>strptime()</code></h4><br>
<pre><code class="plaintext hljs">==TZ=UTC 1587914590==<font></font>
now: [1587914590, 0]<font></font>
utcnow: [1587914590, 0]<font></font>
timestamp: [1587699115, 0]<font></font>
timetuple: [1587706315, 7200] - +02:00 - UTC<font></font>
utctimetuple: [1587699115, 0]<font></font>
++1587699115++</code></pre><br>
<h4 id="tz0200-sovpadaet-s-chasovym-poyasom-stroki-dlya-strptime-tozhdestvenno-raven-unset-tz"><code>TZ='+02:00'</code>,       <code>strptime()</code>,   <code>unset TZ</code></h4><br>
<pre><code class="plaintext hljs">==TZ=Europe/Berlin 1587914590==<font></font>
now: [1587914590, 0]<font></font>
utcnow: [1587907390, -7200] - UTC - TZ<font></font>
timestamp: [1587699115, 0]<font></font>
timetuple: [1587699115, 0]<font></font>
utctimetuple: [1587695515, -3600] - UTC - TZ...    DST!<font></font>
++1587699115++</code></pre><br>
<p>        ,       .</p></div>
                    </div><br>
<h2 id="zaklyuchenie"></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´ æ™´ã‚‰ã—ã„ãƒ†ã‚£ãƒƒã‚­ã‚·ã‚§ãƒ¬ãƒ³</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã€Œç´ æ‰‹ã§æ™‚é–“ã‚’ã‹ã‘ãªã„ã§ãã ã•ã„ã€ã¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">åˆç†çš„ã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹</font></a><font style="vertical-align: inherit;">ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã«ã¨ã£ã¦ã€å±é™ºåº¦ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã§ã¯ã€DNSã¨ä¸€ç·šã‚’ç”»ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ä¸€èˆ¬çš„ã«ã¯å¯èƒ½ãªé™ã‚Šå›é¿ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã—ã¦ã“ã®èˆˆå‘³æ·±ã„æ™‚æœŸã«ç§ã¯å¥åº·ã‚’ä¿ã¡ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">å®¶ã«ã„ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚çªç„¶é€€å±ˆã—ã¦ä½•ã‚‚ã™ã‚‹ã“ã¨ãŒãªã„å ´åˆã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoGames</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‹ã‚‰ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã¡ãªã¿ã«</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç©ºå¸­ãŒã‚ã‚Šã¾ã™</font></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja502072/index.html">JavaScriptã¨ã‚³ãƒ³ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ãŸISSã®ãƒ‰ãƒƒã‚­ãƒ³ã‚°</a></li>
<li><a href="../ja502076/index.html">ãƒˆãƒ­ãƒªãƒ¼ãƒ­ãƒœãƒƒãƒˆ2.0ã€‚ãƒ‘ãƒ¼ãƒˆ1. ROSã«åŸºã¥ããƒ›ãƒ¼ãƒ ãƒ­ãƒœãƒƒãƒˆã®è‡ªå¾‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</a></li>
<li><a href="../ja502080/index.html">ã‹ã‚“ã°ã‚“æ–¹å¼ï¼šä¾‹PNZ No. 1ã€æ–°èˆˆä¼æ¥­ã§ã®æ¸¬å®šç ”ç©¶ãƒ—ãƒ­ã‚»ã‚¹</a></li>
<li><a href="../ja502084/index.html">æ“ã‚Šäººå½¢å¸«ã‚’ä»‹ã—ã¦è² è·ã®ã‚ã‚‹åœ°åŸŸå…¬å…±ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ã‚¿ãƒ«ã‚’ç¢ºèªã™ã‚‹</a></li>
<li><a href="../ja502086/index.html">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒã‚±ãƒƒãƒˆã§ã®ã¿ä½œæ¥­ã§ãã‚‹ã‚ˆã†ã«Minioã‚’è¨­å®šã™ã‚‹</a></li>
<li><a href="../ja502092/index.html">ãƒ­ã‚·ã‚¢é€£é‚¦ã«ãŠã‘ã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ä¿¡è¨—ã‚µãƒ¼ãƒ“ã‚¹ã®æŠ€è¡“çš„ãŠã‚ˆã³è¦åˆ¶ä¸Šã®ã‚µãƒãƒ¼ãƒˆ</a></li>
<li><a href="../ja502098/index.html">B2Bã®æ§‹ç¯‰æ–¹æ³•</a></li>
<li><a href="../ja502102/index.html">AutoMLã¯éå¸¸ã«å¼·åŠ›ã§ã™</a></li>
<li><a href="../ja502104/index.html">ç§˜æ›¸ãƒ­ãƒœãƒƒãƒˆã€ãƒœãƒƒãƒˆã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒ³ãƒˆã€ãƒœãƒƒãƒˆã‚»ãƒ©ãƒ”ã‚¹ãƒˆã€ãŠã‚ˆã³ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒãƒƒã‚«ã‚½ãƒ³VirusHackã®ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></li>
<li><a href="../ja502114/index.html">å‹•æ©Ÿã®ã‚²ãƒ¼ãƒ ã€‚ãƒ‘ãƒ¼ãƒˆ1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>