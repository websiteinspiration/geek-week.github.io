<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📍 👨🏽‍🔬 💮 Complication of console commands, 1979−2020 🤖 👩🏾‍🌾 💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My hobby is to open McIlroy's “UNIX Philosophy” on one monitor while reading mana on another. 
 
 The first of McIlroy’s principles is often rephrased...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Complication of console commands, 1979−2020</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499090/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My hobby</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is to open </font><font style="vertical-align: inherit;">McIlroy's </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“UNIX Philosophy”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on one monitor while reading mana on another. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first of McIlroy’s principles is often rephrased as “Do one thing, but do well.” </font><font style="vertical-align: inherit;">This is an abbreviation for his words, “Create programs that do one thing well.” </font><font style="vertical-align: inherit;">For new work, create new programs, rather than complicate the old ones by adding new "functions". ” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
McIlroy gives an example:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It seems surprising to outsiders that UNIX compilers do not issue listings: printing is better done and more flexibly configured using a separate program.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you open the help for </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then it starts with </font></font><br>
<br>
<code>ls [-ABCFGHLOPRSTUW@abcdefghiklmnopqrstuwx1] [file ...]</code> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is, the one-letter flags for </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">include all lowercase letters, except for </font></font><code>{jvyz}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 uppercase letters, </font></font><code>@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">This is 22 + 14 + 2 = 38 only single-character options.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Ubuntu 17, the help for </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will not show a normal summary, but you will see that </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">there are 58 options (including </font></font><code>--help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>--version</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's see if this is a unique situation or a normal state of affairs. </font><font style="vertical-align: inherit;">Let's make a list of some common commands, sorted by frequency of use.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qx/sp/zk/qxspzkpgmcfhcurcd_z7st49s2y.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The table shows the number of command line options for various v7 Unix (1979), slackware 3.1 (1996), ubuntu 12 (2015), and ubuntu 17 (2017) commands. </font><font style="vertical-align: inherit;">The more parameters, the darker the cells (on a logarithmic scale). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We see that over the years the number of options increases dramatically: as a rule, records darken from left to right (more options), and there are no cases when records become lighter (fewer options). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
McIlroy </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has long condemned the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> increase in the number of options, size and overall functionality of teams </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sup></a><a name="1_1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote>  ,     ,     Linux … [].   ,      ,    .   ,     <i></i>,        …      Unix  : « ?    ?»     ,        - ,         .  ,   , ,     .        …   ,      .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ironically, one of the reasons for the growing number of command-line options is McIlroy’s other saying: “Write programs for processing text streams, because this is a universal interface” (see </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as an example). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If structured data or objects were transmitted, formatting can be left to the final stage. But in the case of plain text, formatting and content are mixed; since formatting can only be done by parsing content, commands usually add formatting options for convenience. In addition, the format can be performed when a user applies his knowledge of the data structure, and "encodes" the knowledge of the arguments for </font></font><code>cut</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>awk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>sed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc. (the user also uses his knowledge of how these programs work with formatting, because it is different for different programs, so the user must know, for example, how it </font></font><code>cut -f4</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">differs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from </font></font><code>awk '{ print $4 }</code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup></a><a name="2_2"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) This is a lot more hassle than passing one or two arguments to the next command in a sequence, and this transfers the complexity of the tool to the user. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
People sometimes say that they don’t want to support structured data, because then in a universal tool one would have to support several formats. But they already have to support several formats to make a universal tool. Some standard commands cannot read the output from other commands because they use different formats. For example, </font></font><code>wc -w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode does not correctly handle it, etc. To say that “text” is a universal format is the same as saying that “binary” is a universal format.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is said that there is no alternative for such complication of command line tools. </font><font style="vertical-align: inherit;">But people who say that have never tried an alternative, something like PowerShell. </font><font style="vertical-align: inherit;">I have many complaints about PowerShell, but the transfer of structured data and the ability to easily work with structured data without having to keep metadata in my head so that I can transfer it to the right command-line tools in the right places on the pipeline is not one of my complaints </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sup></a><a name="3_3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you are told that programs should be simple and compatible while processing text, these people pretend that text data does not have a structure to parse </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup></a><a name="4_4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. In some cases, we can think of everything as one row, separated by spaces, or as a table with row and column separators ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with behavior that, of course, is not consistent with other tools</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). This adds a bit of trouble. There are still cases where serializing data into a plain text format adds significant complexity, since due to the data structure, simple serialization to text subsequently requires significant parsing efforts to re-assimilate data in a meaningful way. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another reason why teams now have more options is because people have added convenient flags for functionality that could be implemented by a pipeline of several teams. This practice has been going on since Unix v7, where in</font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an option appeared to change the sort order (although this could be done by passing the output to </font></font><code>tac</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Over time, purely for convenience, added additional parameters. For example, a command </font></font><code>mv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that </font><font style="vertical-align: inherit;">was originally without parameters </font><font style="vertical-align: inherit;">can now move the file and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simultaneously</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> create a backup copy (three options; two different ways to specify a backup, one of which takes an argument and the other takes no arguments, reads an implicit argument from an environment variable </font></font><code>VERSION_CONTROL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; another option allows you to override the default backup suffix). Now </font></font><code>mv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">there are still options to never overwrite files or overwrite only newer files.</font></font><br>
<br>
<code>mkdir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">another program that previously had no options. Today, all its flags, with the exception of the security options for SELinux or SMACK, as well as help and version numbers, are added for convenience only: setting permissions for the new directory and creating parent directories if they do not exist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the </font></font><code>tail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beginning there was only one option </font></font><code>-number</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, indicating the starting point for the work. Then we added both formatting and options for the convenience of formatting. The flag </font></font><code>-z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">replaces the line separator with </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Here are other examples of options added for convenience: </font></font><code>-f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to print when new changes appear, </font></font><code>-s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to set the timeout interval between checking changes / code&gt; -f, and also </font></font><code>-retry</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to retry accessing the file if it is not available.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
McIlroy criticizes developers for adding all of these options, but I personally feel better. Although I have never used some of them, I rarely used others, but this is the beauty of the command line parameters - unlike the graphical interface, adding these parameters does not clutter the interface. Yes, mana and help swell, but in the era of Google and Stackoverflow, in any case, many just google any question, rather than read mana.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, adding options increases the load on the maintainers. But this is a fair payment for the benefits they bring. Given the ratio of the number of maintainers and users, it is logical to place an additional burden on the former, and not on the latter. This is similar to Gary Bernhardt’s remark that it’s wise to rehearse a performance 50 times. If the audience is 300 people, then the ratio of time spent watching the performance to time spent on rehearsals will still be 6: 1. For popular command line tools, this ratio is even more extreme.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some might argue that all of these additional options put an extra burden on users. This is not entirely wrong, but this burden of complexity will always exist. The question is where exactly. If you imagine that a set of command line tools together with a shell form a language in which everyone can write a new method, and in case of popularity, the method is effectively added to the standard library, and the standards are determined by axioms like “Write programs for processing text streams, because it’s universal interface ”, then the language will turn into incoherent write-only chaos, if you take it in its entirety. At least, thanks to tools with a wide range of options and functionality, Unix users can replace a giant set of wildly inconsistent tools with just a large set of tools that,although they are inconsistent with each other from the outside, they have some internal consistency.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
McIlroy implies a lack of thoughtfulness in the toolbox. Like, the founding fathers of Unix should sit in the same room and think carefully until they came up with a set of sequential tools of "extraordinary simplicity." But it will not scale, the philosophy of Unix itself inevitably led to the mess we are in. It is not that someone did not think long or hard. The point is a philosophy that does not scale beyond a relatively small team with a common cultural understanding that can fit in one room. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If someone wants to write a tool based on the “Unix philosophy”, then different people will have different opinions about what </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“simplicity”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> means </font><font style="vertical-align: inherit;">or the principle of “doing one thing” </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></sup></a><a name="5_5"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">how the tool should work correctly - and inconsistency will blossom in lush color, as a result of which you will get enormous complexity, similar to wildly inconsistent languages ​​like PHP. People make fun of PHP and JavaScript for various oddities and inconsistencies, but like a language and a standard library, any popular shell with a collection of popular * nix tools, taken together, is much worse and contains much more random complexity due to inconsistencies even within the same Linux distribution . It cannot be otherwise. If you compare the distributions of Linux, BSD, Solaris, AIX, etc., the amount of random complexity that users must keep in mind when switching systems, overshadows the inconsistency of PHP or JavaScript.The most widely ridiculed programming languages ​​are real examples of great design compared to them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For clarity, I am not saying that I myself or someone else could better cope with the development in the 70s, taking into account the knowledge available then, and create a system that would be both useful at that time and elegant today. Of course, it's easy to look back and find problems in retrospect. I simply disagree with the comments of some Unix connoisseurs, like McIlroy, who hint that we have forgotten or do not understand the value of simplicity. Or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ken Thompson, who says that C is as safe a language as any other, and if we don’t want errors to appear, we just need to write code without errors</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Comments of this kind imply that little has changed over the years. </font><font style="vertical-align: inherit;">Allegedly, in the 70s we built systems in the same way as today, and for five decades of collective experience, tens of millions of person-years did not teach us anything. </font><font style="vertical-align: inherit;">And if we turn to the origins, to the creators of Unix, then everything will be fine. </font><font style="vertical-align: inherit;">With all due respect, I do not agree.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application: memory</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although McIlroy’s complaints about bloating binaries are a bit outside the scope of this article, I’ll note that in 2017 I bought a Chromebook with 16 GB of RAM for $ 300. The 1 megabyte binary could be a serious problem in 1979, when the standard Apple II was equipped with 4 kilobytes of memory. Apple II cost $ 1,298 in 1979, or $ 4,612 in 2020. Today you can buy an inexpensive Chromebook that costs less than 1/15 of this price, while it has four million times more memory. Complaints that memory usage has grown a thousand times seem a bit ridiculous when (portable!) The machine costs an order of magnitude cheaper and has four million times more memory.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I like the optimization, so I narrowed my homepage to two packages (there would be one if the CDN supported brotli high-level), but this is a purely aesthetic requirement, I do it for fun. </font><font style="vertical-align: inherit;">The bottleneck of the command-line tools is not using memory, and the time to optimize the tool's memory with a size of one megabyte is like reducing a home page to one package. </font><font style="vertical-align: inherit;">Perhaps a fun hobby, but nothing more.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table compilation methodology</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The frequency of use of commands is obtained from the public files of the history of commands on github, it does not necessarily correspond to your personal experience. Only "simple" commands were counted, excluding instances like curl, git, gcc (the latter has more than 1000 options) and wget. The concept of simplicity is relative. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Built-in shell commands</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , such as </font></font><code>cd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, were also not taken into account. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Repeating flags was not considered a separate option. For example, u </font></font><code>git blame -C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>git blame -C -C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>git blame -C -C -C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">different behavior, but they will all be considered as one argument, although </font></font><code>-C -C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">they </font></font><code>-C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;are actually different arguments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sub-options in the table are counted as one option. For example, it </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supports the following: </font></font><br>
<br>
<code>--format=WORD across -x, commas -m, horizontal -x, long -l, single-column -1, verbose -l, vertical -C</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite seven options </font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, this counts as one option.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Options that are explicitly indicated as useless are still considered options, for example </font></font><code>ls -g</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which is ignored is also considered. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Multiple versions of the same option are considered one option. </font><font style="vertical-align: inherit;">For example, </font></font><code>-A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>--almost-all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for </font></font><code>ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the certificate says that the option exists, but in reality it does not exist, then it is not taken into account. </font><font style="vertical-align: inherit;">For example, the help for v7 mv says:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAGS </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If file1 and file2 are in different file systems, then mv should copy the file and delete the original. </font><font style="vertical-align: inherit;">In this case, the name of the owner becomes the name of the copy process, and any connection with other files is lost. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mv must accept the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">as rm in order to suppress a message about the existence of a target file that is not writable.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But </font></font><code>-f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is not considered a flag in the table, because the option does not actually exist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The table ends in 2017 because the first draft of this article was then written. </font><font style="vertical-align: inherit;">Only now did they get to read it.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On this topic</font></font></h1><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mjd's discussion of Unix philosophy, with thoughts of the / usr / bin / time mess versus built-in time</font></font></a><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The mjd joke about distributing command options in 1991</font></font></a><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With HN:</font></font><br>
<br>
<blockquote><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p1mrx: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is strange that ls has grown to 58 options, but still cannot display file names ending with \ 0.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As an exercise, try sorting the directory by size or date and transfer the result to xargs, while supporting all valid file names. </font><font style="vertical-align: inherit;">In the end, I just gave up and put in the script ignore any files with \ n in the name.</font></font></blockquote><br>
whelming_wave:<br>
<br>
        ,      (whitespace-in-filenames-safe).  <code>printf (od -&gt; sed)</code>    ,  ,  ,   ,      ,   ,  . , <code>sort --zero-terminated</code>&nbsp;—   GNU    ,      macOS,    ,   .<br>
<br>
<pre><code class="bash hljs">      <span class="hljs-built_in">printf</span> <span class="hljs-string">'%b'</span> $(<font></font>
        find . -maxdepth 1 -<span class="hljs-built_in">exec</span> sh -c <span class="hljs-string">'
          printf '</span>\<span class="hljs-string">''</span>%s %s\0<span class="hljs-string">'\'</span><span class="hljs-string">' "$(stat -f '</span>\<span class="hljs-string">''</span>%m<span class="hljs-string">'\'</span><span class="hljs-string">' "$1")" "$1"
        '</span> sh {} \; | \<font></font>
        sort --zero-terminated | \<font></font>
        od -v -b | \<font></font>
        sed <span class="hljs-string">'s/^[^ ]*//
      s/ *$//
      s/  */ \\/g
      s/\\000/\\012/g'</span>)</code></pre><br>
    zsh,      ,    'command',   printf,   zsh,     escape-    . ,          .<br>
<br>
  POSIX,   ,   sort.</blockquote></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">  Unix</a><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">   ?</a></li>
</ul><br>
<sub>  ,  ,  -,       //.</sub><br>
<br>
<hr><br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. This quote is slightly different from the common version because I watched the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">original video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">As far as I can tell, all copies of this quote on the Internet (Bing, DuckDuckGo and Google indexes) are taken from the same transcription of one person. </font><font style="vertical-align: inherit;">There is a certain ambiguity, because the sound is of poor quality, and I hear words that are slightly different from what that person heard. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[to return]</font></font></a><br>
<br>
<a name="2"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Another example of how complexity is passed on to the user, because different teams handle formatting differently, is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time formatting</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The built-in shell time is </font></font><code>time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, of course, incompatible with </font></font><code>/usr/bin/time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The user must be aware of this fact and know how to handle it. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[to return]</font></font></a><br>
<br>
<a name="3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. For example, for any object you can use </font></font><code>ConvertTo-Json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>ConvertTo-CSV</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“cmdlets” to change the display of object properties</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . You can write formatting configuration files that define your preferred formatting methods. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another way to look at this is through the prism </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">of Conway's law</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . If we have a set of command-line tools created by different people, often from different organizations, these tools will be wildly inconsistent if someone cannot determine the standard and force people to accept it. This actually works relatively well on Windows, not just PowerShell.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A common complaint against Microsoft is the massive turnover of the API, often for non-technical organizational reasons (for example, see Stephen Sinofsky’s actions as described in responses to a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remote tweet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). It's true. However, from the point of view of a naive user, standard Windows software, as a rule, transmits non-textual data much better than * nix. The coverage of non-textual data in Windows dates back to at least </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in 1999 (and possibly OLE and DDE, released in 1990 and 1987, respectively). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, if you copy from the Foo, which supports the binary format </font></font><code>A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the Bar, which supports formats </font></font><code>B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then copy from Bar to Baz, which supports </font></font><code>C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and</font></font><code>D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, everything will work fine, even if Foo and Baz do not have common supported formats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you cut or copy something, the application basically “tells” the clipboard in which formats it can provide data. When pasted into an application, the final application may request data in any of the available formats. If the data is already on the clipboard, Windows provides it. If this is not the case, Windows receives data from the source application, and then transfers it to the target application, and a copy is stored for some time. If you “cut” from Excel, he will say “you” that he has data available in many dozens of formats. Such a system is pretty good for compatibility, although it certainly cannot be called simple or minimalistic.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to the good support of many formats, it is long enough that many programs begin to deal well with these features; in Windows, out of the box there is usually good clipboard support.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose you copy and paste a small amount of text. In most cases, no surprises will occur on either Windows or Linux. But now suppose you copied some text, closed the program from which you copied, and then pasted it. Many users tend to think that when copying data is stored in the clipboard, and not in the program from which it is copied. On Windows, software is usually written according to this expectation (although technically users of the clipboard API should not do this). This is less common on Linux with X, where the correct mental model for most programs is that copying saves a pointer to the data that still belongs to the program from which it is copied. That is, the insert will not work if the program is closed.When I (informally) interviewed programmers, they were usually surprised at this, unless they really worked with the copy + paste function for their application. When I interviewed non-programmers, they usually found this behavior not only surprising, but also confusing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The drawback of transferring the clipboard to the OS is that copying large amounts of data is expensive. Suppose you copy a really large amount of text, a lot of gigabytes or some kind of complex object, and then do not paste it. In fact, you do not want to copy this data from your program to the OS so that it is stored there and available. Windows does this wisely: applications can </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">only provide data on demand</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , if deemed beneficial. In our case, when the user closes the program, it can determine whether to put data on the clipboard or delete it. In this case, many programs (for example, Excel) will offer to “save” data to the clipboard or delete them, which is quite reasonable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some of these features can be implemented on Linux. For instance,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The ClipboardManager specification</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> describes the save mechanism, and GNOME applications usually support it (albeit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with some bugs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), but the situation on * nix really differs from the ubiquitous support for Windows applications, where a competent clipboard is usually implemented. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[to return]</font></font></a><br>
<br>
<a name="4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Another example is tools on top of modern compilers. Let's go back and look at the canonical Macilroy example, where the right Unix compilers are so specialized that listing is done by a separate tool. But today this has changed, although a separate listing tool has remained. Some popular Linux compilers have literally thousands of options - and they are extremely feature rich. For example, one of the many functions of the modern </font></font><code>clang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;is static analysis. At the time of this writing, there are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">79 routine tests of static analysis and 44 experimental tests.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. If these were separate commands, they would still rely on the same basic compiler infrastructure and impose the same maintenance burden - it is actually unreasonable for these static analysis tools to work with plain text and redefine the entire compiler tool chain needed for getting the point where they can perform static analysis. They can be separate commands instead of being combined into clang, but they will still depend on the same mechanism and either impose the burden of maintenance and complexity on the compiler (which should support stable interfaces for tools that work on top of it), or they will be constant break.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do everything in the text for simplicity sounds beautiful, but in fact the textual representation of the data is often not what you need if you want to do a really useful job. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The same clang is simply more functional than any compiler that existed in 1979, or even all the compilers that existed in 1979 combined, regardless of whether it was executed by a monolithic command or thousands of smaller instructions. It is easy to say that in 1979 everything was simpler and that we, modern programmers, went astray. But in reality it is difficult to offer a design that is much simpler and will be truly accepted by everyone. It is impossible that such a design could preserve all existing functionality and configurability and be as simple as something from 1979. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[to return]</font></font></a><br>
<br>
<a name="5"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Since its inception, curl has moved from supporting three protocols to 40. Does this mean that it “does 40 things”, and does Unix philosophy require it to be divided into 40 separate commands? </font><font style="vertical-align: inherit;">Depends on who to ask. </font><font style="vertical-align: inherit;">If each protocol were its own team, created and supported by another person, we would have the same mess as with the teams. </font><font style="vertical-align: inherit;">Inconsistent command line parameters, inconsistent output formats, despite the fact that all these are text streams, etc. Does this bring us closer to the simplicity that McIlroy advocates? </font><font style="vertical-align: inherit;">Depends on who to ask. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[to return]</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499076/index.html">How to reuse code with symfony 5 bundles? Part 5. Configuration</a></li>
<li><a href="../en499078/index.html">The Clean Architecture on TypeScript and React. Part 1: The Basics</a></li>
<li><a href="../en499082/index.html">Eagle owl letter</a></li>
<li><a href="../en499086/index.html">Dask Home Cluster</a></li>
<li><a href="../en499088/index.html">Flexible markup without media queries: min (), max (), clamp () functions</a></li>
<li><a href="../en499092/index.html">Reference model BIAN. What new and useful for the corporate architecture of the bank does it offer?</a></li>
<li><a href="../en499096/index.html">Fuzzy logic in beautiful pictures. Response surfaces for different membership functions</a></li>
<li><a href="../en499102/index.html">Kubernetes, Microservices, CI / CDs and Dockers for Retrogrades: Learning Tips</a></li>
<li><a href="../en499104/index.html">IoT to your wounds: why the Internet of things is most welcome in the era of coronavirus</a></li>
<li><a href="../en499106/index.html">Advanced HTML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>