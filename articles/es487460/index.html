<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∂ üëäüèø üî§ Delta: sincronizaci√≥n de datos y plataforma de enriquecimiento ‚ô®Ô∏è üêÜ ü§∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En previsi√≥n del lanzamiento de una nueva transmisi√≥n en el curso de Ingeniero de datos, preparamos una traducci√≥n de material interesante.
 
 
 
 
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Delta: sincronizaci√≥n de datos y plataforma de enriquecimiento</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/487460/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En previsi√≥n del lanzamiento de una nueva transmisi√≥n en el curso de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingeniero de datos,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> preparamos una traducci√≥n de material interesante.</font></font><br>
</b></i><br>
<br>
<img src="https://habrastorage.org/webt/pg/_y/c6/pg_yc6ttjvtbnkh2-rhe_eq1dnw.png"><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visi√≥n general</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Hablaremos sobre un patr√≥n bastante popular por el cual las aplicaciones usan varios almacenes de datos, donde cada tienda se usa para sus propios fines, por ejemplo, para almacenar la forma can√≥nica de datos (MySQL, etc.), proporcionar capacidades de b√∫squeda avanzada (ElasticSearch, etc. .), almacenamiento en cach√© (Memcached, etc.) y otros. Por lo general, cuando se usan m√∫ltiples almacenamientos de datos, uno de ellos funciona como el almacenamiento principal y el otro como almacenamiento derivado. El √∫nico problema es c√≥mo sincronizar estos almacenes de datos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observamos una serie de patrones diferentes que intentaron resolver el problema de la sincronizaci√≥n de m√∫ltiples repositorios, como la entrada doble, las transacciones distribuidas, etc. </font><font style="vertical-align: inherit;">Sin embargo, estos enfoques tienen limitaciones significativas en t√©rminos de uso, confiabilidad y mantenimiento en la vida real. </font><font style="vertical-align: inherit;">Adem√°s de la sincronizaci√≥n de datos, algunas aplicaciones tambi√©n necesitan enriquecer los datos invocando servicios externos.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para resolver estos problemas, se desarroll√≥ Delta. </font><font style="vertical-align: inherit;">Delta es, en √∫ltima instancia, una plataforma coherente basada en eventos para sincronizar y enriquecer datos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soluciones existentes</font></font></h3><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doble entrada</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Para sincronizar dos almacenes de datos, puede usar la grabaci√≥n doble, que escribe en una tienda y luego escribe inmediatamente en otra. El primer registro puede repetirse y el segundo puede interrumpirse si el primero falla despu√©s de agotar el n√∫mero de intentos. Sin embargo, dos almacenes de datos pueden detener la sincronizaci√≥n si falla la escritura en el segundo almac√©n. Este problema generalmente se resuelve creando un procedimiento de recuperaci√≥n que puede volver a transferir peri√≥dicamente datos del primer almacenamiento al segundo o hacer esto solo si se encuentran diferencias en los datos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realizar un procedimiento de recuperaci√≥n es un trabajo espec√≠fico que no se puede reutilizar. </font><font style="vertical-align: inherit;">Adem√°s, los datos entre almacenamientos permanecen fuera de sincronizaci√≥n hasta que se complete el procedimiento de recuperaci√≥n. </font><font style="vertical-align: inherit;">La soluci√≥n es complicada si se utilizan m√°s de dos almacenes de datos. </font><font style="vertical-align: inherit;">Finalmente, el procedimiento de recuperaci√≥n puede agregar estr√©s a la fuente de datos original.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cambiar tabla de registro</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Cuando se producen cambios en un conjunto de tablas (por ejemplo, insertar, actualizar y eliminar registros), los registros de cambios se agregan a la tabla de registro como parte de la misma transacci√≥n. Otro subproceso o proceso solicita constantemente eventos de la tabla de registro y los escribe en uno o m√°s almacenes de datos, cuando es necesario eliminar eventos de la tabla de registro despu√©s de confirmar el registro de todos los almacenes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
este patr√≥n debe implementarse como una biblioteca e, idealmente, sin cambiar el c√≥digo de la aplicaci√≥n que lo utiliza. En un entorno pol√≠glota, la implementaci√≥n de dicha biblioteca debe existir en cualquier idioma necesario, pero es muy dif√≠cil garantizar la coordinaci√≥n de las funciones y el comportamiento entre los idiomas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema radica en obtener cambios de esquema en sistemas que no admiten cambios de esquema transaccional [1] [2], como MySQL. </font><font style="vertical-align: inherit;">Por lo tanto, una plantilla para realizar un cambio (por ejemplo, cambiar un esquema) y escribirla en la tabla de registro de cambios no siempre funcionar√°.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transacciones distribuidas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Las transacciones distribuidas se pueden usar para dividir una transacci√≥n entre varios almacenamientos de datos heterog√©neos para que la operaci√≥n se confirme en todos los almacenes utilizados o no en ninguno de ellos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las transacciones distribuidas son un gran problema para los dep√≥sitos de datos heterog√©neos. </font><font style="vertical-align: inherit;">Por su naturaleza, solo pueden confiar en el m√≠nimo com√∫n denominador de los sistemas involucrados. </font><font style="vertical-align: inherit;">Por ejemplo, las transacciones XA bloquean la ejecuci√≥n si ocurre una falla durante el proceso de preparaci√≥n. </font><font style="vertical-align: inherit;">Adem√°s, XA no proporciona detecci√≥n de punto muerto y no admite esquemas optimistas de gesti√≥n de concurrencia. </font><font style="vertical-align: inherit;">Adem√°s, algunos sistemas como ElasticSearch no admiten XA ni ning√∫n otro modelo de transacci√≥n heterog√©neo. </font><font style="vertical-align: inherit;">Por lo tanto, garantizar la atomicidad de la grabaci√≥n en diversas tecnolog√≠as de almacenamiento de datos sigue siendo una tarea muy dif√≠cil para las aplicaciones [3].</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Delta fue dise√±ado para abordar las limitaciones de las soluciones de sincronizaci√≥n de datos existentes, y tambi√©n enriquece los datos sobre la marcha. Nuestro objetivo era abstraer todos estos puntos complejos de los desarrolladores de aplicaciones para que pudieran concentrarse completamente en la implementaci√≥n de la funcionalidad empresarial. A continuaci√≥n, describiremos "B√∫squeda de pel√≠culas", el caso de uso real para Delta de Netflix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Netflix hace un uso extensivo de la arquitectura de microservicios y cada microservicio generalmente sirve un tipo de datos. La informaci√≥n principal sobre la pel√≠cula se extrae en un microservicio llamado Servicio de pel√≠culas, y los datos relacionados, como la informaci√≥n sobre productores, actores, vendedores, etc., son administrados por varios otros microservicios (a saber, Servicio de reparto, Servicio de talentos y Servicio de proveedor).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los usuarios de negocios en Netflix Studios a menudo necesitan buscar varios criterios para pel√≠culas, por eso es muy importante que puedan buscar todos los datos relacionados con pel√≠culas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de Delta, el equipo de b√∫squeda de pel√≠culas necesitaba recuperar datos de varios microservicios antes de indexar los datos de la pel√≠cula. Adem√°s, el equipo tuvo que desarrollar un sistema que actualizara peri√≥dicamente el √≠ndice de b√∫squeda, solicitando cambios de otros microservicios, incluso si no hubiera ning√∫n cambio. Este sistema r√°pidamente se volvi√≥ demasiado complejo y dif√≠cil de mantener. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tc/kb/t9/tckbt9vwkwiqmilkt4y18gjqbjs.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 1. Sistema de votaci√≥n antes de Delta</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Despu√©s de usar Delta, el sistema se simplific√≥ a un sistema controlado por eventos, como se muestra en la siguiente figura. Los eventos CDC (Change-Data-Capture) se env√≠an a los temas de Keystone Kafka utilizando Delta-Connector. Una aplicaci√≥n Delta creada con el Marco de procesamiento de Delta Stream (basado en Flink) recibe eventos CDC del tema, los enriquece, invoca otros microservicios y finalmente pasa los datos enriquecidos al √≠ndice de b√∫squeda en Elasticsearch. Todo el proceso tiene lugar en tiempo casi real, es decir, tan pronto como se registran los cambios en el almac√©n de datos, se actualizan los √≠ndices de b√∫squeda. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/lg/t4/bzlgt47eyfuw8wlbzv2dsx6i3ge.png"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 2. Canalizaci√≥n de datos con Delta</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En las siguientes secciones, describimos el trabajo del Delta-Connector, que se conecta al repositorio y publica eventos CDC a nivel de transporte, que es una infraestructura de transmisi√≥n de datos en tiempo real que dirige los eventos CDC a los temas de Kafka. </font><font style="vertical-align: inherit;">Y al final, hablaremos sobre el marco de procesamiento de flujo Delta que los desarrolladores de aplicaciones pueden usar para la l√≥gica de procesamiento y enriquecimiento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDC (Cambio-Captura de datos)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Hemos desarrollado un servicio CDC llamado Delta-Connector, que puede capturar los cambios comprometidos desde el almac√©n de datos en tiempo real y escribirlos en la transmisi√≥n. </font><font style="vertical-align: inherit;">Los cambios en tiempo real se toman del registro de transacciones y los volcados de almacenamiento. </font><font style="vertical-align: inherit;">Los volcados se utilizan porque los registros de transacciones generalmente no almacenan todo el historial de cambios. </font><font style="vertical-align: inherit;">Los cambios generalmente se serializan como eventos Delta, por lo que el destinatario no tiene que preocuparse de d√≥nde proviene el cambio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta-Connector admite varias caracter√≠sticas adicionales, como:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capacidad para escribir resultados personalizados m√°s all√° de Kafka.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La capacidad de activar volcados manuales en cualquier momento para todas las tablas, una tabla espec√≠fica o para ciertas claves primarias.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los volcados pueden ser recogidos por trozos, por lo que no hay necesidad de comenzar de nuevo en caso de falla.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No es necesario poner bloqueos en las tablas, lo cual es muy importante para que nuestro tr√°fico nunca bloquee el tr√°fico de escritura en la base de datos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alta disponibilidad debido a las copias de seguridad en las zonas de disponibilidad de AWS.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actualmente admitimos MySQL y Postgres, incluidas las implementaciones en AWS RDS y Aurora. </font><font style="vertical-align: inherit;">Tambi√©n apoyamos a Cassandra (multi-master). </font><font style="vertical-align: inherit;">Puede obtener m√°s informaci√≥n sobre Delta-Connector en este </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kafka y nivel de transporte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La capa Delta Event Transport se basa en el servicio de mensajer√≠a de la plataforma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keystone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hist√≥ricamente, la publicaci√≥n en Netflix se ha optimizado para aumentar la disponibilidad en lugar de la longevidad (ver </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Un compromiso fue la posible inconsistencia de los datos del corredor en varios escenarios fronterizos. Por ejemplo, la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elecci√≥n del l√≠der impuro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es responsable de garantizar que el destinatario potencialmente duplique o pierda eventos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con Delta, quer√≠amos obtener mayores garant√≠as de durabilidad para garantizar la entrega de eventos de CDC a almacenes derivados. Para hacer esto, propusimos un cl√∫ster Kafka especialmente dise√±ado como un objeto de la primera clase. Puede ver algunas configuraciones de corredores en la tabla a continuaci√≥n: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/70/hn/ri70hnpnr5wmiedci0_n5clwlwc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En los grupos de Keystone Kafka, la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elecci√≥n de l√≠der impuro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> generalmente </font><i><font style="vertical-align: inherit;">est√°</font></i><font style="vertical-align: inherit;"> habilitada para garantizar la disponibilidad del editor. Esto puede provocar la p√©rdida de mensajes si se selecciona una r√©plica no sincronizada como l√≠der. Para el nuevo grupo Kafka altamente confiable, la opci√≥n de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elecci√≥n de l√≠der impuro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√° </font><font style="vertical-align: inherit;">deshabilitada para evitar la p√©rdida de mensajes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n aumentamos el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">factor de replicaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de 2 a 3 y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las r√©plicas m√≠nimas de sincronizaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del 1 al 2. Los editores que escriben en este cl√∫ster requieren reconocimientos de todos los dem√°s, lo que garantiza que 2 de cada 3 r√©plicas tengan los mensajes m√°s actualizados enviados por el editor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se cierra la instancia del agente, la nueva instancia reemplaza a la anterior. Sin embargo, el nuevo agente deber√° ponerse al d√≠a con las r√©plicas no sincronizadas, lo que puede llevar varias horas. Para reducir el tiempo de recuperaci√≥n para este escenario, comenzamos a usar Amazon Elastic Block Store en lugar de discos de intermediarios locales. Cuando una nueva instancia reemplaza una instancia de intermediario completada, adjunta el volumen EBS que ten√≠a la instancia completa y comienza a ponerse al d√≠a con los nuevos mensajes. Este proceso reduce el tiempo para eliminar el retraso de varias horas a varios minutos, ya que la nueva instancia ya no necesita ser replicada desde un estado vac√≠o. En general, el almacenamiento por separado y los ciclos de vida del agente reducen significativamente el efecto del cambio del agente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para aumentar a√∫n m√°s la garant√≠a de entrega de datos, utilizamos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un sistema de seguimiento de mensajes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para detectar cualquier p√©rdida de mensajes en condiciones extremas (por ejemplo, sincronizaci√≥n de reloj en el l√≠der de la secci√≥n).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marco de procesamiento de flujo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El nivel de procesamiento en Delta se basa en la plataforma Netflix SPaaS, que permite la integraci√≥n de Apache Flink con el ecosistema de Netflix. La plataforma proporciona una interfaz de usuario que controla la implementaci√≥n de trabajos de Flink y la orquestaci√≥n de cl√∫steres de Flink sobre nuestra plataforma de gesti√≥n de contenedores Titus. La interfaz tambi√©n gestiona las configuraciones de trabajo y permite a los usuarios realizar cambios de configuraci√≥n din√°micamente sin tener que volver a compilar los trabajos de Flink. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta proporciona un marco de procesamiento de flujo para datos </font><b><i><font style="vertical-align: inherit;">basados ‚Äã‚Äãen</font></i></b><font style="vertical-align: inherit;"> Flink y SPaaS, que utiliza </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anotaciones</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSL (lenguaje espec√≠fico de dominio) para abstraer detalles t√©cnicos. Por ejemplo, para determinar el paso por el cual los eventos se enriquecer√°n llamando a servicios externos, los usuarios deben escribir el pr√≥ximo DSL, y el marco crear√° un modelo basado en √©l que Flink ejecutar√°. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/l2/kn/ful2knsuaqitsat9p69qhitq-a4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 3. Ejemplo de enriquecimiento de DSL en Delta</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
El marco de procesamiento no solo acorta la curva de aprendizaje, sino que tambi√©n proporciona funciones generales de procesamiento de flujo, como deduplicaci√≥n, esquematizaci√≥n, as√≠ como flexibilidad y tolerancia a fallas para resolver problemas comunes en el trabajo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta Stream Processing Framework consta de dos m√≥dulos clave, el m√≥dulo DSL y API y el m√≥dulo Runtime. El m√≥dulo DSL y API proporciona las API DSL y UDF (funci√≥n definida por el usuario) para que los usuarios puedan escribir su propia l√≥gica de procesamiento (como el filtrado o las transformaciones). El m√≥dulo Runtime proporciona una implementaci√≥n del analizador DSL, que crea una representaci√≥n interna de los pasos de procesamiento en los modelos DAG. El componente Ejecuci√≥n interpreta los modelos DAG para inicializar las declaraciones reales de Flink y finalmente lanzar la aplicaci√≥n Flink. La arquitectura del marco se ilustra en la siguiente figura. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9_/gm/on/9_gmono77zxzhhorwhyghdkgdqq.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 4. Arquitectura de Delta Stream Processing Framework</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este enfoque tiene varias ventajas:</font></font><br>
<br>
<ul>
<li>     -      Flink   SPaaS.</li>
<li>      ,         -     (UDF).</li>
<li>  Delta   ,             ,     .</li>
</ul><br>
<br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta ha estado en producci√≥n durante m√°s de un a√±o y desempe√±a un papel clave en muchas aplicaciones de Netflix Studio. </font><font style="vertical-align: inherit;">Ayud√≥ a los equipos a implementar casos de uso como indexaci√≥n de b√∫squeda, almacenamiento de datos y flujos de trabajo basados ‚Äã‚Äãen eventos. </font><font style="vertical-align: inherit;">La siguiente es una descripci√≥n general de la arquitectura de alto nivel de la plataforma Delta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/rf/dq/imrfdqholl1umfrm_pb4nqwy064.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 5. La arquitectura de alto nivel de Delta.</font></font></i><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expresiones de gratitud</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Queremos agradecer a las siguientes personas que contribuyeron a la creaci√≥n y desarrollo de Delta en Netflix: Allen Wang, Charles Zhao, Jaebin Yoon, Josh Snyder, Kasturi Chatterjee, Mark Cho, Olof Johansson, Piyush Goyal, Prashanth Ramdas, Raghuram Onti Srinivasan, Sandeep Gupta , Steven Wu, Tharanga Gamaethige, Yun Wang y Zhenzhong Xu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuentes</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/implicit-commit.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/cannot-roll-back.html</font></font></a></li>
<li>Martin Kleppmann, Alastair R. Beresford, Boerge Svingen: Online event processing. Commun. ACM 62(5): 43‚Äì49 (2019). DOI: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">doi.org/10.1145/3312527</a></li>
</ol><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   </a>: ¬´Data Build Tool   Amazon Redshift¬ª.</b></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es487460/">https://habr.com/ru/post/es487460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487444/index.html">‚ÄúMientras tomaba caf√©, facturaba y recib√≠a un impulso de pago‚Äù: innovaciones que le permiten realizar negocios las 24 horas, los 7 d√≠as de la semana</a></li>
<li><a href="../es487446/index.html">¬øPuede una empresa "poseer" el color?</a></li>
<li><a href="../es487448/index.html">Superpoderes de materiales ultrafinos: en ciencia de materiales, 2D es el nuevo 3D</a></li>
<li><a href="../es487450/index.html">Configuramos WireGuard en un enrutador Mikrotik que ejecuta OpenWrt</a></li>
<li><a href="../es487454/index.html">¬øQuienes son esas personas? ¬øPor qu√© me necesitan? y otros problemas de scrum master</a></li>
<li><a href="../es487462/index.html">Biblioteca JavaScript de Webix a trav√©s de los ojos de un principiante. Parte 4. Trabajar con datos. CRUDO</a></li>
<li><a href="../es487470/index.html">Calibry: avance del precio de avance 3D</a></li>
<li><a href="../es487486/index.html">Sega Dreamcast Anatomy: Console Second Life</a></li>
<li><a href="../es487488/index.html">Casos para aplicar herramientas de an√°lisis de anomal√≠as de red: detectar la propagaci√≥n de c√≥digo malicioso</a></li>
<li><a href="../es487490/index.html">Transformaci√≥n XSL en MS SQL sin CLR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>