<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏼 🏔️ 👊🏻 ブループリントで美しい治療棟を作成する 🙅🏾 🌐 🧑🏿‍🤝‍🧑🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前書き
 手続き型の建物を生成する青写真は魅力的なアイデアです。結局のところ、これは同じアーキテクチャであるため、標準化されたモジュールと自動配置の使用は非常に論理的です。しかし、テクスチャリングの際に、繰り返しではなく自然な多様性を実現するにはどうすればよいでしょうか。
 
 この建物は1つのモジ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ブループリントで美しい治療棟を作成する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479880/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手続き型の建物を生成する青写真は魅力的なアイデアです。</font><font style="vertical-align: inherit;">結局のところ、これは同じアーキテクチャであるため、標準化されたモジュールと自動配置の使用は非常に論理的です。</font><font style="vertical-align: inherit;">しかし、テクスチャリングの際に、繰り返しではなく自然な多様性を実現するにはどうすればよいでしょうか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この建物は1つのモジュールのみから作成され、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動的にConstruction Blueprintにコピーされました</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">アイデアは、材料はほとんど手動のデータ入力を必要としないということです。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建物全体</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（窓を除く）に</font><em><font style="vertical-align: inherit;">使用される材料は1つだけ</font></em><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">その関数は、頂点の色のランダム化とワールド空間でのピクセルの位置を制御するために使用されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/452/ed9/89f/452ed989f29ac36e17450f299cd42763.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なのはモジュールだけです</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/846/50b/59f/84650b59f1d4b9c511f0cd02223fb4ca.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手動での配置やスクリプトは不要です。</font><font style="vertical-align: inherit;">すべてのランダム化はマテリアルで実行</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
されますこのチュートリアルで説明されている</font><i><font style="vertical-align: inherit;">マテリアル</font></i><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定された絶対的な高さまでのみオブジェクトを覆う</font><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高さに依存する汚れの</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">層が</font><em><font style="vertical-align: inherit;">あります</font></em></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各フロアとセグメントの</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクト</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><em><font style="vertical-align: inherit;">色を</font></em><font style="vertical-align: inherit;">ランダムに</font><font style="vertical-align: inherit;">選択し</font><em><font style="vertical-align: inherit;">ます</font></em></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小さなオブジェクト</font><font style="vertical-align: inherit;">の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置を</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少し</font><font style="vertical-align: inherit;">ランダムに</font><font style="vertical-align: inherit;">シフトし</font><font style="vertical-align: inherit;">ます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーは壁の2色とその破壊の値を選択できます</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/714/288/13b/71428813b6dd48d00d880ab8373a4e09.jpg"></div><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データとしての頂点カラー</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">03:34</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
頂点と法線の位置に加えて、ゲームエンジンは通常、頂点の色などの他の値へのアクセスを提供します。メッシュの三角形をシェーディングすると、頂点間で色が補間されます。 3Dエディターで描画するか</font><font style="vertical-align: inherit;">、UEの</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペイント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]タブ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用できます</font><font style="vertical-align: inherit;">。エンジンでこれを行う場合は、ワールド内のメッシュの個別のインスタンスを変更する機会があります。この使用例については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頂点の描画に関するチュートリアルで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明しました</font><font style="vertical-align: inherit;">。ただし、この場合は、</font><font style="vertical-align: inherit;">ランダム化を制御する</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正確なマスク</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">としてRGBチャネルを使用することにしたため、インポートされた色を使用します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d04/645/84f/d0464584f79ede1d4e6cb59f180ece8f.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dグラフィックスの色は</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3コンポーネントのベクトルに</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぎないことを忘れないでください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そのコンポーネントは、0、1の範囲の赤、緑、青の明るさです。頂点の色は単なるデータであるため、値は任意です。</font><font style="vertical-align: inherit;">テクスチャをペイントするために直接使用する代わりに、各チャネルにマスクトップの色をパックすることにしました。</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赤いチャネル</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、壁の原色と二次色の</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マスクです</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">値が0のポリゴンはプライマリカラーを使用し、1はセカンダリカラーを使用します。</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">緑チャンネル</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パレットから色</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><strong><font style="vertical-align: inherit;">選択する</font></strong><font style="vertical-align: inherit;">ために使用され</font><strong><font style="vertical-align: inherit;">ます</font></strong><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、衣類の乾燥など、小さなアイテムのカラーバリエーションを制御できます。</font><font style="vertical-align: inherit;">0と1の間の値は、パレットテクスチャのインデックス（UV位置）に丸められます。</font></font></li>
<li><strong> </strong> – <strong>  </strong>     .  ,  0     ( ),    1      .     <strong></strong> ( ).    0,    ,     ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本格的な3Dエディタには、頂点の色をペイントする機能があります。エディターでこれを行う方法の説明を簡単に見つけることができます。メッシュのインポートウィンドウでアンリアルエンジンに</font><font style="vertical-align: inherit;">、頂点の色を（無視（</font><b><font style="vertical-align: inherit;">無視</font></b><font style="vertical-align: inherit;">）するの</font><font style="vertical-align: inherit;">ではなく）</font><font style="vertical-align: inherit;">置き換える（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置換</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><b><font style="vertical-align: inherit;">Replace</font></b><font style="vertical-align: inherit;">））</font><font style="vertical-align: inherit;">ことを忘れないでください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
上で述べたように、このプロジェクトの色は正確な値のセットです。同様のタスク、およびほとんどすべてのテクニカルゲームアートタスクでは、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Houdini</font></a><font style="vertical-align: inherit;">を使用することを好みます</font><font style="vertical-align: inherit;">。ただし、他の3Dエディタでも同様の結果が得られます（少し手間がかかります）。シェーダーで各カラーチャネルが何を表示するかに注意してください。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のチュートリアルで、頂点カラーチャネルに値を割り当てるプロセス全体を強調しました：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Houdiniを使用して頂点カラーにデータを保存し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このチュートリアルでは、トリッキーなHoudiniツールを使用してプロセスをより効率的にします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建設設計図</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">07:57</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私が作成したブループリントは単純です。</font><font style="vertical-align: inherit;">単純に建物の平らな壁を作成し、メッシュを水平および垂直に複製します。</font><font style="vertical-align: inherit;">可変変数</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MeshWall</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（静的メッシュ）、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumberOfFloors</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（整数）、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumberOfSegments</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（整数）および</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materialがあり</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36a/37c/41f/36a37c41f9768c13dc189800d6885c53.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設計図の結果：4フロア、2セグメント。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセス全体は構築スクリプトで実行されます。</font><font style="vertical-align: inherit;">レベル編集中。</font><font style="vertical-align: inherit;">これにより、結果のメッシュは他の静的オブジェクトと同じように動作します。</font><font style="vertical-align: inherit;">たとえば、照明を構築するときに考慮されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ff/a6a/3bd/1ffa6a3bd4ee53c609b3b734b9fad082.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッシュの寸法が最初に測定されます。</font><font style="vertical-align: inherit;">ボーダーの長さとは、オブジェクトのサイズの半分を意味します。</font><font style="vertical-align: inherit;">すべてのセグメントの値が同じになるため、一度計算して保存できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e6/475/253/1e6475253c221036c1d38ddcd0aaeae7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残りのコードは2サイクルで実行されます。</font><font style="vertical-align: inherit;">外側のループは全体としてフロアを作成し、内側のループは現在のフロア内にセグメントを作成します。</font><font style="vertical-align: inherit;">位置は、ループの反復インデックスにメッシュの幅と高さを乗算して計算されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f6d/b5e/a15/f6db5ea15ff1ec34d57e1fe8f840d1b3.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b11/149/09e/b1114909edea2c5ee08b2a32742d3968.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい静的メッシュコンポーネントが各セグメントに追加されます。</font><font style="vertical-align: inherit;">場合によっては、インスタンスを使用すると便利です。</font><font style="vertical-align: inherit;">コンポーネントを追加すると、描画呼び出しの数が増加し、「重い」シーンでは問題が発生する可能性があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3f/738/655/e3f738655b4ce5d15c36af33b2b84c67.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで全部です。</font><font style="vertical-align: inherit;">新しい</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumberOfFloors</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumberOfSegmentsを</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定</font><font style="vertical-align: inherit;">すると</font><strong><font style="vertical-align: inherit;">、</font></strong><font style="vertical-align: inherit;">建物は自動的に更新されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頂点カラーでマスクされた2つの壁の色</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21:16</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/528/2df/2a5/5282df2a5426419e8c5e1b77d25c67c6.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらの色もパラメータとしてアクセスされます。</font><font style="vertical-align: inherit;">頂点の色の赤いチャネルは、頂点間の混合係数として使用されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c2/ccc/1de/6c2ccc1ded71aabd11f7858ef18276fe.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャンネルのパッキングとミキシング</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14:22</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f30/20d/57b/f3020d57b13577a9fd99f296b216e863.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
壁の色は壁自体にのみ影響し、窓枠とエアコンには影響しないようにします。</font><font style="vertical-align: inherit;">また、損傷した領域に影響を与えるべきではありません。</font><font style="vertical-align: inherit;">これは、ベースカラーのアルファチャネルでマスクをラップすることで実行できます。</font><font style="vertical-align: inherit;">つまり、ベースカラーのテクスチャは透明な背景で、壁の色が影響を受けているのです。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ちなみに、テクスチャーの金属性、粗さ、オクルージョン（すべてグレーの陰影）を</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じテクスチャー</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><em><font style="vertical-align: inherit;">R / G / Bチャネル</font></em><font style="vertical-align: inherit;">にパックしました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、サンプラー、ファイル、Lerpの数が3分の1に削減されます。妥協を必要としない優れた最適化です。</font><font style="vertical-align: inherit;">このテクニックのチュートリアルは、ノートにあります。</font></font></blockquote><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/770/35a/8cb/77035a8cbf1324546e0e83c2012fdfeb.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テクスチャからのノイズ</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe5/273/895/fe5273895a46a8b5ce8c3be9cc3a4563.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このノイズパターンは、最初の（クリーンな）テクスチャセットと2番目の（損傷した）テクスチャセットを混合するために使用されました。</font><font style="vertical-align: inherit;">リアルタイムで計算するのではなく、高品質のノイズのコストのかかる手順になるので、テクスチャからロードするだけです。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WorldAlignedTextureノード</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">三方からプロジェクトを（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それが生成</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手続きUV座標</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bf/cbe/46f/7bfcbe46f272add70a52189d83dd2af8.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高さに依存する汚れ。</font><font style="vertical-align: inherit;">リマップ機能</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18:00</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6cc/468/e2e/6cc468e2e8e5cc877ea15c4c60d08d89.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダートは、ワールドスペースのグラデーションによって適用されるフラットカラーです。</font><font style="vertical-align: inherit;">ワールド内のピクセル位置のコンポーネントZは、間隔0-1に変換されます。</font><font style="vertical-align: inherit;">これにより、有用なマスク</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Lerp</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">係数が得られ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">初期の最小値と最大値（たとえば、150〜700 cm）は、ユーザーによってスカラーパラメーターとして送信されます。</font><font style="vertical-align: inherit;">トランジションをより自然にするために、少しノイズが追加されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/938/f88/f49/938f88f4943ce485baeaad8552bff562.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/649/957/d4c/649957d4c40e938f066c047c201be84c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TAA_Remap_01_Clamped関数は私が作成しました。</font><font style="vertical-align: inherit;">ほとんどすべてのシェーダーで使用しています。</font><font style="vertical-align: inherit;">ソース間隔の値を間隔0-1に変換します。</font><font style="vertical-align: inherit;">距離に基づいてマスクを作成するのに最適です（カメラから、地面から、さらにはUV空間のシェイプに）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a3/a62/b3d/7a3a62b3d2d43495fe49a6dfac5ae4bf.png"></div><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">色のランダム化、要素の非表示</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">午後10時55分</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/355/4da/42f/3554da42fc4175eda5835837b819aa31.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セグメント位置の基準点からランダムな値を取得すると、小さなオブジェクトのカラーパレットをシフトできます。</font><font style="vertical-align: inherit;">パレットは色が水平方向に揃ったテクスチャなので、読み取りに使用する画像を移動すると最終的な色が得られます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24b/c58/528/24bc58528ef7b0b014901e8e648e0f47.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e82/5f0/949/e825f0949c1b0531ba264540bb4c52db.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡大したパレットのテクスチャ。</font><font style="vertical-align: inherit;">通常のサイズは8×1ピクセルで、圧縮は無効になっています</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f32/376/582/f32376582181d8d017a5b37583432969.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
緑の頂点カラーチャネルは、ランダム化の値とマスクとして機能します。</font><font style="vertical-align: inherit;">値0は、「ここに色を適用しない」ことを意味します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dac/ab4/351/dacab4351f9c9fbe8f25e3b09e7ec847.jpg"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカル位置オフセットを適用</font></font></h3><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お使いのブラウザはHTML5ビデオをサポートしていません。</font></font><source src="https://techartaid.com/wp-content/uploads/2019/08/randomizing-module-movement.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の機能は、X軸に沿ってオブジェクトをランダムに移動することです。これを行うには、マテリアル制御の位置オフセットを頂点に追加します。このトリックを使用するときは、2つのことに注意する必要があります-複雑な衝突（射撃用）と距離フィールド。どちらのパラメーターも、このようなオフセットが実行されたことを認識していません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう一度青いチャネルを取得し、乱数を追加します-以前に使用したセグメントの位置に基づく同じノイズ。間隔を0-1から-0.5から0.5に変換して、移動が両方向で実行されるようにします。次に、それを</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionOffsetStrengthで</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乗算し</font><font style="vertical-align: inherit;">ます。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加ノードは、</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">残りの軸（YとZに定数0）を追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
予想外に、Unrealでは出力を</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワールド座標</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でオフセットする必要があります</font><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカル位置</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を計算しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">変換する方法は？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transform</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノードを使用して、この新しいローカル位置のスペースをワールドスペースに変換することで実行できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次に、この新しい頂点の位置から、ワールド内の頂点の初期位置を差し引いて、位置では</font><font style="vertical-align: inherit;">なく</font><font style="vertical-align: inherit;">ワールド</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オフセットを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取得します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これと</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">World Position Offset</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マテリアルのリリースを</font><strong><font style="vertical-align: inherit;">組み合わせれば</font></strong><font style="vertical-align: inherit;">、それだけです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d42/819/976/d42819976db34e96c5975f9356bc1926.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成品</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルから何か新しいことを学んでいただければ幸いです。</font><font style="vertical-align: inherit;">マテリアルノードグラフ全体のスクリーンショットを次に示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/750/9ed/5ad/7509ed5ade041ded8202d6f99f5eb96a.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトファイルとディスカッション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無料で（または、必要に応じて寄付して）プロジェクトファイルをダウンロードでき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">フィードバックや質問がある場合は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Reddit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のディスカッション</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">に</font></a><font style="vertical-align: inherit;">参加してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加の読書</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テクスチャをRGBチャネルにパックする簡単な方法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、Photoshopを使用して、3つのグレースケールテクスチャを単一のRGB画像のチャネルに保存することです。</font><font style="vertical-align: inherit;">パッケージ化により、スペースを節約し、さらに重要なことに、1回の読み取り操作で3つのテクスチャを取得できます。</font><font style="vertical-align: inherit;">メモリからのテクスチャの読み取りは最も時間のかかるGPU操作の1つであるため、これは努力に値します。</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479864/index.html">WinForms + C＃でのゲーム16（パート2）</a></li>
<li><a href="../ja479870/index.html">私たちは、外出先でフレームワークと仕事用プロファイルを変更します。PHP NNの2番目のミタップで何が起こるか</a></li>
<li><a href="../ja479874/index.html">どのようにしてThoughtWorksまたは模範的なインタビューに入りましたか</a></li>
<li><a href="../ja479876/index.html">データセンターに枕は必要ですか？</a></li>
<li><a href="../ja479878/index.html">説明付きのユニバーサルTK for Wi-Fi</a></li>
<li><a href="../ja479882/index.html">ソフトウェア構成に行く</a></li>
<li><a href="../ja479884/index.html">UnityのカスタムCI / CD</a></li>
<li><a href="../ja479886/index.html">視覚ではなく聴覚：暗闇に適応するように脳ニューロンを再構成する</a></li>
<li><a href="../ja479888/index.html">高速復元力のある圧縮（続き）</a></li>
<li><a href="../ja479890/index.html">モノのインターネットの概念を実装する際の問題とタスク</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>