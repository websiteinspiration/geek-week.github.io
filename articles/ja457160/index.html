<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš ğŸ‡ğŸ½ ğŸ‘§ğŸ» C ++ã§ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’å®Ÿè£…ã™ã‚‹ç§ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼šå®Ÿè¡Œæ™‚ã«ä¸æ˜ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§é–¢æ•°ã‚’å‘¼ã³å‡ºã™ ğŸš… ğŸ–Œï¸ ğŸš¡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
 C ++è¨€èªãŒå¥½ãã§ã™ã€‚ç§ã¯ã“ã‚ŒãŒç§ã®å¥½ããªè¨€èªã ã¨è¨€ã£ã¦ã‚‚ã„ã„ã§ã—ã‚‡ã†ã€‚ã•ã‚‰ã«ã€ç§ã¯.NETãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’é–‹ç™ºã«ä½¿ç”¨ã—ã¦ãŠã‚Šã€ãã®ä¸­ã§ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã®å¤šãã¯ã€ç§ã®æ„è¦‹ã§ã¯ã€å˜ã«é©šãã¹ãã‚‚ã®ã§ã™ã€‚ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ€ã„ã¤ã„ãŸã‚‰ã€C ++ã§ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨å‹•çš„é–¢æ•°å‘¼ã³å‡ºã—ã®ã„ãã¤ã‹ã®æ‰‹æ®µã‚’å®Ÿè£…...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C ++ã§ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’å®Ÿè£…ã™ã‚‹ç§ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼šå®Ÿè¡Œæ™‚ã«ä¸æ˜ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§é–¢æ•°ã‚’å‘¼ã³å‡ºã™</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457160/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++è¨€èªãŒå¥½ãã§ã™ã€‚ç§ã¯ã“ã‚ŒãŒç§ã®å¥½ããªè¨€èªã ã¨è¨€ã£ã¦ã‚‚ã„ã„ã§ã—ã‚‡ã†ã€‚ã•ã‚‰ã«ã€ç§ã¯.NETãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’é–‹ç™ºã«ä½¿ç”¨ã—ã¦ãŠã‚Šã€ãã®ä¸­ã§ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã®å¤šãã¯ã€ç§ã®æ„è¦‹ã§ã¯ã€å˜ã«é©šãã¹ãã‚‚ã®ã§ã™ã€‚ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ€ã„ã¤ã„ãŸã‚‰ã€C ++ã§ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨å‹•çš„é–¢æ•°å‘¼ã³å‡ºã—ã®ã„ãã¤ã‹ã®æ‰‹æ®µã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿç§ã¯æœ¬å½“ã«ã€C ++ã«ã€æœªçŸ¥ã®æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ãã®å‹ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ãªCLIã®åˆ©ç‚¹ãŒæ¬²ã—ã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€ãŸã¨ãˆã°ã€é–¢æ•°ã‚’å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚‹ãƒ‡ãƒ¼ã‚¿å‹ãŒäº‹å‰ã«ã‚ã‹ã‚‰ãªã„å ´åˆã«å½¹ç«‹ã¡ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚‚ã¡ã‚ã‚“ã€ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã®å®Œå…¨ãªæ¨¡å€£ã¯è¤‡é›‘ã™ãã‚‹ãŸã‚ã€ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸€èˆ¬çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã€è¨€èªã§ç›´æ¥ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‚‚ã®ã‚’æ‰±ã†ã¨ãã«ç™ºç”Ÿã™ã‚‹ã„ãã¤ã‹ã®é‡è¦ãªå•é¡Œã®è§£æ±ºç­–ã®ã¿ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä¸ç‰¹å®šæ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ä¸æ˜ãªå‹ã‚’ä½¿ç”¨ã—ã¦é–¢æ•°ã‚’å‘¼ã³å‡ºã™</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚‚ã¡ã‚ã‚“ã€ã“ã‚Œã¯C ++ã®ä¸»ãªå•é¡Œã§ã‚ã‚Šã€ãã‚Œã»ã©ç°¡å˜ã«ã¯è§£æ±ºã§ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ã‚‚ã¡ã‚ã‚“ã€C ++ã«ã¯C- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varargs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‹ã‚‰ç¶™æ‰¿ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã€</font><font style="vertical-align: inherit;">ãŠãã‚‰ãã“ã‚ŒãŒæœ€åˆã«é ­ã«æµ®ã‹ã¶ã‚‚ã®ã§ã™...ã—ã‹ã—ã€ãã‚Œã‚‰ã¯æœ€åˆã¯ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ã§ãªã„æ€§è³ªï¼ˆCã®å¤šãã®ã‚‚ã®ã¨åŒæ§˜ï¼‰ã®ãŸã‚ã€é©åˆã—ã¾ã›ã‚“ã€‚æ¬¡ã«ã€ãã®ã‚ˆã†ãªå¼•æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãã¯ã€å¼•æ•°ã®å‹ã‚’äº‹å‰ã«çŸ¥ã£ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ã»ã¼ç¢ºå®Ÿã«ã€ã“ã‚ŒãŒ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varargsã®</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã®å•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸€èˆ¬ã«ã€ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ç§ãŸã¡ã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ã“ã®å•é¡Œã®è§£æ±ºã«å½¹ç«‹ã¤ãƒ„ãƒ¼ãƒ«ã‚’ãƒªã‚¹ãƒˆã—ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std ::ä»»æ„</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 17ä»¥é™ã€è¨€èªã«ã¯ã‚ã‚‰ã‚†ã‚‹ã‚‚ã®ã®ãŸã‚ã®ç´ æ™´ã‚‰ã—ã„ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚³ãƒ³ãƒ†ãƒŠãƒ¼</font><font style="vertical-align: inherit;">ãŒã‚ã‚Šã¾ã™ã€‚CLIã®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System.Object</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã®</font><font style="vertical-align: inherit;">é¡ä¼¼ç‚¹</font><font style="vertical-align: inherit;">ã¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: any</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚ã“ã®ã‚³ãƒ³ãƒ†ãƒŠã¯ã€ä½•ã§ã‚‚ã€ãã—ã¦ã©ã®ã‚ˆã†ã«ã§ã‚‚åŠ¹ç‡çš„ã«æ ¼ç´ã§ãã¾ã™ã€‚ -æ¨™æº–ã§ã¯ã€å°ã•ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›´æ¥æ ¼ç´ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ãŒã€å¤§ããªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯æ—¢ã«å‹•çš„ãƒ¡ãƒ¢ãƒªã«æ ¼ç´ã§ãã¾ã™ï¼ˆã“ã®å‹•ä½œã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€Microsoftã¯ã“ã‚Œã‚’C ++å®Ÿè£…ã§è¡Œã£ãŸã®ã§ã€æœ—å ±ã§ã™ï¼‰ã€‚ãã—ã¦ã€System.ObjectãŒç¶™æ‰¿é–¢ä¿‚ã«é–¢ä¸ã—ã¦ã„ã‚‹ãŸã‚ï¼ˆ "is a"ï¼‰ã€std :: anyãŒãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—é–¢ä¿‚ã«é–¢ä¸ã—ã¦ã„ã‚‹ãŸã‚ï¼ˆ "has a"ï¼‰ã€ãã‚Œã ã‘ãŒé¡ä¼¼æ€§ã¨å‘¼ã°ã‚Œã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã«åŠ ãˆã¦ã€ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã«ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: type_info-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒŠãƒ¼å†…ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã€Œå­˜åœ¨ã™ã‚‹ã€å‹ã«é–¢ã™ã‚‹RTTI </font><font style="vertical-align: inherit;">ã¸ã®ãƒã‚¤ãƒ³ã‚¿ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;any&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ãŒã‚³ãƒ³ãƒ†ãƒŠã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã€Œãƒ—ãƒ«ã€ã™ã‚‹</font><font style="vertical-align: inherit;">ã«ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã‚’è¿”ã™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: any_castï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Š</font><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨ä¾‹ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;any&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">any_test</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-built_in">std</span>::any obj = <span class="hljs-number">5</span>;
	<span class="hljs-keyword">int</span> from_any = <span class="hljs-built_in">std</span>::any_cast&lt;<span class="hljs-keyword">int</span>&gt;(obj);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸã‚¿ã‚¤ãƒ—ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚³ãƒ³ãƒ†ãƒŠå†…ã«æŒã£ã¦ã„ã‚‹ã‚‚ã®ã¨ä¸€è‡´ã—ãªã„å ´åˆã€ä¾‹å¤–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: bad_any_castãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŠ ãˆã¦ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»æ„:: STD</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STD :: bad_any_castã‚¯ãƒ©ã‚¹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STD :: any_castæ©Ÿèƒ½</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–¢æ•°ãŒã‚ã‚‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STD :: make_any</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨åŒæ§˜</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®std :: make_shared</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STD :: make_pair</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ç¨®ã®ãŠã‚ˆã³ä»–ã®æ©Ÿèƒ½ã¯ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTTI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚‚ã¡ã‚ã‚“ã€å®Ÿè¡Œæ™‚ã«å‹æƒ…å ±ãªã—ã§å‹•çš„é–¢æ•°å‘¼ã³å‡ºã—ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã¯ã€C ++ã§ã¯å®Ÿéš›çš„ã«éç¾å®Ÿçš„ã§ã™ã€‚çµå±€ã®ã¨ã“ã‚ã€æ­£ã—ã„å‹ãŒæ¸¡ã•ã‚ŒãŸã‹ã©ã†ã‹ã‚’ä½•ã‚‰ã‹ã®æ–¹æ³•ã§ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ã§ã®RTTIã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆã¯ã€ã‹ãªã‚Šå‰ã‹ã‚‰å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€å•é¡Œã®äº‹å®Ÿã¯ãã®åŸå§‹çš„ãªã‚‚ã®ã§ã™-è£…é£¾ã•ã‚ŒãŸåå‰ã¨è£…é£¾ã•ã‚Œã¦ã„ãªã„åå‰ã‚’é™¤ã„ã¦ã€ã‚¿ã‚¤ãƒ—ã«ã¤ã„ã¦ã»ã¨ã‚“ã©å­¦ã¶ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã¾ãŸã€ã‚¿ã‚¤ãƒ—ã‚’ç›¸äº’ã«æ¯”è¼ƒã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ã€ã€ŒRTTIã€ã¨ã„ã†ç”¨èªã¯ã€å¤šå½¢ã‚¿ã‚¤ãƒ—ã«é–¢é€£ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ã“ã“ã§ã¯ã“ã®ç”¨èªã‚’ã‚ˆã‚Šåºƒã„æ„å‘³ã§ä½¿ç”¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€å„å‹ã¯å®Ÿè¡Œæ™‚ã«å‹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã¨ã„ã†äº‹å®Ÿã‚’è€ƒæ…®ã—ã¾ã™ï¼ˆãŸã ã—ã€ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯å‹ã¨ã¯ç•°ãªã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é™çš„ã«ã—ã‹å–å¾—ã§ãã¾ã›ã‚“ï¼‰ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€å®Ÿè¡Œæ™‚ã«éå¤šå½¢å‹ï¼ˆãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã¯ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ï¼‰ã§ã‚‚å‹ã‚’æ¯”è¼ƒã™â€‹â€‹ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ï¼ˆå¿…è¦ã§ã™ï¼‰ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTTIã«ã¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: type_infoã‚¯ãƒ©ã‚¹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¯ãƒ©ã‚¹ã¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;typeinfo&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã¯ã€ï¼ˆå°‘ãªãã¨ã‚‚ä»Šã®ã¨ã“ã‚ï¼‰</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typeidï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç®—å­ã‚’ä½¿ç”¨ã—ã¦ã®ã¿å–å¾—ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ã‚¿ãƒ¼ãƒ³</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«å¿…è¦ãªè¨€èªã®ã‚‚ã†1ã¤ã®éå¸¸ã«é‡è¦ãªæ©Ÿèƒ½ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ãƒ„ãƒ¼ãƒ«ã¯éå¸¸ã«å¼·åŠ›ã§éå¸¸ã«å›°é›£ã§ã‚ã‚Šã€å®Ÿéš›ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯éå¸¸ã«åºƒç¯„ãªãƒˆãƒ”ãƒƒã‚¯ã§ã‚ã‚Šã€è¨˜äº‹ã®æ çµ„ã¿ã®ä¸­ã§ãã‚Œã‚’æ˜ã‚‰ã‹ã«ã™ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã§ã‚ã‚Šã€ã“ã‚Œã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ç§ãŸã¡ã¯èª­è€…ãŒãã‚ŒãŒä½•ã§ã‚ã‚‹ã‹ã‚’ç†è§£ã—ã¦ã„ã‚‹ã¨æƒ³å®šã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã®éç¨‹ã§ã„ãã¤ã‹ã®ã‚ã„ã¾ã„ãªç‚¹ãŒæ˜ã‚‰ã‹ã«ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼•æ•°ã®æŠ˜ã‚Šè¿”ã—ã¨ãã‚Œã«ç¶šãå‘¼ã³å‡ºã—</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€ã„ãã¤ã‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹ç‰¹å®šã®é–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ã®æ„å›³ã‚’èª¬æ˜ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚¹ã‚±ãƒƒãƒã‚’ãŠè¦‹ã›ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Variadic_args_binder.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;any&gt;</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> s)</span>
</span>{
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"int: "</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">"\nstring: "</span> &lt;&lt; s &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">demo</span><span class="hljs-params">()</span>
</span>{
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt; params;<font></font>
	params.push_back(<span class="hljs-number">5</span>);<font></font>
	params.push_back(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>{ <span class="hljs-string">"Hello, Delegates!"</span> });<font></font>
	delegates::Variadic_args_binder&lt;<span class="hljs-keyword">int</span>(*)(<span class="hljs-keyword">int</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>), <span class="hljs-keyword">int</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; binder{ f, params };<font></font>
	binder();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ãªãŸã¯å°‹ã­ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€ã“ã‚Œã¯ã©ã®ã‚ˆã†ã«å¯èƒ½ã§ã™ã‹ï¼Ÿã‚¯ãƒ©ã‚¹å</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variadic_args_binder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒé–¢æ•°ã¨ã€ãã‚Œã‚’å‘¼ã³å‡ºã™ã¨ãã«æ¸¡ã™å¿…è¦ãŒã‚ã‚‹å¼•æ•°ã‚’ãƒã‚¤ãƒ³ãƒ‰ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ã“ã®ãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãªã—ã®é–¢æ•°ã¨ã—ã¦å‘¼ã³å‡ºã™ã ã‘ã§ã™ï¼</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã ã‹ã‚‰å¤–ã‚’è¦‹ã‚‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ãã«ã€ä½•ã‚‚è€ƒãˆãšã«ã€ã“ã‚Œã‚’ã©ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã‚‹ã‹ã‚’æƒ³å®šã™ã‚‹</font><font style="vertical-align: inherit;">ã¨ã€ç•°ãªã‚‹æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«å¯¾ã—ã¦</font><font style="vertical-align: inherit;">ã„ãã¤ã‹ã®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variadic_args_binder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‰¹æ®ŠåŒ–ã‚’æ›¸ãã“ã¨ãŒé ­ã«æµ®ã‹ã¶ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“</font><font style="vertical-align: inherit;">ã€‚ãŸã ã—ã€ç„¡åˆ¶é™ã®æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€ã“ã‚Œã¯ä¸å¯èƒ½ã§ã™ã€‚ãã—ã¦ã“ã“ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ï¼šæ®‹å¿µãªãŒã‚‰ã€å¼•æ•°ã¯é™çš„ã«é–¢æ•°å‘¼ã³å‡ºã—ã«ä»£å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€æœ€çµ‚çš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã®å ´åˆã€å‘¼ã³å‡ºã—ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ¸›ã‚‰ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs">fun_ptr(param1, param2, â€¦, paramN);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚ŒãŒC ++ã®ã—ãã¿ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã€ã“ã‚Œã‚‰ã™ã¹ã¦ã¯éå¸¸ã«è¤‡é›‘ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒã‚¸ãƒƒã‚¯ã ã‘ãŒå‡¦ç†ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸»ãªã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã€å„ãƒã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã§å¼•æ•°ã¾ãŸã¯é–¢æ•°ã®1ã¤ã‚’æ ¼ç´ã™ã‚‹å†å¸°å‹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_Tagged_args_binder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚’å®£è¨€ã—</font><i><font style="vertical-align: inherit;">ã¾ã™</font></i><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> delegates::impl<font></font>
{<font></font>
	<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span>... T&gt;
	<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>;</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¿ã‚¤ãƒ—ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¾¿åˆ©ã«ã€Œè»¢é€ã€ã™ã‚‹ãŸã‚ã«ã€è£œåŠ©ã‚¿ã‚¤ãƒ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type_pack_tag</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½œæˆã—ã¾ã™</font><font style="vertical-align: inherit;">ï¼ˆã“ã‚ŒãŒå¿…è¦ã ã£ãŸç†ç”±ã¯ã€ã™ãã«æ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ï¼‰ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... T&gt;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Type_pack_tag</span>
{</span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_Tagged_args_binder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã®ç‰¹æ®ŠåŒ–ã‚’ä½œæˆã—ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åˆã®å°‚é–€åˆ†é‡</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã”å­˜çŸ¥ã®ã‚ˆã†ã«ã€å†å¸°ãŒç„¡é™ã§ã¯ãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€å¢ƒç•Œã‚±ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã®å°‚é–€åˆ†é‡ã¯åˆæœŸã®ã‚‚ã®ã§ã™ã€‚</font><font style="vertical-align: inherit;">ç°¡å˜ã«ã™ã‚‹ãŸã‚ã«ã€éå‚ç…§å‹ã¨å³è¾ºå€¤å‚ç…§å‹ã®ã¿ã®ç‰¹æ®ŠåŒ–ã‚’å¼•ç”¨ã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç›´æ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼å€¤ã®ç‰¹æ®ŠåŒ–ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span>... Types_to_construct&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>&lt;Func_type, Type_pack_tag&lt;T1, Types_to_construct...&gt;, Type_pack_tag&lt;&gt;&gt;
{</span>
<span class="hljs-keyword">public</span>:
	<span class="hljs-keyword">static_assert</span>(!<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, T1&gt;, <span class="hljs-string">"Void argument is not allowed"</span>);<font></font>
<font></font>
<span class="hljs-keyword">using</span> Ret_type = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">invoke_result_t</span>&lt;Func_type, T1, Types_to_construct...&gt;;<font></font>
<font></font>
	_Tagged_args_binder(Func_type func, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt;&amp; args)<font></font>
		: ap_arg{ <span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(args.at(<span class="hljs-number">0</span>))) },<font></font>
		ap_caller_part{ func, args } { }<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::move(ap_arg));
			<span class="hljs-keyword">return</span>;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::move(ap_arg)));<font></font>
		}<font></font>
	}<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::move(ap_arg));
			<span class="hljs-keyword">return</span>;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::move(ap_arg)));<font></font>
		}<font></font>
	}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:<font></font>
	_Tagged_args_binder&lt;Func_type, Type_pack_tag&lt;Types_to_construct...&gt;, Type_pack_tag&lt;T1&gt;&gt; ap_caller_part;<font></font>
	T1 ap_arg;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ap_arg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å‘¼ã³å‡ºã—ã®æœ€åˆã®å¼•æ•°ã¨</font><font style="vertical-align: inherit;">å†å¸°çš„ãª</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ap_caller_part</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ®‹ã‚Šã¯</font><i><font style="vertical-align: inherit;">ã“ã“ã«æ ¼ç´ã•ã‚Œã¾ã™</font></i><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ã‚¤ãƒ—ã¯ã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¿ã‚¤ãƒ—ã®æœ€åˆã®ãƒ‘ã‚±ãƒƒãƒˆã‹ã‚‰ã€å†å¸°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã€Œãƒ†ãƒ¼ãƒ«ã€ã®2ç•ªç›®ã®ãƒ‘ã‚±ãƒƒãƒˆã«ã€Œç§»å‹•ã€ã—ãŸ</font><font style="vertical-align: inherit;">ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å³è¾ºå€¤ãƒªãƒ³ã‚¯ã®ç‰¹æ®ŠåŒ–ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span>... Types_to_construct&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>&lt;Func_type, Type_pack_tag&lt;T1&amp;&amp;, Types_to_construct...&gt;, Type_pack_tag&lt;&gt;&gt;
{</span>
	<span class="hljs-keyword">using</span> move_ref_T1 = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">add_rvalue_reference_t</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T1&gt;&gt;;
<span class="hljs-keyword">public</span>:
	<span class="hljs-keyword">using</span> Ret_type = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">invoke_result_t</span>&lt;Func_type, move_ref_T1, Types_to_construct&gt;;<font></font>
<font></font>
	_Tagged_args_binder(Func_type func, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt;&amp; args)<font></font>
		: ap_arg{ <span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(args.at(<span class="hljs-number">0</span>))) },<font></font>
		ap_caller_part{ func, args }<font></font>
	{<font></font>
	}<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(ap_arg)));<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(ap_arg))));<font></font>
		}<font></font>
	}<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(ap_arg)));<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(ap_arg))));<font></font>
		}<font></font>
	}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:<font></font>
	_Tagged_args_binder&lt;Func_type, Type_pack_tag&lt;Types_to_construct...&gt;, Type_pack_tag&lt;move_ref_T1&gt;&gt; ap_caller_part;<font></font>
	<span class="hljs-built_in">std</span>::any ap_arg;<font></font>
}; </code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã€Œå³åˆ©ãã€ãƒªãƒ³ã‚¯ã¯ã€å®Ÿéš›ã«ã¯å³åˆ©ãã®æ„å‘³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã¯ã€ã®ç¨®é¡ã«å¿œã˜ã¦ã€ã„ã‚ã‚†ã‚‹ã€Œãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã€ã€ã‚ã‚‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã©ã¡ã‚‰ã‹ã«ãªã‚‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1ï¼† </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font><font style="vertical-align: inherit;">ã¾ãŸã¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1 &amp;&amp;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€å›é¿ç­–ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãšã€ç‰¹æ®ŠåŒ–ã¯ä¸¡æ–¹ã®ã‚¿ã‚¤ãƒ—ã®ãƒªãƒ³ã‚¯ã«å¯¾ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŸã‚ï¼ˆæ—¢ã«è¿°ã¹ãŸç†ç”±ã«ã‚ˆã‚Šã€æ­£ç¢ºã«ã¯è¨€ãˆã¾ã›ã‚“ï¼‰ã€éå‚ç…§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®å ´åˆã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹ã¨ã€å³åˆ©ãã®ãƒªãƒ³ã‚¯ã§ã‚ã£ã¦ã‚‚ç›®çš„ã®ç‰¹æ®ŠåŒ–ãŒé¸æŠã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€ã‚¿ã‚¤ãƒ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã§</font><font style="vertical-align: inherit;">è»¢é€ã™ã‚‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŸã‚ã«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font><i><font style="vertical-align: inherit;">move_ref_T1</font></i><font style="vertical-align: inherit;">ã®ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³</font><i><font style="vertical-align: inherit;">ãŒä½¿ç”¨ã•</font></i><font style="vertical-align: inherit;">ã‚Œã€å®Ÿéš›ã®å³è¾ºå€¤ãƒªãƒ³ã‚¯ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ã®ãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ãŸç‰¹æ®ŠåŒ–ã‚‚åŒæ§˜ã«è¡Œã‚ã‚Œã€å¿…è¦ãªä¿®æ­£ãŒè¡Œã‚ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç©¶æ¥µã®å°‚é–€</font></font></h4><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span>... Param_type&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>&lt;Func_type, Type_pack_tag&lt;&gt;, Type_pack_tag&lt;Param_type...&gt;&gt;
{</span>
<span class="hljs-keyword">public</span>:
	<span class="hljs-keyword">using</span> Ret_type = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">invoke_result_t</span>&lt;Func_type, Param_type...&gt;;<font></font>
<font></font>
	<span class="hljs-keyword">inline</span> _Tagged_args_binder(Func_type func, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt;&amp; args)<font></font>
		: ap_func{ func } { }<font></font>
	<font></font>
	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Param_type... param)</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, <span class="hljs-keyword">decltype</span>(ap_func(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)...))&gt;)</span>
		</span>{<font></font>
			ap_func(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)...);
			<span class="hljs-keyword">return</span>;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_func(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)...));<font></font>
		}<font></font>
	}<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Param_type... param)</span> <span class="hljs-keyword">const</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_func(param...);<font></font>
			<span class="hljs-keyword">return</span>;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_func(param...));<font></font>
		}<font></font>
	}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:<font></font>
	Func_type ap_func;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ç‰¹æ®ŠåŒ–ã¯ã€æ©Ÿèƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ ¼ç´ã‚’æ‹…å½“ã—ã€å®Ÿéš›ã«ã¯ã€ãã‚Œã«å¯¾ã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚ŒãŒæœ€å¾Œã®å†å¸°å‹ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type_pack_tagãŒ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã©ã®ã‚ˆã†ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ã«æ³¨æ„ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã™ã¹ã¦ã®ã‚¿ã‚¤ãƒ—ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒå·¦å´ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã¤ã¾ã‚Šã€ãã‚Œã‚‰ã¯ã™ã¹ã¦å‡¦ç†ãŠã‚ˆã³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã•ã¦ã€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type_pack_tag</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸç†ç”±ãŒæ˜ã‚‰ã‹ã«ãªã£ãŸã¨æ€ã„ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®Ÿéš›ã€ã“ã®è¨€èªã§ã¯ã€ãŸã¨ãˆã°æ¬¡ã®ã‚ˆã†ã«ã€2ã¤ã®ã‚¿ã‚¤ãƒ—ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸¦ã¹ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span>... Types_to_construct, <span class="hljs-keyword">typename</span>... Param_type&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>&lt;Func_type, T1, Types_to_construct..., Param_type...&gt;
{</span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€ãã‚Œã‚‰ã‚’2ã¤ã®ã‚¿ã‚¤ãƒ—å†…ã®2ã¤ã®å€‹åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«åˆ†é›¢ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã•ã‚‰ã«ã€å‡¦ç†ã•ã‚ŒãŸã‚¿ã‚¤ãƒ—ã‚’ã¾ã å‡¦ç†ã•ã‚Œã¦ã„ãªã„ã‚¿ã‚¤ãƒ—ã‹ã‚‰ä½•ã‚‰ã‹ã®æ–¹æ³•ã§åˆ†é›¢ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­ç´šå°‚é–€åˆ†é‡</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸­é–“çš„ãªç‰¹æ®ŠåŒ–ã‹ã‚‰ã€ç§ã¯æœ€å¾Œã«ç‰¹æ®ŠåŒ–ã‚’è¡Œã„ã¾ã™ã€‚ã“ã“ã§ã‚‚ã€å€¤å‹ã«ã¤ã„ã¦ã¯ã€æ®‹ã‚Šã¯é¡æ¨ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Func_type, <span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span>... Types_to_construct, <span class="hljs-keyword">typename</span>... Param_type&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> _<span class="hljs-title">Tagged_args_binder</span>&lt;Func_type, Type_pack_tag&lt;T1, Types_to_construct...&gt;, Type_pack_tag&lt;Param_type...&gt;&gt;
{</span>
<span class="hljs-keyword">public</span>:
	<span class="hljs-keyword">using</span> Ret_type = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">invoke_result_t</span>&lt;Func_type, Param_type..., T1, Types_to_construct...&gt;;<font></font>
<font></font>
	<span class="hljs-keyword">static_assert</span>(!<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, T1&gt;, <span class="hljs-string">"Void argument is not allowed"</span>);<font></font>
<font></font>
	<span class="hljs-keyword">inline</span> _Tagged_args_binder(Func_type func, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt;&amp; args)<font></font>
		: ap_arg{ <span class="hljs-built_in">std</span>::move(unihold::reference_any_cast&lt;T1&gt;(args.at(<span class="hljs-keyword">sizeof</span>...(Param_type)))) },<font></font>
		ap_caller_part{ func, args } { }<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Param_type... param)</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)..., <span class="hljs-built_in">std</span>::move(ap_arg));
			<span class="hljs-keyword">return</span>;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)..., <span class="hljs-built_in">std</span>::move(ap_arg)));<font></font>
		}<font></font>
	}<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Param_type... param)</span> <span class="hljs-keyword">const</span>
	</span>{
		<span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_same_v&lt;<span class="hljs-keyword">void</span>, Ret_type&gt;)</span>
		</span>{<font></font>
			ap_caller_part(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)..., <span class="hljs-built_in">std</span>::move(ap_arg));<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::forward&lt;Ret_type&gt;(ap_caller_part(<span class="hljs-built_in">std</span>::forward&lt;Param_type&gt;(param)..., <span class="hljs-built_in">std</span>::move(ap_arg)));<font></font>
		}<font></font>
	}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:<font></font>
	_Tagged_args_binder&lt;Func_type,<font></font>
		Type_pack_tag&lt;Types_to_construct...&gt;,<font></font>
		Type_pack_tag&lt;Param_type..., T1&gt;&gt; ap_caller_part;<font></font>
	T1 ap_arg;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ç‰¹æ®ŠåŒ–ã¯ã€æœ€åˆã®å¼•æ•°ä»¥å¤–ã®å¼•æ•°ã‚’ãƒ‘ãƒƒã‚¯ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚¯ãƒ©ã‚¹</font></font></h4><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_Tagged_args_binder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ã‚¯ãƒ©ã‚¹</font><i><font style="vertical-align: inherit;">ã¯</font></i><font style="vertical-align: inherit;">ç›´æ¥ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§</font><i><font style="vertical-align: inherit;">ã¯ã‚ã‚Š</font></i><font style="vertical-align: inherit;">ã¾ã›ã‚“ã€‚åå‰ã®å…ˆé ­ã«å˜ä¸€ã®ä¸‹ç·šã‚’ä»˜ã‘ã¦å¼·èª¿ã—ãŸã‹ã£ãŸã®ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€ç§ã¯ã€ã“ã®é†œãã¦ã‚¿ã‚¤ãƒ—ã‚’ä½¿ç”¨ã™ã‚‹ã®ã«ä¸ä¾¿ãªã€Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã€ã®ã‚ˆã†ãªå°ã•ãªã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¾ã™ï¼ˆãŸã ã—ã€ã“ã‚Œã¯ã‹ãªã‚Šçã—ã„C ++ã®ãƒˆãƒªãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€ç§ã®æ„è¦‹ã§ã¯ãã‚Œã‚’é­…åŠ›çš„ã«ã—ã¦ã„ã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> cutecpplib::delegates<font></font>
{<font></font>
	<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Functor_type, <span class="hljs-keyword">typename</span>... Param_type&gt;
	<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Variadic_args_binder</span>
	{</span>
		<span class="hljs-keyword">using</span> binder_type = impl::_Tagged_args_binder&lt;Functor_type, Type_pack_tag&lt;Param_type...&gt;, Type_pack_tag&lt;&gt;&gt;;<font></font>
<font></font>
	<span class="hljs-keyword">public</span>:
		<span class="hljs-keyword">using</span> Ret_type = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">invoke_result_t</span>&lt;binder_type&gt;;<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">Variadic_args_binder</span><span class="hljs-params">(Functor_type function, Param_type... param)</span>
			: ap_tagged_binder</span>{ function, param... } { }<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">Variadic_args_binder</span><span class="hljs-params">(Functor_type function, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::any&gt;&amp; args)</span>
			: ap_tagged_binder</span>{ function, args } { }<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span>
		</span>{
			<span class="hljs-keyword">return</span> ap_tagged_binder();<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span>
		</span>{
			<span class="hljs-keyword">return</span> ap_tagged_binder();<font></font>
		}<font></font>
<font></font>
	<span class="hljs-keyword">private</span>:<font></font>
		binder_type ap_tagged_binder;<font></font>
	};<font></font>
}<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uniholdè¦ç´„-stdå†…ã§ãƒªãƒ³ã‚¯ã‚’æ¸¡ã™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">::ä»»æ„</font></font></i></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ³¨æ„æ·±ã„èª­è€…ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unihold :: reference_any_castï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã«æ°—ä»˜ã„ã¦ã„ã‚‹</font><i><font style="vertical-align: inherit;">ã¯ãš</font></i><font style="vertical-align: inherit;">ã§ã™ã€‚ã“ã®é–¢æ•°ã¯ã€ã‚¢ãƒŠãƒ­ã‚°ã®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unihold :: pointer_any_castï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨åŒæ§˜ã«</font><font style="vertical-align: inherit;">ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåˆæ„ã‚’å®Ÿè£…ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚å‚ç…§ã«ã‚ˆã£ã¦æ¸¡ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹å¼•æ•°ã¯ã€ãƒã‚¤ãƒ³ã‚¿ã«ã‚ˆã£ã¦</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: anyã«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸¡ã•ã‚Œã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">reference_any_cast</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
é–¢æ•°</font><font style="vertical-align: inherit;">ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªä½“ãŒã‚³ãƒ³ãƒ†ãƒŠã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã‹ã€ãã‚Œã¸ã®ãƒã‚¤ãƒ³ã‚¿ã®ã¿ã§ã‚ã‚‹ã‹ã«ã‹ã‹ã‚ã‚‰ãšã€å¸¸ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã‚’è¿”ã—ã¾ã™ã€‚å ´åˆ</font><i><font style="vertical-align: inherit;">ã¯std ::ã„ãšã‚Œã‹ã®</font></i><font style="vertical-align: inherit;">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå«ã¾ã‚Œã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã¯ã€å®¹å™¨å†…ã«æˆ»ã•ã‚Œã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒã‚¤ãƒ³ã‚¿ãƒ¼ãŒæŒ‡ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ãŒè¿”ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">
é–¢æ•°ã”ã¨ã«ã€å®šæ•°</font><i><font style="vertical-align: inherit;">std :: anyã®</font></i><font style="vertical-align: inherit;">ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std ::</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒŠãŒ</font><font style="vertical-align: inherit;">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</font><font style="vertical-align: inherit;">ã®</font><font style="vertical-align: inherit;">æ‰€æœ‰è€…ã§ã‚ã‚‹ã‹ã€ãƒã‚¤ãƒ³ã‚¿ã®ã¿ãŒå«ã¾ã‚Œ</font><font style="vertical-align: inherit;">ã¦ã„ã‚‹ã‹ã‚’åˆ¤æ–­ã™ã‚‹ãŸã‚ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é–¢æ•°ã¯ã€C ++ã®å‹å¤‰æ›ã‚„åŒæ§˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–¢æ•°ã¨åŒæ§˜ã«ã€æ ¼ç´ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ã«æ˜ç¤ºçš„ã«ç‰¹åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;&amp; <span class="hljs-title">unihold::reference_any_cast</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::any&amp; wrapper)</span>
</span>{
	<span class="hljs-keyword">bool</span> result;
	<span class="hljs-keyword">return</span> reference_any_cast&lt;T&gt;(wrapper, result);<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;&amp; <span class="hljs-title">unihold::reference_any_cast</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::any&amp; wrapper)</span>
</span>{
	<span class="hljs-keyword">bool</span> result;
	<span class="hljs-keyword">return</span> reference_any_cast&lt;T&gt;(wrapper, result);<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;&amp; <span class="hljs-title">unihold::reference_any_cast</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::any&amp; wrapper, <span class="hljs-keyword">bool</span>&amp; is_owner)</span>
</span>{
	<span class="hljs-keyword">auto</span> ptr = pointer_any_cast&lt;T&gt;(&amp;wrapper, is_owner);
	<span class="hljs-keyword">if</span> (!ptr)
		<span class="hljs-keyword">throw</span> <span class="hljs-built_in">std</span>::bad_any_cast{ };
	<span class="hljs-keyword">return</span> *ptr;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;&amp; <span class="hljs-title">unihold::reference_any_cast</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::any&amp; wrapper, <span class="hljs-keyword">bool</span>&amp; is_owner)</span>
</span>{
	<span class="hljs-keyword">auto</span> ptr = pointer_any_cast&lt;T&gt;(&amp;wrapper, is_owner);
	<span class="hljs-keyword">if</span> (!ptr)
		<span class="hljs-keyword">throw</span> <span class="hljs-built_in">std</span>::bad_any_cast{ };
	<span class="hljs-keyword">return</span> *ptr;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;* <span class="hljs-title">unihold::pointer_any_cast</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::any* wrapper, <span class="hljs-keyword">bool</span>&amp; is_owner)</span>
</span>{
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
	<span class="hljs-keyword">using</span> NR_T = <span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;; <span class="hljs-comment">// No_reference_T</span>
	<span class="hljs-comment">//     wrapper</span><font></font>
	NR_T** double_ptr_to_original = any_cast&lt;NR_T*&gt;(wrapper);<font></font>
	<span class="hljs-comment">//      wrapper</span><font></font>
	NR_T* ptr_to_copy;<font></font>
	<span class="hljs-keyword">if</span> (double_ptr_to_original)<font></font>
	{<font></font>
		<span class="hljs-comment">// Wrapper     </span>
		is_owner = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">return</span> *double_ptr_to_original;<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ptr_to_copy = any_cast&lt;NR_T&gt;(wrapper))<font></font>
	{<font></font>
		<span class="hljs-comment">// Wrapper   </span>
		is_owner = <span class="hljs-literal">true</span>;
		<span class="hljs-keyword">return</span> ptr_to_copy;<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span><font></font>
	{<font></font>
		<span class="hljs-keyword">throw</span> bad_any_cast{};<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;* <span class="hljs-title">unihold::pointer_any_cast</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::any* wrapper, <span class="hljs-keyword">bool</span>&amp; is_owner)</span>
</span>{
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
	<span class="hljs-keyword">using</span> NR_T = <span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;; <span class="hljs-comment">// No_reference_T</span>
	<span class="hljs-comment">//     wrapper</span>
	NR_T*<span class="hljs-keyword">const</span> * double_ptr_to_original = any_cast&lt;NR_T*&gt;(wrapper);
	<span class="hljs-comment">//      wrapper</span>
	<span class="hljs-keyword">const</span> NR_T* ptr_to_copy;
	<span class="hljs-comment">//remove_reference_t&lt;T&gt;* ptr2 = any_cast&lt;remove_reference_t&lt;T&gt;&gt;(&amp;wrapper);</span>
	<span class="hljs-keyword">if</span> (double_ptr_to_original)<font></font>
	{<font></font>
		<span class="hljs-comment">// Wrapper     </span>
		is_owner = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">return</span> *double_ptr_to_original;<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ptr_to_copy = any_cast&lt;NR_T&gt;(wrapper))<font></font>
	{<font></font>
		<span class="hljs-comment">// Wrapper   </span>
		is_owner = <span class="hljs-literal">true</span>;
		<span class="hljs-keyword">return</span> ptr_to_copy;<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span><font></font>
	{<font></font>
		<span class="hljs-keyword">throw</span> bad_any_cast{};<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;* <span class="hljs-title">unihold::pointer_any_cast</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::any* wrapper)</span>
</span>{
	<span class="hljs-keyword">bool</span> result;
	<span class="hljs-keyword">return</span> pointer_any_cast&lt;T&gt;(wrapper, result);<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-keyword">remove_reference_t</span>&lt;T&gt;* <span class="hljs-title">unihold::pointer_any_cast</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::any* wrapper)</span>
</span>{
	<span class="hljs-keyword">bool</span> result;
	<span class="hljs-keyword">return</span> pointer_any_cast&lt;T&gt;(wrapper, result);<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµè«–</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ã§ã®å‹•çš„é–¢æ•°å‘¼ã³å‡ºã—ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®å¯èƒ½ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®1ã¤ã‚’ç°¡å˜ã«èª¬æ˜ã—ã‚ˆã†ã¨ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã®å¾Œã€ã“ã‚Œã¯C ++ãƒ‡ãƒªã‚²ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åŸºç¤ã‚’å½¢æˆã—ã¾ã™ï¼ˆå®Ÿéš›ã€ç§ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸»è¦æ©Ÿèƒ½ã€ã¤ã¾ã‚Šãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’æ—¢ã«è¨˜è¿°ã—ã¾ã—ãŸãŒã€ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã€ã„ãã¤ã‹ã®æœªå®Ÿç¾æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å¿…è¦ã«å¿œã˜ã¦æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚</font><font style="vertical-align: inherit;">è¿‘ã„å°†æ¥ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½œæ¥­ã‚’çµ‚äº†ã—ã€æ®‹ã‚Šã®ãƒ‡ãƒªã‚²ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’C ++ã«ã©ã®ã‚ˆã†ã«å®Ÿè£…ã—ãŸã‹ã‚’æ­£ç¢ºã«èª¬æ˜ã™ã‚‹äºˆå®šã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTTIã‚’ä½¿ç”¨ã—ãŸPSã«ã¤ã„ã¦ã¯ã€æ¬¡ã®ãƒ‘ãƒ¼ãƒˆã§èª¬æ˜ã—ã¾ã™ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457144/index.html">èª°ã‚‚å¿…è¦ã¨ã—ãªã„ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’ä½œæˆ</a></li>
<li><a href="../ja457150/index.html">æ–°ã—ã„Windowsã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒMicrosoftã‚¹ãƒˆã‚¢ã§å…¥æ‰‹å¯èƒ½ã«</a></li>
<li><a href="../ja457152/index.html">DEFCON 25ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€‚GarryKasparovã€‚ã€Œæœ€å¾Œã®è„³ã®æˆ¦ã„ã€ãƒ‘ãƒ¼ãƒˆ1</a></li>
<li><a href="../ja457154/index.html">ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªã‚¢ãƒ—ãƒªè¨­è¨ˆ</a></li>
<li><a href="../ja457156/index.html">å°†æ¥ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã¯ä½•ã‹</a></li>
<li><a href="../ja457164/index.html">ReactiveUIã¨Avaloniaã®ä¾‹ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ã‚£ã‚¹ã‚¯ã«çŠ¶æ…‹ã‚’ä¿å­˜ã™ã‚‹ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®.NET Coreã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</a></li>
<li><a href="../ja457168/index.html">Pythonã¨TextBlobã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ„Ÿæƒ…åˆ†æ</a></li>
<li><a href="../ja457172/index.html">ScreenLogger-ç¬‘é¡”ã€éš ã•ã‚ŒãŸã‚«ãƒ¡ãƒ©ãŒã‚ãªãŸã‚’æ’ƒã¡ã¾ã™</a></li>
<li><a href="../ja457178/index.html">ãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­è¨ˆã¨è£½é€ æ–¹æ³•ï¼šCPUè¨­è¨ˆ</a></li>
<li><a href="../ja457180/index.html">å…¬å¼ã‚µã‚¤ãƒˆNode.jsãŒãƒ­ã‚·ã‚¢èªã«ãªã‚Šã¾ã—ãŸ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>