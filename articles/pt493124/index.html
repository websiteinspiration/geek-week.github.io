<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîõ üêÖ üé§ Provisionamento bare-metal do tipo fa√ßa voc√™ mesmo ou prepara√ß√£o autom√°tica do servidor do zero üë®üèº‚Äçüåæ üà≤ üï£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°, sou Denis e uma das minhas √°reas de atividade √© o desenvolvimento de solu√ß√µes de infraestrutura no X5. Hoje eu gostaria de compartilhar com voc√™ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Provisionamento bare-metal do tipo fa√ßa voc√™ mesmo ou prepara√ß√£o autom√°tica do servidor do zero</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/493124/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ol√°, sou Denis e uma das minhas √°reas de atividade √© o desenvolvimento de solu√ß√µes de infraestrutura no X5. </font><font style="vertical-align: inherit;">Hoje eu gostaria de compartilhar com voc√™ sobre como voc√™ pode implantar um sistema automatizado de prepara√ß√£o de servidores com base em ferramentas dispon√≠veis publicamente. </font><font style="vertical-align: inherit;">Na minha opini√£o, esta √© uma solu√ß√£o interessante, simples e flex√≠vel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/aj/wx/csajwx5dsd-sdlngyst-pfrollu.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por prepara√ß√£o, entende-se: para fazer de um novo servidor pronto para uso, um servidor totalmente configurado com SO </font><font style="vertical-align: inherit;">Linux ou com o hypervisor ESXi (a convers√£o do servidor Windows n√£o √© discutida neste artigo). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidores - servidores que precisam ser configurados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor de instala√ß√£o - o servidor principal que fornece todo o processo de prepara√ß√£o pela rede.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que voc√™ precisa de automa√ß√£o?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que haja um problema: prepare em massa o servidor a partir do zero, no pico - 30 por dia. </font><font style="vertical-align: inherit;">Servidores de diferentes fabricantes e modelos, sistemas operacionais diferentes podem ser instalados neles, um hipervisor pode ou n√£o existir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quais opera√ß√µes est√£o inclu√≠das no processo de instala√ß√£o (sem automa√ß√£o):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conecte o teclado, mouse, monitor ao servidor;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurar BIOS, RAID, IPMI;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atualizar o firmware do componente;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implantar uma imagem do sistema de arquivos (ou instalar um hipervisor e copiar m√°quinas virtuais);</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota. </font><font style="vertical-align: inherit;">Como alternativa, a implanta√ß√£o do sistema operacional √© poss√≠vel atrav√©s da instala√ß√£o com um arquivo de resposta autom√°tica. </font><font style="vertical-align: inherit;">Mas isso n√£o ser√° discutido no artigo. </font><font style="vertical-align: inherit;">Embora voc√™ veja abaixo, √© f√°cil adicionar essa funcionalidade.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurar par√¢metros do sistema operacional (nome do host, IP etc.).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com essa abordagem, as mesmas configura√ß√µes s√£o executadas seq√ºencialmente em cada servidor. </font><font style="vertical-align: inherit;">A efic√°cia desse trabalho √© muito baixa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ess√™ncia da automa√ß√£o √© excluir o envolvimento humano do processo de prepara√ß√£o do servidor. </font><font style="vertical-align: inherit;">Tanto quanto poss√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gra√ßas √† automa√ß√£o, o tempo de inatividade entre as opera√ß√µes √© reduzido e torna-se poss√≠vel preparar v√°rios servidores ao mesmo tempo. </font><font style="vertical-align: inherit;">A probabilidade de erros devido ao fator humano tamb√©m √© bastante reduzida.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g7/ic/x1/g7icx1q3tb0yanpntf9jmw8n4p4.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como os servidores s√£o configurados automaticamente?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analisaremos todas as etapas em detalhes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ tem um servidor Linux que voc√™ usa como servidor de instala√ß√£o do PXE. </font><font style="vertical-align: inherit;">Os servi√ßos s√£o instalados e configurados nele: DHCP, TFTP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, carregamos o servidor (que precisa ser configurado) pelo PXE. </font><font style="vertical-align: inherit;">Lembre-se de como funciona:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O servidor selecionado para inicializar pela rede.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O servidor carrega o PXE-ROM da placa de rede e entra em contato com o servidor de instala√ß√£o via DHCP para obter o endere√ßo de rede.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O DHCP do servidor de instala√ß√£o fornece o endere√ßo, bem como instru√ß√µes para download adicional via PXE.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O servidor baixa o carregador de inicializa√ß√£o de rede do servidor de instala√ß√£o via PXE; o download adicional ocorre de acordo com o arquivo de configura√ß√£o do PXE.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O download √© realizado com base nos par√¢metros recebidos (kernel, initramfs, pontos de montagem, imagem squashfs, etc.).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota. </font><font style="vertical-align: inherit;">Este artigo descreve a inicializa√ß√£o do PXE via modo BIOS. </font><font style="vertical-align: inherit;">Atualmente, os fabricantes est√£o introduzindo ativamente o modo de inicializa√ß√£o UEFI. </font><font style="vertical-align: inherit;">Para o PXE, a diferen√ßa estar√° na configura√ß√£o do servidor DHCP e na presen√ßa de um carregador de inicializa√ß√£o adicional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere um exemplo de configura√ß√£o do servidor PXE (menu pxelinux). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivo pxelinux.cfg / padr√£o:</font></font><br>
<br>
<pre><code class="plaintext hljs">default menu.c32<font></font>
prompt 0<font></font>
timeout 100<font></font>
menu title X5 PXE Boot Menu<font></font>
LABEL InstallServer Menu<font></font>
	MENU LABEL InstallServer<font></font>
	KERNEL menu.c32<font></font>
	APPEND pxelinux.cfg/installserver<font></font>
LABEL VMware Menu<font></font>
	MENU LABEL VMware ESXi Install<font></font>
	KERNEL menu.c32<font></font>
	APPEND pxelinux.cfg/vmware<font></font>
LABEL toolkit //   <font></font>
	MENU LABEL Linux Scripting Toolkits<font></font>
	MENU default<font></font>
	KERNEL menu.c32<font></font>
	APPEND pxelinux.cfg/toolkit //    </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivo pxelinux.cfg / toolkit:</font></font><br>
<br>
<pre><code class="plaintext hljs">prompt 0<font></font>
timeout 100<font></font>
menu title X5 PXE Boot Menu<font></font>
label mainmenu<font></font>
    menu label ^Return to Main Menu<font></font>
    kernel menu.c32<font></font>
    append pxelinux.cfg/default<font></font>
label x5toolkit-auto //   ‚Äî  <font></font>
        menu label x5 toolkit autoinstall<font></font>
        menu default<font></font>
        kernel toolkit/tkcustom-kernel<font></font>
        append initrd=toolkit/tk-initramfs.gz quiet net.ifnames=0 biosdevname=0 nfs_toolkit_ip=192.168.200.1 nfs_toolkit_path=tftpboot/toolkit nfs_toolkit_script=scripts/mount.sh script_cmd=master-install.sh CMDIS2=‚Äù‚Ä¶‚Äù<font></font>
label x5toolkit-shell //   - <font></font>
        menu label x5 toolkit shell<font></font>
        kernel toolkit/tkcustom-kernel<font></font>
        append initrd=toolkit/tkcustom-initramfs.gz quiet net.ifnames=0 biosdevname=0 nfs_toolkit_ip=192.168.200.1 nfs_toolkit_path=tftpboot/toolkit nfs_toolkit_script=scripts/mount.sh script_cmd=/bin/bash CMDIS2=‚Äù‚Ä¶‚Äù</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O kernel e o initramfs neste est√°gio s√£o uma imagem linux intermedi√°ria, com a ajuda da qual a prepara√ß√£o e configura√ß√£o b√°sicas do servidor ocorrer√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, o carregador de inicializa√ß√£o passa muitos par√¢metros para o kernel. </font><font style="vertical-align: inherit;">Alguns desses par√¢metros s√£o usados ‚Äã‚Äãpelo pr√≥prio kernel. </font><font style="vertical-align: inherit;">E podemos usar alguns para nossos pr√≥prios prop√≥sitos. </font><font style="vertical-align: inherit;">Isso ser√° descrito mais adiante, mas por enquanto voc√™ pode se lembrar que todos os par√¢metros passados ‚Äã‚Äãestar√£o dispon√≠veis na imagem intermedi√°ria do linux via / proc / cmdline. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde obt√™-los, o kernel e o initramfs? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como base, voc√™ pode escolher qualquer distribui√ß√£o Linux. </font><font style="vertical-align: inherit;">O que prestamos aten√ß√£o ao escolher:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a imagem de inicializa√ß√£o deve ser universal (drivers dispon√≠veis, capacidade de instalar utilit√°rios adicionais);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">provavelmente, o initramfs precisar√° ser customizado.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como isso √© feito em nossa solu√ß√£o para o X5? O CentOS 7. foi escolhido como base.Vamos fazer o seguinte truque: preparar a estrutura futura da imagem, compact√°-la no arquivo morto e criar initramfs, dentro do qual ser√° nosso arquivo do sistema de arquivos. Ao carregar a imagem, o arquivo morto ser√° implantado na se√ß√£o tmpfs criada. Assim, obtemos uma imagem live-linux m√≠nima, por√©m completa, com todos os utilit√°rios necess√°rios, consistindo em apenas dois arquivos: vmkernel e initramfs.</font></font><br>
<br>
<pre><code class="plaintext hljs"># : <font></font>
<font></font>
mkdir -p /tftpboot/toolkit/CustomTK/rootfs /tftpboot/toolkit/CustomTK/initramfs/bin<font></font>
<font></font>
# :<font></font>
<font></font>
yum groups -y install "Minimal Install" --installroot=/tftpboot/toolkit/CustomTK/rootfs/<font></font>
yum -y install nfs-utils mariadb ntpdate mtools syslinux mdadm tbb libgomp efibootmgr dosfstools net-tools pciutils openssl make ipmitool OpenIPMI-modalias rng-tools --installroot=/tftpboot/toolkit/CustomTK/rootfs/<font></font>
yum -y remove biosdevname --installroot=/tftpboot/toolkit/CustomTK/rootfs/<font></font>
<font></font>
#  initramfs:<font></font>
<font></font>
wget https://busybox.net/downloads/binaries/1.31.0-defconfig-multiarch-musl/busybox-x86_64 -O /tftpboot/toolkit/CustomTK/initramfs/bin/busybox<font></font>
chmod a+x /tftpboot/toolkit/CustomTK/initramfs/bin/busybox<font></font>
cp /tftpboot/toolkit/CustomTK/rootfs/boot/vmlinuz-3.10.0-957.el7.x86_64 /tftpboot/toolkit/tkcustom-kernel<font></font>
<font></font>
#  /tftpboot/toolkit/CustomTK/initramfs/init (  ):<font></font>
<font></font>
#!/bin/busybox sh<font></font>
/bin/busybox --install /bin<font></font>
mkdir -p /dev /proc /sys /var/run /newroot<font></font>
mount -t proc proc /proc<font></font>
mount -o mode=0755 -t devtmpfs devtmpfs /dev<font></font>
mkdir -p /dev/pts /dev/shm /dev/mapper /dev/vc<font></font>
mount -t devpts -o gid=5,mode=620 devpts /dev/pts<font></font>
mount -t sysfs sysfs /sys<font></font>
mount -t tmpfs -o size=4000m tmpfs /newroot<font></font>
echo -n "Extracting rootfs... "<font></font>
xz -d -c -f rootfs.tar.xz | tar -x -f - -C /newroot<font></font>
echo "done"<font></font>
mkdir -p /newroot/dev /newroot/proc /newroot/sys<font></font>
mount --move /sys  /newroot/sys<font></font>
mount --move /proc /newroot/proc<font></font>
mount --move /dev  /newroot/dev<font></font>
exec switch_root /newroot /sbin/init<font></font>
<font></font>
#  rootfs  initramfs:<font></font>
<font></font>
cd /tftpboot/toolkit/CustomTK/rootfs<font></font>
tar cJf /tftpboot/toolkit/CustomTK/initramfs/rootfs.tar.xz --exclude ./proc --exclude ./sys --exclude ./dev .<font></font>
cd /tftpboot/toolkit/CustomTK/initramfs<font></font>
find . -print0 | cpio --null -ov --format=newc | gzip -9 &gt; /tftpboot/toolkit/tkcustom-initramfs-new.gz</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, n√≥s especificamos um kernel e initramfs que devem ser carregados. </font><font style="vertical-align: inherit;">Como resultado, nesta fase, ao baixar a imagem intermedi√°ria do linux via PXE, obtemos o console do SO. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√ìtimo, mas agora precisamos transferir o controle para a nossa "automa√ß√£o". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso pode ser feito assim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que, depois de carregar a imagem, planejemos transferir o controle para o script mount.sh. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inclu√≠mos o script mount.sh na execu√ß√£o autom√°tica. </font><font style="vertical-align: inherit;">Para fazer isso, voc√™ precisa modificar o initramfs:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descompacte initramfs (se usarmos a vers√£o acima do initramfs, isso n√£o ser√° necess√°rio)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclua no c√≥digo de inicializa√ß√£o que analisar√° os par√¢metros passados ‚Äã‚Äãpor / proc / cmdline e transfira o controle ainda mais;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pacote initramfs.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota. No caso do kit de ferramentas X5, o controle de inicializa√ß√£o √© transferido para </font></font><code>/opt/x5/toolkit/bin/hook.sh   override.conf  getty tty1 (ExecStart=‚Ä¶) </code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o script.Portanto, a imagem √© carregada, na qual o script mount.sh inicia na inicializa√ß√£o. Em seguida, o script mount.sh no processo de an√°lise analisa os par√¢metros passados ‚Äã‚Äã(script_cmd =) e inicia o programa / script necess√°rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
label toolkit- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auto</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kernel ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
append ... nfs_toolkit_script = scripts / mount.sh </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">script_cmd = master-install.sh</font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
label </font><b><font style="vertical-align: inherit;">toolkit- </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kernel ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
append ... nfs_toolkit_script = scripts / mount.sh </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">script_cmd = / bin / bash</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/w9/xc/8b/w9xc8b87fob_jooqjazqiyyiccm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aqui, no lado esquerdo, est√° o menu PXE , √† direita √© o esquema de transfer√™ncia de controle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com a transfer√™ncia de controle, descobrimos isso. </font><font style="vertical-align: inherit;">Dependendo da escolha do menu PXE, o script de ajuste autom√°tico ou o console de depura√ß√£o √© iniciado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No caso da configura√ß√£o autom√°tica, os diret√≥rios necess√°rios do servidor de instala√ß√£o s√£o montados, nos quais existem:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salvou modelos de BIOS / UEFI de v√°rios servidores;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firmware;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilit√°rios para servidores;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥rico.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, o script mount.sh transfere o controle para o script master-install.sh do diret√≥rio scripts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A √°rvore de scripts (a ordem do lan√ßamento) √© mais ou menos assim:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instala√ß√£o principal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sharefunctions (fun√ß√µes comuns)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informa√ß√£o (sa√≠da de informa√ß√£o)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelos (configurando par√¢metros de instala√ß√£o com base no modelo do servidor)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepare_utils (instalando os utilit√°rios necess√°rios)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fwupdate (atualiza√ß√£o de firmware)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diag (diagn√≥stico elementar)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biosconf (configura√ß√£o do BIOS / UEFI)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clockfix (definindo a hora na placa-m√£e)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">srmconf (configurando a interface remota)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raidconf (configurando volumes l√≥gicos)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
um de:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©-instala√ß√£o (transferindo o controle para o instalador do SO ou hypervisor, por exemplo ESXi)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instala√ß√£o mesclada (in√≠cio direto da descompacta√ß√£o da imagem)</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora sabemos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como inicializar o servidor via PXE;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como transferir o controle para seu pr√≥prio script.</font></font></li>
</ul></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos continuar. </font><font style="vertical-align: inherit;">Os seguintes problemas se tornaram relevantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como identificar o servidor que estamos preparando?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quais utilit√°rios e como configurar o servidor?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como obter configura√ß√µes para um servidor espec√≠fico?</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como identificar o servidor que estamos preparando?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â simples - DMI:</font></font><br>
<br>
<pre><code class="plaintext hljs">dmidecode ‚Äìs system-product-name<font></font>
dmidecode ‚Äìs system-manufacturer<font></font>
dmidecode ‚Äìs system-serial-number</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tem tudo o que voc√™ precisa: um fornecedor, um modelo, um n√∫mero de s√©rie. </font><font style="vertical-align: inherit;">Se voc√™ n√£o tiver certeza de que essas informa√ß√µes s√£o apresentadas em todos os servidores, √© poss√≠vel identific√°-las pelo endere√ßo MAC. </font><font style="vertical-align: inherit;">Ou nos dois sentidos ao mesmo tempo, se os fornecedores do servidor forem diferentes e, em alguns modelos, as informa√ß√µes do n√∫mero de s√©rie simplesmente n√£o estiverem dispon√≠veis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com base nas informa√ß√µes recebidas, as pastas de rede do servidor de instala√ß√£o s√£o montadas e todo o necess√°rio √© carregado (utilit√°rios, firmware, etc.).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quais utilit√°rios e como configurar o servidor?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou dar utilit√°rios para Linux para alguns fabricantes. </font><font style="vertical-align: inherit;">Todos os utilit√°rios est√£o dispon√≠veis nos sites oficiais dos fornecedores. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xx/xh/3f/xxxh3f0pg48elgtr8qn9r_wjp4q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com o firmware, acho que est√° tudo claro. </font><font style="vertical-align: inherit;">Eles geralmente v√™m em arquivos execut√°veis ‚Äã‚Äãcompactados. </font><font style="vertical-align: inherit;">O arquivo execut√°vel controla o processo de atualiza√ß√£o do firmware e relata um c√≥digo de retorno. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BIOS e IPMI geralmente s√£o configurados atrav√©s de modelos. </font><font style="vertical-align: inherit;">Se necess√°rio, o modelo pode ser editado antes do carregamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os utilit√°rios RAID para alguns fornecedores tamb√©m podem configurar de acordo com o modelo. </font><font style="vertical-align: inherit;">Se n√£o for esse o caso, voc√™ precisar√° escrever um script de configura√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O procedimento para configurar o RAID geralmente √© o seguinte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solicitamos a configura√ß√£o atual.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se j√° existem matrizes l√≥gicas, n√≥s as apagamos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examinamos quais discos f√≠sicos est√£o presentes e quantos deles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie uma nova matriz l√≥gica. </font><font style="vertical-align: inherit;">Interrompemos o processo em caso de erro.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como obter configura√ß√µes para um servidor espec√≠fico?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que todas as configura√ß√µes do servidor sejam armazenadas no servidor de instala√ß√£o. </font><font style="vertical-align: inherit;">Nesse caso, para responder √† nossa pergunta, primeiro voc√™ precisa decidir: como transferir as configura√ß√µes para o servidor de instala√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No come√ßo, √© bem poss√≠vel fazer com arquivos de texto. </font><font style="vertical-align: inherit;">(No futuro, voc√™ pode usar um arquivo de texto como forma de backup para transferir configura√ß√µes). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode "compartilhar" um arquivo de texto no servidor de instala√ß√£o. </font><font style="vertical-align: inherit;">E adicione-o ao script mount.sh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As linhas, por exemplo, ter√£o a seguinte apar√™ncia: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;n√∫mero de s√©rie&gt; &lt;nome do host&gt; &lt;sub-rede&gt; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas linhas ser√£o transferidas para o arquivo pelo engenheiro a partir de sua m√°quina em funcionamento. </font><font style="vertical-align: inherit;">E ent√£o, ao configurar o servidor, os par√¢metros para um servidor espec√≠fico ser√£o lidos no arquivo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por√©m, no futuro, √© melhor usar o banco de dados para armazenar as configura√ß√µes, estados e logs de instala√ß√£o do servidor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, um banco de dados n√£o pode funcionar e voc√™ precisar√° criar uma parte do cliente, com a ajuda da qual as configura√ß√µes ser√£o transferidas para o banco de dados. √â mais dif√≠cil de implementar do que um arquivo de texto, mas na verdade n√£o √© t√£o dif√≠cil quanto parece. A vers√£o m√≠nima do cliente, que simplesmente transfere dados para o banco de dados, √© bastante vi√°vel para se escrever. No futuro, ser√° poss√≠vel melhorar o programa cliente tamb√©m no modo livre (relat√≥rios, impress√£o de etiquetas, envio de notifica√ß√µes, etc., o que vier √† mente). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s fazer uma solicita√ß√£o espec√≠fica ao banco de dados e indicar o n√∫mero de s√©rie do servidor, obtemos os par√¢metros necess√°rios para a configura√ß√£o do servidor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, n√£o precisamos inventar bloqueios para acesso simult√¢neo, como √© o caso de um arquivo de texto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos escrever o log de configura√ß√£o em todas as etapas do banco de dados e controlar o processo de instala√ß√£o atrav√©s de eventos e sinalizadores das etapas de prepara√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora sabemos como:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carregar o servidor via PXE;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transferir controle para o nosso script;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identifique o servidor a ser preparado pelo n√∫mero de s√©rie;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurar o servidor com utilit√°rios apropriados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transfira as configura√ß√µes para o banco de dados do servidor de instala√ß√£o usando a parte do cliente.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobri como:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o servidor instalado recebe as configura√ß√µes necess√°rias do banco de dados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todo o progresso da prepara√ß√£o √© registrado no banco de dados (logs, eventos, sinalizadores de est√°gio).</font></font></li>
</ul></b><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E os diferentes tipos de software que est√£o sendo instalados? </font><font style="vertical-align: inherit;">Como instalar um hypervisor, copiar uma VM e configurar tudo isso?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No caso de implantar uma imagem do sistema de arquivos (linux) no hardware, tudo √© bem simples:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ap√≥s configurar todos os componentes do servidor, implante a imagem.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale o carregador de inicializa√ß√£o grub.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazemos chroot e configuramos tudo o que √© necess√°rio.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como transferir o controle para o instalador do SO (usando o ESXi como exemplo).</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organizamos a transfer√™ncia de controle do nosso script para o instalador do hypervisor usando o arquivo de resposta autom√°tica (kickstart):</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exclua as parti√ß√µes atuais no disco.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie uma parti√ß√£o de 500 MB.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marcamos como inicializa√ß√£o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formato em FAT32.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copiamos os arquivos de instala√ß√£o do ESXi para a raiz.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale o syslinux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie o syslinux.cfg para / syslinux /</font></font></li>
</ul><br>
<pre><code class="plaintext hljs">default esxi<font></font>
prompt 1<font></font>
timeout 50<font></font>
label esxi<font></font>
kernel mboot.c32<font></font>
append -c boot.cfg</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie o mboot.c32 para / syslinux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No boot.cfg deve haver kernelopt = ks = ftp: // &lt;IP do servidor de instala√ß√£o&gt; /ks_esxi.cfg</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reinicie o servidor.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s a reinicializa√ß√£o do servidor, o instalador do ESXi ser√° inicializado a partir do disco r√≠gido. </font><font style="vertical-align: inherit;">Todos os arquivos do instalador necess√°rios ser√£o carregados na mem√≥ria e a instala√ß√£o do ESXi come√ßar√°, de acordo com o arquivo de resposta autom√°tica especificado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√£o algumas linhas do arquivo de resposta autom√°tica ks_esxi.cfg:</font></font><br>
<br>
<pre><code class="plaintext hljs">%firstboot --interpreter=busybox<font></font>
‚Ä¶<font></font>
#   <font></font>
<font></font>
SYSSN=$(esxcli hardware platform get | grep Serial | awk -F " " '{print $3}')<font></font>
<font></font>
#  IP<font></font>
<font></font>
IPADDRT=$(esxcli network ip interface ipv4 get | grep vmk0 | awk -F " " '{print $2}')<font></font>
LAST_OCTET=$(echo $IPADDRT | awk -F'.' '{print $4}')<font></font>
<font></font>
#  NFS -<font></font>
<font></font>
esxcli storage nfs add -H is -s /srv/nfs_share -v nfsshare1<font></font>
<font></font>
#    ssh,   ssh-<font></font>
<font></font>
mv /etc/ssh /etc/ssh.tmp<font></font>
cp -R /vmfs/volumes/nfsshare1/ssh /etc/<font></font>
chmod go-r /etc/ssh/ssh_host_rsa_key<font></font>
<font></font>
#  ovftool,    ,    <font></font>
<font></font>
cp -R /vmfs/volumes/nfsshare1/ovftool /vmfs/volumes/datastore1/<font></font>
<font></font>
#  <font></font>
<font></font>
/vmfs/volumes/datastore1/ovftool/tools/ovftool --acceptAllEulas --noSSLVerify --datastore=datastore1 --name=VM1 /vmfs/volumes/nfsshare1/VM_T/VM1.ova vi://root:esxi_password@127.0.0.1<font></font>
/vmfs/volumes/datastore1/ovftool/tools/ovftool --acceptAllEulas --noSSLVerify --datastore=datastore1 --name=VM2 /vmfs/volumes/nfsshare1/VM_T/VM2.ova vi://root:esxi_password@127.0.0.1<font></font>
<font></font>
#      <font></font>
<font></font>
ssh root@is "mysql -h'192.168.0.1' -D'servers' -u'user' -p'secretpassword' -e \"SELECT ... WHERE servers.serial='$SYSSN'\"" | grep -v ^$ | sed 's/NULL//g' &gt; /tmp/servers<font></font>
...<font></font>
#    <font></font>
<font></font>
echo '#!/bin/sh' &gt; /vmfs/volumes/datastore1/netconf.sh<font></font>
echo "esxcli network ip interface ipv4 set -i=vmk0 -t=static --ipv4=$IPADDR --netmask=$S_SUB || exit 1" &gt;&gt; /vmfs/volumes/datastore1/netconf.sh<font></font>
echo "esxcli network ip route ipv4 add -g=$S_GW -n=default || exit 1" &gt;&gt; /vmfs/volumes/datastore1/netconf.sh<font></font>
chmod a+x /vmfs/volumes/datastore1/netconf.sh<font></font>
<font></font>
#   guestinfo.esxihost.id,     <font></font>
<font></font>
echo "guestinfo.esxihost.id = \"$SYSSN\"" &gt;&gt; /vmfs/volumes/datastore1/VM1/VM1.vmx<font></font>
echo "guestinfo.esxihost.id = \"$SYSSN\"" &gt;&gt; /vmfs/volumes/datastore1/VM2/VM2.vmx<font></font>
...<font></font>
#    <font></font>
<font></font>
SYSNAME=$(esxcli hardware platform get | grep Product | sed 's/Product Name://' | sed 's/^\ *//')<font></font>
UUID=$(vim-cmd hostsvc/hostsummary | grep uuid | sed 's/\ //g;s/,$//' | sed 's/^uuid="//;s/"$//')<font></font>
ssh root@is "mysql -D'servers' -u'user' -p'secretpassword' -e \"UPDATE servers ... SET ... WHERE servers.serial='$SYSSN'\""<font></font>
ssh root@is "mysql -D'servers' -u'user' -p'secretpassword' -e \"INSERT INTO events ...\""<font></font>
<font></font>
#   SSH<font></font>
<font></font>
rm -rf /etc/ssh<font></font>
mv /etc/ssh.tmp /etc/ssh<font></font>
<font></font>
#    <font></font>
<font></font>
esxcli system hostname set --fqdn=esx-${G_NICK}.x5.ru<font></font>
/vmfs/volumes/datastore1/netconf.sh<font></font>
reboot<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse est√°gio, um hipervisor √© instalado e configurado, as m√°quinas virtuais s√£o copiadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como configurar m√°quinas virtuais agora? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s trapaceamos um pouco: durante a instala√ß√£o, definimos o par√¢metro guestinfo.esxihost.id = "$ SYSSN" no arquivo VM1.vmx, indicando o n√∫mero de s√©rie do servidor f√≠sico nele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, ap√≥s o in√≠cio, a m√°quina virtual (com o pacote vmware-tools instalado) pode acessar este par√¢metro:</font></font><br>
<br>
<pre><code class="plaintext hljs">ESXI_SN=$(vmtoolsd --cmd "info-get guestinfo.esxihost.id")</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, a VM poder√° se identificar (sabe o n√∫mero de s√©rie do host f√≠sico), fazer uma solicita√ß√£o ao banco de dados do servidor de instala√ß√£o e obter os par√¢metros que precisam ser configurados. </font><font style="vertical-align: inherit;">Tudo isso √© executado em um script que deve ser iniciado automaticamente quando o guestos vm √© iniciado (mas uma vez: RunOnce). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora sabemos como:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carregar o servidor via PXE;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transferir controle para o nosso script;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identifique o servidor a ser preparado pelo n√∫mero de s√©rie;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurar o servidor com utilit√°rios apropriados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transferir configura√ß√µes para o banco de dados do servidor de instala√ß√£o usando a parte do cliente;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure v√°rios tipos de POs, incluindo a implanta√ß√£o do hipervisor esxi e a configura√ß√£o de m√°quinas virtuais (e todas automaticamente).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobri como:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o servidor instalado recebe as configura√ß√µes necess√°rias do banco de dados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todo o progresso da prepara√ß√£o √© registrado no banco de dados (logs, eventos, sinalizadores de est√°gio).</font></font></li>
</ul></b><br>
<u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o:</font></font></b></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
acredito que a singularidade desta solu√ß√£o reside em sua flexibilidade, simplicidade, capacidade e versatilidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por favor, escreva nos coment√°rios o que voc√™ pensa.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493112/index.html">Como iniciar um novo neg√≥cio em 6 meses em vez de 3 anos</a></li>
<li><a href="../pt493114/index.html">Como o engenheiro de dados assistiu os dados</a></li>
<li><a href="../pt493116/index.html">"Mais interatividade!" ou Como foi o TeamLead Conf 2020</a></li>
<li><a href="../pt493118/index.html">Vis√£o geral da extens√£o de marca√ß√£o de mem√≥ria (Armv8.5-A)</a></li>
<li><a href="../pt493122/index.html">Escrit√≥rio dos Jogos Banzai: Jap√£o no centro de Moscou</a></li>
<li><a href="../pt493126/index.html">Antipadr√µes da arquitetura orientada a eventos</a></li>
<li><a href="../pt493130/index.html">–ü–æ—á–µ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –±–æ—è—Ç—å—Å—è –∫–æ—Ä–æ–Ω–∞–≤–∏—Ä—É—Å–∞: –º–∏—Ñ—ã –∏ –ø–æ—á—Ç–∏ –ø—Ä–∞–≤–¥–∞ –æ COVID-2019</a></li>
<li><a href="../pt493132/index.html">Em torno de data.table</a></li>
<li><a href="../pt493136/index.html">FAST VP em Unity Storage: como funciona</a></li>
<li><a href="../pt493138/index.html">Fale comigo: o que os rob√¥s de voz podem fazer hoje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>