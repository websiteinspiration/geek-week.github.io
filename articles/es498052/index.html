<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùï üò§ ü•ï Zabbix 5.0 o Novedades con Template Server de IPMI üßöüèΩ üóª üöá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Debe controlar el equipo, y en su sistema Zabbix favorito no hay una plantilla preparada para este tipo de equipo. Situaci√≥n familiar? Todos se salen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zabbix 5.0 o Novedades con Template Server de IPMI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/498052/"><img src="https://habrastorage.org/webt/qb/2s/vv/qb2svvvulvembgowfo16hune6kq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debe controlar el equipo, y en su sistema Zabbix favorito no hay una plantilla preparada para este tipo de equipo. </font><font style="vertical-align: inherit;">Situaci√≥n familiar? </font><font style="vertical-align: inherit;">Todos se salen de su camino. </font><font style="vertical-align: inherit;">Un administrador est√° buscando una soluci√≥n en Internet. </font><font style="vertical-align: inherit;">El segundo est√° desarrollando el suyo. </font><font style="vertical-align: inherit;">Y algunos se dar√°n por vencidos en esta tarea. </font><font style="vertical-align: inherit;">Ahora el equipo de Zabbix con cada nueva versi√≥n expande el conjunto de plantillas predefinidas en el sistema. </font><font style="vertical-align: inherit;">Por ejemplo, en la pr√≥xima versi√≥n 5.0, aparecer√° una nueva plantilla universal para monitorear servidores a trav√©s de IPMI: Template Server by IPMI. </font><font style="vertical-align: inherit;">Los colegas pidieron ayuda para depurar su trabajo en equipos de varios fabricantes. </font><font style="vertical-align: inherit;">Para nosotros, esta sigue siendo una oportunidad √∫nica para organizar una prueba de manejo para una nueva funcionalidad. </font><font style="vertical-align: inherit;">Compartimos los resultados.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo se ve la nueva plantilla? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para monitorear su servidor usando esta plantilla, necesita crear un ‚Äúhost‚Äù en el sistema con monitoreo configurado a trav√©s de IPMI y adjuntarle una plantilla de Servidor de Plantillas por IPMI (Fig. 1). No habr√° una descripci√≥n detallada de esta operaci√≥n: las instrucciones detalladas se encuentran en la documentaci√≥n oficial de Zabbix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. 1. Plantilla de plantilla de servidor por IPMI</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eab/b66/5ae/eabb665aebebd1dcbb76251f4fd6bf30.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere los principios de esta plantilla y su estructura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base de la plantilla es la utilidad ipmitool. Le permite obtener las estad√≠sticas necesarias del equipo a trav√©s de IPMI. El uso de la funcionalidad de esta utilidad y la obtenci√≥n de todos los datos necesarios ahora est√° disponible para el usuario a trav√©s de la interfaz web utilizando el tipo de elemento de datos del agente IPMI y la clave especial ipmi.get. Esto solo fue posible gracias a la aparici√≥n de la clave ipmi.get en la nueva versi√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la plantilla de Template Server by IPMI, el elemento de datos de los elementos Obtener sensores IPMI es responsable de organizar la recopilaci√≥n de informaci√≥n utilizando esta nueva funcionalidad (Fig. 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. 2. √çtem Obtenga el √≠tem de sensores IPMI</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d1/c93/42f/3d1c9342fdfcc52a10728b7f7217e737.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado del funcionamiento del elemento de datos de los sensores Item Get IPMI, la informaci√≥n sobre el estado del equipo en un formato JSON estructurado aparece en el sistema Zabbix (Fig. 3). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">3. Un ejemplo del resultado del elemento de operaci√≥n Obtener sensores IPMI</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/7a2/614/3dd7a26140cff08a6c94c1e43439f47a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s del elemento de datos de los elementos Obtener sensores IPMI, la plantilla tambi√©n tiene dos reglas de detecci√≥n de detecci√≥n de sensores discretos (Fig. 4) y detecci√≥n de sensores de umbral (Fig. 5). </font><font style="vertical-align: inherit;">Estas reglas de descubrimiento utilizan el JSON resultante de la operaci√≥n del elemento Obtener datos de sensores IPMI para crear autom√°ticamente nuevos elementos de datos y disparadores. </font><font style="vertical-align: inherit;">Esto se ve claramente en las figuras a continuaci√≥n en la secci√≥n del art√≠culo maestro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">4. Regla de descubrimiento de sensores discretos</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a09/50e/c78/a0950ec78ae4ae2bb7bac56b5fcc7a6c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">5. Regla de descubrimiento de sensores de umbral</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d9/f2d/f0b/5d9f2df0b22d287f153c5ec934f538a1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© la plantilla usa dos reglas de detecci√≥n y no una? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El descubrimiento de sensores discretos permite la creaci√≥n autom√°tica de elementos de datos que son de tipo cadena en sus valores. Y la detecci√≥n de sensores de umbral de la regla de detecci√≥n le permite crear autom√°ticamente elementos de datos que son del tipo "n√∫mero" en sus valores. Adem√°s, esta regla puede formar hasta 6 disparadores para cada elemento de datos (Fig. 6). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los valores para las condiciones de activaci√≥n se toman de JSON, es decir, del propio dispositivo. Los disparadores se crean para 6 umbrales: inferior peligroso, inferior cr√≠tico, inferior no cr√≠tico, superior no cr√≠tico, superior cr√≠tico, superior peligroso. Si falta un valor para un umbral en JSON, no se crea un activador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En un disparador educado, el umbral se puede redefinir en el nivel de Zabbix. </font><font style="vertical-align: inherit;">Sin embargo, en nuestra opini√≥n, la forma m√°s l√≥gica de cambiar un disparador es convertirlo a nivel de equipo. </font><font style="vertical-align: inherit;">La forma de hacerlo generalmente se indica en las instrucciones del dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">6. 6 disparadores prototipo para reglas de detecci√≥n Descubrimiento de sensores de umbral</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/772/26b/190/77226b1904a38f64c3721c6709df9463.png"></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aproveche y vaya.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para probar Template Server por la plantilla IPMI, seleccionamos servidores de tres fabricantes: IBM, HP y Huawei. </font><font style="vertical-align: inherit;">Unos minutos despu√©s de la conexi√≥n, se obtuvieron los resultados que se muestran en la tabla. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabla 1. Resultados de la prueba del servidor de plantillas por IPMI</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fabricante de equipos</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo de equipo</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero de elementos de datos creados autom√°ticamente</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero de disparadores creados autom√°ticamente</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HP</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProLiant DL360 G5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veinte</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1288H V5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">175</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ibm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema x</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo el equipo pudo ponerse en marcha con √©xito usando la nueva plantilla y la nueva ipmi.key. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayor√≠a de los datos que pudimos obtener del equipo de Huawei, y menos a√∫n, de HP. </font><font style="vertical-align: inherit;">La raz√≥n de esto radica en la diferencia en el hardware de los dispositivos y no est√° relacionada con la calidad del trabajo de la nueva plantilla. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En las capturas de pantalla a continuaci√≥n, puede ver los elementos de datos y disparadores creados autom√°ticamente por la plantilla. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">7. Elementos de datos creados autom√°ticamente por la plantilla</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/caa/6d2/1b6/caa6d21b6c1a76171143301767da2610.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Higo. </font><font style="vertical-align: inherit;">8. Disparadores creados autom√°ticamente por la plantilla.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f38/9fd/19b/f389fd19b353ee63f4bbee48995ad923.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Template Server de IPMI demostr√≥ ser el mejor. Result√≥ ser f√°cil de usar y, lo m√°s importante, "universal". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plantilla Template Server by IPMI se incluir√° en la lista de plantillas base de Zabbix versi√≥n 5.0. Por nuestra parte, apoyamos firmemente este enfoque del fabricante. Incluso si los especialistas se ven obligados a crear sus propias plantillas especializadas, recomendamos tomar como base los enfoques establecidos por el propio fabricante y observados en Template Server por IPMI. Primero, use la detecci√≥n autom√°tica de elementos utilizando el elemento maestro. Y en segundo lugar, aplique la detecci√≥n de activaci√≥n autom√°tica utilizando el elemento maestro en casos en que esto sea posible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Bien y esperamos el lanzamiento de Zabbix 5.0 pronto!</font></font><br>
<br>
<i>:  ,    ¬´ ¬ª</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es498036/index.html">Mark Andriessen: es hora de crear para nosotros mismos (es hora de construir)</a></li>
<li><a href="../es498038/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 411 (13-19 de abril de 2020)</a></li>
<li><a href="../es498042/index.html">Analizar, no validar</a></li>
<li><a href="../es498046/index.html">Los investigadores est√°n desarrollando un enfoque para reducir el sesgo en los conjuntos de datos de visi√≥n por computadora</a></li>
<li><a href="../es498050/index.html">La cultura como base para escalar el equipo x2 cada a√±o. Sobre los errores de contrataci√≥n y el ajuste cultural</a></li>
<li><a href="../es498054/index.html">Derrota al Drag√≥n News Feed: Aseg√∫rate de vivir una buena vida</a></li>
<li><a href="../es498056/index.html">Eventos digitales en Mosc√∫ del 20 al 26 de abril.</a></li>
<li><a href="../es498060/index.html">Enfoque de ajuste industrial de PostgreSQL: experimentos de bases de datos Nikolay Samokhvalov</a></li>
<li><a href="../es498062/index.html">Seminarios semanales de IBM - abril de 2020</a></li>
<li><a href="../es498064/index.html">Emulador de mercado cl√°sico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>